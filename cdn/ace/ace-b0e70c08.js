function initAceSettings(){$("#ace-settings-btn").on(ace.click_event,function(e){e.preventDefault(),$(this).toggleClass("open"),$("#ace-settings-box").toggleClass("open")}),$("#ace-settings-navbar").on("click",function(){ace.settings.navbar_fixed(null,this.checked)}).each(function(){this.checked=ace.settings.is("navbar","fixed")}),$("#ace-settings-sidebar").on("click",function(){ace.settings.sidebar_fixed(null,this.checked)}).each(function(){this.checked=ace.settings.is("sidebar","fixed")}),$("#ace-settings-breadcrumbs").on("click",function(){ace.settings.breadcrumbs_fixed(null,this.checked)}).each(function(){this.checked=ace.settings.is("breadcrumbs","fixed")}),$("#ace-settings-add-container").on("click",function(){ace.settings.main_container_fixed(null,this.checked),$(".ui-grid").length>0&&location.reload()}).each(function(){this.checked=ace.settings.is("main-container","fixed")}),$("#ace-settings-compact").on("click",function(){if(this.checked){$("#sidebar").addClass("compact");var e=$("#ace-settings-hover");e.length>0&&e.removeAttr("checked").trigger("click")}else $("#sidebar").removeClass("compact"),$("#sidebar[data-sidebar-scroll=true]").ace_sidebar_scroll("reset");ace.vars.old_ie&&ace.helper.redraw($("#sidebar")[0],!0)}),$("#ace-settings-highlight").on("click",function(){this.checked?$("#sidebar .nav-list > li").addClass("highlight"):$("#sidebar .nav-list > li").removeClass("highlight"),ace.vars.old_ie&&ace.helper.redraw($("#sidebar")[0])}),$("#ace-settings-hover").on("click",function(){if(!$("#sidebar").hasClass("h-sidebar")){if(this.checked)$("#sidebar li").addClass("hover").filter(".open").removeClass("open").find("> .submenu").css("display","none");else{$("#sidebar li.hover").removeClass("hover");var e=$("#ace-settings-compact");e.length>0&&e.get(0).checked&&e.trigger("click")}$(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("reset"),$(".sidebar[data-sidebar-scroll=true]").ace_sidebar_scroll("reset"),ace.vars.old_ie&&ace.helper.redraw($("#sidebar")[0])}})}function jsonParser(){function evalEvene(option){var funcEvalString="new Function(";return angular.forEach(option.params,function(e,t){funcEvalString=funcEvalString+'"'+e+'",'}),funcEvalString=funcEvalString+'"'+option.body+'"',funcEvalString+=");",option=eval(funcEvalString)}var ser=this;ser.parseJson=function(e){if(angular.isDefined(e)){var t=angular.fromJson(e);return t.forEach(function(e){angular.forEach(e,function(t,i){angular.isObject(t)&&(t.isFunction?e[i]=evalEvene(t):angular.forEach(t,function(e,i){e.isFunction&&(t[i]=evalEvene(e))}))})}),t}}}"ace"in window||(window.ace={}),ace.config={cookie_expiry:604800,cookie_path:"",storage_method:2},"vars"in window.ace||(window.ace.vars={}),ace.vars.very_old_ie=!("querySelector"in document.documentElement),ace.settings={is:function(e,t){return 1==ace.data.get("settings",e+"-"+t)},exists:function(e,t){return null!==ace.data.get("settings",e+"-"+t)},set:function(e,t){ace.data.set("settings",e+"-"+t,1)},unset:function(e,t){ace.data.set("settings",e+"-"+t,-1)},remove:function(e,t){ace.data.remove("settings",e+"-"+t)},navbar_fixed:function(e,t,i,n){if(ace.vars.very_old_ie)return!1;var e=e||"#navbar",o="#main-container";if("string"==typeof e&&(e=document.querySelector(e)),"string"==typeof o&&(o=document.querySelector(o)),!e)return!1;if(t=t||!1,i=i&&!0,!t&&n!==!1){var r=null;(ace.settings.is("sidebar","fixed")||(r=document.getElementById("sidebar"))&&ace.hasClass(r,"sidebar-fixed"))&&ace.settings.sidebar_fixed(r,!1,i)}t?(ace.hasClass(e,"navbar-fixed-top")||ace.addClass(e,"navbar-fixed-top"),i!==!1&&ace.settings.set("navbar","fixed")):(ace.removeClass(e,"navbar-fixed-top"),i!==!1&&ace.settings.unset("navbar","fixed"));try{document.getElementById("ace-settings-navbar").checked=t}catch(a){}window.jQuery&&jQuery(document).trigger("settings.ace",["navbar_fixed",t,e])},sidebar_fixed:function(e,t,i,n){if(ace.vars.very_old_ie)return!1;$(".ui-grid").length>0&&location.reload();var e=e||"#sidebar",o="#headerbar",r="#main-content",a="#ace-settings-container",s="#headerbar",l="#navigationBar";if("string"==typeof r&&(r=document.querySelector(r)),"string"==typeof s&&(s=document.querySelector(s)),"string"==typeof l&&(l=document.querySelector(l)),"string"==typeof a&&(a=document.querySelector(a)),"string"==typeof e&&(e=document.querySelector(e)),"string"==typeof o&&(o=document.querySelector(o)),!e)return!1;if(t=t||!1,i=i&&!0,!t&&n!==!1){var c=null;(ace.settings.is("breadcrumbs","fixed")||(c=document.getElementById("breadcrumbs"))&&ace.hasClass(c,"breadcrumbs-fixed"))&&ace.settings.breadcrumbs_fixed(c,!1,i)}if(t&&n!==!1&&!ace.settings.is("navbar","fixed")&&ace.settings.navbar_fixed(null,!0,i),t){if(!ace.hasClass(e,"sidebar-fixed")){ace.addClass(e,"sidebar-fixed"),ace.addClass(o,"sidebar-fixed"),ace.addClass(a,"marginTop88"),ace.addClass(r,"marginTop88"),ace.addClass(e,"marginTop88");var d=document.getElementById("menu-toggler");d&&ace.addClass(d,"fixed")}i!==!1&&ace.settings.set("sidebar","fixed")}else{ace.removeClass(e,"sidebar-fixed"),ace.removeClass(o,"sidebar-fixed"),ace.removeClass(a,"marginTop88"),ace.removeClass(r,"marginTop88"),ace.removeClass(e,"marginTop88");var d=document.getElementById("menu-toggler");d&&ace.removeClass(d,"fixed"),i!==!1&&ace.settings.unset("sidebar","fixed")}try{document.getElementById("ace-settings-sidebar").checked=t}catch(u){}window.jQuery&&jQuery(document).trigger("settings.ace",["sidebar_fixed",t,e]),window.jQuery&&jQuery(document).trigger("settings.ace",["sidebar_fixed",t,o])},breadcrumbs_fixed:function(e,t,i,n){if(ace.vars.very_old_ie)return!1;var e=e||"#breadcrumbs";if("string"==typeof e&&(e=document.querySelector(e)),!e)return!1;t=t||!1,i=i&&!0,t&&n!==!1&&!ace.settings.is("sidebar","fixed")&&ace.settings.sidebar_fixed(null,!0,i),t?(ace.hasClass(e,"breadcrumbs-fixed")||ace.addClass(e,"breadcrumbs-fixed"),i!==!1&&ace.settings.set("breadcrumbs","fixed")):(ace.removeClass(e,"breadcrumbs-fixed"),i!==!1&&ace.settings.unset("breadcrumbs","fixed"));try{document.getElementById("ace-settings-breadcrumbs").checked=t}catch(o){}window.jQuery&&jQuery(document).trigger("settings.ace",["breadcrumbs_fixed",t,e])},main_container_fixed:function(e,t,i){if(ace.vars.very_old_ie)return!1;t=t||!1,i=i&&!0;var n="#main-content";"string"==typeof n&&(n=document.querySelector(n));var e=e||"#main-container";"string"==typeof e&&(e=document.querySelector(e));var o="#sidebar";"string"==typeof o&&(o=document.querySelector(o));var r="#sidebar-collapse";"string"==typeof r&&(r=document.querySelector(r));var a="#headerbar";if("string"==typeof a&&(a=document.querySelector(a)),!e)return!1;var s=document.getElementById("navbar-container");t?(ace.hasClass(e,"container")||(ace.addClass(e,"container"),ace.addClass(n,"marginLeft0"),ace.addClass(o,"menu-min"),ace.removeClass(o,"sidebar-scroll"),ace.addClass(o,"hide"),ace.removeClass(a,"sideBarNotFixed"),ace.addClass(a,"headerBarWidth")),s&&!ace.hasClass(s,"container")&&ace.addClass(s,"container"),i!==!1&&ace.settings.set("main-container","fixed")):(ace.removeClass(e,"container"),ace.removeClass(o,"menu-min"),ace.removeClass(n,"marginLeft0"),ace.addClass(o,"sidebar-scroll"),ace.removeClass(o,"hide"),ace.addClass(a,"sideBarNotFixed"),ace.removeClass(a,"headerBarWidth"),s&&ace.removeClass(s,"container"),i!==!1&&ace.settings.unset("main-container","fixed"));try{document.getElementById("ace-settings-add-container").checked=t}catch(l){}if(navigator.userAgent.match(/webkit/i)){var c=document.getElementById("sidebar");ace.toggleClass(c,"menu-min"),setTimeout(function(){ace.toggleClass(c,"menu-min")},0)}window.jQuery&&jQuery(document).trigger("settings.ace",["main_container_fixed",t,e])},sidebar_collapsed:function(e,t,i){if(ace.vars.very_old_ie)return!1;var e=e||"#sidebar";if("string"==typeof e&&(e=document.querySelector(e)),!e)return!1;if(t=t||!1,t?(ace.addClass(e,"menu-min"),i!==!1&&ace.settings.set("sidebar","collapsed")):(ace.removeClass(e,"menu-min"),i!==!1&&ace.settings.unset("sidebar","collapsed")),window.jQuery&&jQuery(document).trigger("settings.ace",["sidebar_collapsed",t,e]),!window.jQuery){var n=document.querySelector('.sidebar-collapse[data-target="#'+(e.getAttribute("id")||"")+'"]');if(n||(n=e.querySelector(".sidebar-collapse")),!n)return;var o,r,a=n.querySelector("[data-icon1][data-icon2]");if(!a)return;o=a.getAttribute("data-icon1"),r=a.getAttribute("data-icon2"),t?(ace.removeClass(a,o),ace.addClass(a,r)):(ace.removeClass(a,r),ace.addClass(a,o))}}},ace.settings.check=function(e,t){if(ace.settings.exists(e,t)){var i=ace.settings.is(e,t),n={"navbar-fixed":"navbar-fixed-top","sidebar-fixed":"sidebar-fixed","breadcrumbs-fixed":"breadcrumbs-fixed","sidebar-collapsed":"menu-min","main-container-fixed":"container"},o=document.getElementById(e);i!=ace.hasClass(o,n[e+"-"+t])&&ace.settings[e.replace("-","_")+"_"+t](null,i)}},ace.data_storage=function(e,t){var i="ace_",n=null,o=0;(1==e||e===t)&&"localStorage"in window&&null!==window.localStorage?(n=ace.storage,o=1):null==n&&(2==e||e===t)&&"cookie"in document&&null!==document.cookie&&(n=ace.cookie,o=2),this.set=function(e,t,r,a,s){if(n)if(r===s)r=t,t=e,null==r?n.remove(i+t):1==o?n.set(i+t,r):2==o&&n.set(i+t,r,ace.config.cookie_expiry,a||ace.config.cookie_path);else if(1==o)null==r?n.remove(i+e+"_"+t):n.set(i+e+"_"+t,r);else if(2==o){var l=n.get(i+e),c=l?JSON.parse(l):{};if(null==r){if(delete c[t],0==ace.sizeof(c))return void n.remove(i+e)}else c[t]=r;n.set(i+e,JSON.stringify(c),ace.config.cookie_expiry,a||ace.config.cookie_path)}},this.get=function(e,t,r){if(!n)return null;if(t===r)return t=e,n.get(i+t);if(1==o)return n.get(i+e+"_"+t);if(2==o){var a=n.get(i+e),s=a?JSON.parse(a):{};return t in s?s[t]:null}},this.remove=function(e,t,i){n&&(t===i?(t=e,this.set(t,null)):this.set(e,t,null))}},ace.cookie={get:function(e){var t,i,n=document.cookie,o=e+"=";if(n){if(i=n.indexOf("; "+o),-1==i){if(i=n.indexOf(o),0!=i)return null}else i+=2;return t=n.indexOf(";",i),-1==t&&(t=n.length),decodeURIComponent(n.substring(i+o.length,t))}},set:function(e,t,i,n,o,r){var a=new Date;"object"==typeof i&&i.toGMTString?i=i.toGMTString():parseInt(i,10)?(a.setTime(a.getTime()+1e3*parseInt(i,10)),i=a.toGMTString()):i="",document.cookie=e+"="+encodeURIComponent(t)+(i?"; expires="+i:"")+(n?"; path="+n:"")+(o?"; domain="+o:"")+(r?"; secure":"")},remove:function(e,t){this.set(e,"",-1e3,t)}},ace.storage={get:function(e){return window.localStorage.getItem(e)},set:function(e,t){window.localStorage.setItem(e,t)},remove:function(e){window.localStorage.removeItem(e)}},ace.sizeof=function(e){var t=0;for(var i in e)e.hasOwnProperty(i)&&t++;return t},ace.hasClass=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1},ace.addClass=function(e,t){if(!ace.hasClass(e,t)){var i=e.className;e.className=i+(i.length?" ":"")+t}},ace.removeClass=function(e,t){ace.replaceClass(e,t)},ace.replaceClass=function(e,t,i){var n=new RegExp("(^|\\s)"+t+"(\\s|$)","i");e.className=e.className.replace(n,function(e,t,n){return i?t+i+n:" "}).replace(/^\s+|\s+$/g,"")},ace.toggleClass=function(e,t){ace.hasClass(e,t)?ace.removeClass(e,t):ace.addClass(e,t)},ace.isHTTMlElement=function(e){return window.HTMLElement?e instanceof HTMLElement:"nodeType"in e?1==e.nodeType:!1},ace.data=new ace.data_storage(ace.config.storage_method),function(e,t){function i(t,i){function o(t){var i="",n=e(".breadcrumb");if(n.length>0&&n.is(":visible")){n.find("> li:not(:first-child)").remove();var o=0;t.parents(".nav li").each(function(){var t=e(this).find("> a"),r=t.clone();r.find("i,.fa,.glyphicon,.ace-icon,.menu-icon,.badge,.label").remove();var a=r.text();r.remove();var s=t.attr("href");if(0==o){var l=e('<li class="active"></li>').appendTo(n);l.text(a),i=a}else{var l=e("<li><a /></li>").insertAfter(n.find("> li:first-child"));l.find("a").attr("href",s).text(a)}o++})}return i}function r(t){var i=a.find(".ajax-append-title");if(i.length>0)document.title=i.text(),i.remove();else if(t.length>0){var n=e.trim(String(document.title).replace(/^(.*)[\-]/,""));n&&(n=" - "+n),t=e.trim(t)+n}}var a=e(t),s=this;a.attr("data-ajax-content","true");var l=ace.helper.getAttrSettings(t,e.fn.ace_ajax.defaults);this.settings=e.extend({},e.fn.ace_ajax.defaults,i,l);var c=!1,d=e();this.force_reload=!1,this.loadUrl=function(e,t){var i=!1;e=e.replace(/^(\#\!)?\#/,""),this.force_reload=t===!1,"function"==typeof this.settings.content_url&&(i=this.settings.content_url(e)),"string"==typeof i&&this.getUrl(i,e,!1)},this.loadAddr=function(e,t,i){this.force_reload=i===!1,this.getUrl(e,t,!1)},this.getUrl=function(t,i,n){if(!c){var l;a.trigger(l=e.Event("ajaxloadstart"),{url:t,hash:i}),l.isDefaultPrevented()||(s.startLoading(),e.ajax({url:t,cache:!this.force_reload}).error(function(){a.trigger("ajaxloaderror",{url:t,hash:i}),s.stopLoading(!0)}).done(function(l){a.trigger("ajaxloaddone",{url:t,hash:i});var c=null,u="";if("function"==typeof s.settings.update_active)c=s.settings.update_active.call(null,i,t);else if(s.settings.update_active===!0&&i&&(c=e('a[data-url="'+i+'"]'),c.length>0)){var p=c.closest(".nav");if(p.length>0){p.find(".active").each(function(){var t="active";(e(this).hasClass("hover")||s.settings.close_active)&&(t+=" open"),e(this).removeClass(t),s.settings.close_active&&e(this).find(" > .submenu").css("display","")});c.closest("li").addClass("active").parents(".nav li").addClass("active open");p.closest(".sidebar[data-sidebar-scroll=true]").each(function(){var t=e(this);t.ace_sidebar_scroll("reset"),n&&t.ace_sidebar_scroll("scroll_to_active")})}}"function"==typeof s.settings.update_breadcrumbs?u=s.settings.update_breadcrumbs.call(null,i,t,c):s.settings.update_breadcrumbs===!0&&null!=c&&c.length>0&&(u=o(c)),l=String(l).replace(/<(title|link)([\s\>])/gi,'<div class="hidden ajax-append-$1"$2').replace(/<\/(title|link)\>/gi,"</div>"),d.addClass("content-loaded").detach(),a.empty().html(l),e(s.settings.loading_overlay||a).append(d),setTimeout(function(){e("head").find("link.ace-ajax-stylesheet").remove();for(var t=["link.ace-main-stylesheet","link#main-ace-style",'link[href*="/ace.min.css"]','link[href*="/ace.css"]'],i=[],n=0;n<t.length&&(i=e("head").find(t[n]).first(),!(i.length>0));n++);a.find(".ajax-append-link").each(function(t){var n=e(this);if(n.attr("href")){var o=jQuery("<link />",{type:"text/css",rel:"stylesheet","class":"ace-ajax-stylesheet"});i.length>0?o.insertBefore(i):o.appendTo("head"),o.attr("href",n.attr("href"))}n.remove()})},10),"function"==typeof s.settings.update_title?s.settings.update_title.call(null,i,t,u):s.settings.update_title===!0&&r(u),n||e("html,body").animate({scrollTop:0},250),a.trigger("ajaxloadcomplete",{url:t,hash:i}),s.stopLoading()}))}};var u=!1,p=null;this.startLoading=function(){c||(c=!0,this.settings.loading_overlay||"static"!=a.css("position")||(a.css("position","relative"),u=!0),d.remove(),d=e('<div class="ajax-loading-overlay"><i class="ajax-loading-icon '+(this.settings.loading_icon||"")+'"></i> '+this.settings.loading_text+"</div>"),"body"==this.settings.loading_overlay?e("body").append(d.addClass("ajax-overlay-body")):this.settings.loading_overlay?e(this.settings.loading_overlay).append(d):a.append(d),this.settings.max_load_wait!==!1&&(p=setTimeout(function(){if(p=null,c){var t;a.trigger(t=e.Event("ajaxloadlong")),t.isDefaultPrevented()||s.stopLoading(!0)}},1e3*this.settings.max_load_wait)))},this.stopLoading=function(e){e===!0?(c=!1,d.remove(),u&&(a.css("position",""),u=!1),null!=p&&(clearTimeout(p),p=null)):(d.addClass("almost-loaded"),a.one("ajaxscriptsloaded.inner_call",function(){s.stopLoading(!0)}))},this.working=function(){return c},this.loadScripts=function(t,i){e.ajaxPrefilter("script",function(e){e.cache=!0}),setTimeout(function(){function o(){"function"==typeof i&&i(),e('.btn-group[data-toggle="buttons"] > .btn').button(),a.trigger("ajaxscriptsloaded")}function r(e){e+=1,e<t.length?s(e):o()}function s(i){if(i=i||0,!t[i])return r(i);var a="js-"+t[i].replace(/[^\w\d\-]/g,"-").replace(/\-\-/g,"-");n[a]!==!0?e.getScript(t[i]).done(function(){n[a]=!0}).complete(function(){d++,d>=l&&c?o():r(i)}):r(i)}for(var l=0,d=0,u=0;u<t.length;u++)t[u]&&!function(){var e="js-"+t[u].replace(/[^\w\d\-]/g,"-").replace(/\-\-/g,"-");n[e]!==!0&&l++}();l>0?s():o()},10)},e(window).off("hashchange.ace_ajax").on("hashchange.ace_ajax",function(t,i){var n=e.trim(window.location.hash);n&&0!=n.length&&s.loadUrl(n)}).trigger("hashchange.ace_ajax",[!0]);var g=e.trim(window.location.hash);!g&&this.settings.default_url&&(window.location.hash=this.settings.default_url)}var n={};e.fn.aceAjax=e.fn.ace_ajax=function(n,o,r,a){var s,l=this.each(function(){var l=e(this),c=l.data("ace_ajax"),d="object"==typeof n&&n;c||l.data("ace_ajax",c=new i(this,d)),"string"==typeof n&&"function"==typeof c[n]&&(s=a!=t?c[n](o,r,a):r!=t?c[n](o,r):c[n](o))});return s===t?l:s},e.fn.aceAjax.defaults=e.fn.ace_ajax.defaults={content_url:!1,default_url:!1,loading_icon:"fa fa-spin fa-spinner fa-2x orange",loading_text:"",loading_overlay:null,update_breadcrumbs:!0,update_title:!0,update_active:!0,close_active:!1,max_load_wait:!1}}(window.jQuery),function(e){"ace"in window||(window.ace={}),"helper"in window.ace||(window.ace.helper={}),"vars"in window.ace||(window.ace.vars={}),window.ace.vars.icon=" ace-icon ",window.ace.vars[".icon"]=".ace-icon",ace.vars.touch="ontouchstart"in window;var t=navigator.userAgent;ace.vars.webkit=!!t.match(/AppleWebKit/i),ace.vars.safari=!!t.match(/Safari/i)&&!t.match(/Chrome/i),ace.vars.android=ace.vars.safari&&!!t.match(/Android/i),ace.vars.ios_safari=!!t.match(/OS ([4-9])(_\d)+ like Mac OS X/i)&&!t.match(/CriOS/i),ace.vars.ie=window.navigator.msPointerEnabled||document.all&&document.querySelector,ace.vars.old_ie=document.all&&!document.addEventListener,ace.vars.very_old_ie=document.all&&!document.querySelector,ace.vars.firefox="MozAppearance"in document.documentElement.style,ace.vars.non_auto_fixed=ace.vars.android||ace.vars.ios_safari}(),function(e,t){ace.click_event=ace.vars.touch&&e.fn.tap?"tap":"click"}(jQuery),jQuery(function(e){function t(){ace.vars.non_auto_fixed&&e("body").addClass("mob-safari"),ace.vars.transition=!!e.support.transition.end}function i(){var t=e(".sidebar");e.fn.ace_sidebar&&t.ace_sidebar(),e.fn.ace_sidebar_scroll&&t.ace_sidebar_scroll({include_toggle:ace.vars.safari||ace.vars.ios_safari}),e.fn.ace_sidebar_hover&&t.ace_sidebar_hover({sub_hover_delay:750,sub_scroll_style:"no-track scroll-thin scroll-margin scroll-visible"})}function n(){if(e.fn.ace_ajax){window.Pace&&(window.paceOptions={ajax:!0,document:!0,eventLag:!1});var t={close_active:!0,default_url:"page/index",content_url:function(e){if(!e.match(/^page\//))return!1;var t=document.location.pathname;return t.match(/(\/ajax\/)(index\.html)?/)?t.replace(/(\/ajax\/)(index\.html)?/,"/ajax/content/"+e.replace(/^page\//,"")+".html"):t+"?"+e.replace(/\//,"=")}};window.Pace&&(t.loading_overlay="body"),e("[data-ajax-content=true]").ace_ajax(t),e(window).on("error.ace_ajax",function(){e("[data-ajax-content=true]").each(function(){var t=e(this);t.ace_ajax("working")&&(window.Pace&&Pace.running&&Pace.stop(),t.ace_ajax("stopLoading",!0))})})}}function o(){var t=!!e.fn.ace_scroll;t&&e(".dropdown-content").ace_scroll({reset:!1,mouseWheelLock:!0}),t&&!ace.vars.old_ie&&(e(window).on("resize.reset_scroll",function(){e(".ace-scroll:not(.scroll-disabled)").not(":hidden").ace_scroll("reset")}),t&&e(document).on("settings.ace.reset_scroll",function(t,i){"sidebar_collapsed"==i&&e(".ace-scroll:not(.scroll-disabled)").not(":hidden").ace_scroll("reset")}))}function r(){e(document).on("click.dropdown.pos",'.dropdown-toggle[data-position="auto"]',function(){var t=e(this).offset(),i=e(this.parentNode);parseInt(t.top+e(this).height())+50>ace.helper.scrollTop()+ace.helper.winHeight()-i.find(".dropdown-menu").eq(0).height()?i.addClass("dropup"):i.removeClass("dropup")})}function a(){e('.ace-nav [class*="icon-animated-"]').closest("a").one("click",function(){var t=e(this).find('[class*="icon-animated-"]').eq(0),i=t.attr("class").match(/icon\-animated\-([\d\w]+)/);t.removeClass(i[0])}),e(document).on("click",".dropdown-navbar .nav-tabs",function(t){t.stopPropagation();var i;t.target;(i=e(t.target).closest("[data-toggle=tab]"))&&i.length>0&&(i.tab("show"),t.preventDefault(),e(window).triggerHandler("resize.navbar.dropdown"))})}function s(){e(".sidebar .nav-list .badge[title],.sidebar .nav-list .badge[title]").each(function(){var t=e(this).attr("class").match(/tooltip\-(?:\w+)/);t=t?t[0]:"tooltip-error",e(this).tooltip({placement:function(t,i){var n=e(i).offset();return parseInt(n.left)<parseInt(document.body.scrollWidth/2)?"right":"left"},container:"body",template:'<div class="tooltip '+t+'"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})})}function l(){var t=e(".btn-scroll-up");if(t.length>0){var i=!1;e(window).on("scroll.scroll_btn",function(){var e=ace.helper.scrollTop(),n=ace.helper.winHeight(),o=document.body.scrollHeight;e>parseInt(n/4)||e>0&&o>=n&&n+e>=o-1?i||(t.addClass("display"),i=!0):i&&(t.removeClass("display"),i=!1)}).triggerHandler("scroll.scroll_btn"),t.on(ace.click_event,function(){var t=Math.min(500,Math.max(100,parseInt(ace.helper.scrollTop()/3)));return e("html,body").animate({scrollTop:0},t),!1})}}function c(){if(ace.vars.webkit){var t=e(".ace-nav").get(0);t&&e(window).on("resize.webkit_fix",function(){ace.helper.redraw(t)})}ace.vars.ios_safari&&e(document).on("ace.settings.ios_fix",function(t,i,n){"navbar_fixed"==i&&(e(document).off("focus.ios_fix blur.ios_fix","input,textarea,.wysiwyg-editor"),1==n&&e(document).on("focus.ios_fix","input,textarea,.wysiwyg-editor",function(){e(window).on("scroll.ios_fix",function(){var t=e("#navbar").get(0);t&&ace.helper.redraw(t)})}).on("blur.ios_fix","input,textarea,.wysiwyg-editor",function(){e(window).off("scroll.ios_fix")}))}).triggerHandler("ace.settings.ios_fix",["navbar_fixed","fixed"==e("#navbar").css("position")])}function d(){e(document).on("hide.bs.collapse show.bs.collapse",function(t){var i=t.target.getAttribute("id"),n=e('a[href*="#'+i+'"]');0==n.length&&(n=e('a[data-target*="#'+i+'"]')),0!=n.length&&n.find(ace.vars[".icon"]).each(function(){var i,n=e(this),o=null,r=null;return(o=n.attr("data-icon-show"))?r=n.attr("data-icon-hide"):(i=n.attr("class").match(/fa\-(.*)\-(up|down)/))&&(o="fa-"+i[1]+"-down",r="fa-"+i[1]+"-up"),o?("show"==t.type?n.removeClass(o).addClass(r):n.removeClass(r).addClass(o),!1):void 0})})}function u(){function t(){var t=e(this).find("> .dropdown-menu");if("fixed"==t.css("position")){var n=parseInt(e(window).width()),o=n>320?60:n>240?40:30,r=parseInt(n)-o,a=parseInt(e(window).height())-30,s=parseInt(Math.min(r,320));t.css("width",s);var l=!1,c=0,d=t.find(".tab-pane.active .dropdown-content.ace-scroll");0==d.length?d=t.find(".dropdown-content.ace-scroll"):l=!0;var u=d.closest(".dropdown-menu"),p=t[0].scrollHeight;if(1==d.length){var g=d.find(".scroll-content")[0];g&&(p=g.scrollHeight),c+=u.find(".dropdown-header").outerHeight(),c+=u.find(".dropdown-footer").outerHeight();var f=u.closest(".tab-content");0!=f.length&&(c+=f.siblings(".nav-tabs").eq(0).height())}var m=parseInt(Math.min(a,480,p+c)),h=parseInt(Math.abs((r+o-s)/2)),v=parseInt(Math.abs((a+30-m)/2)),b=parseInt(t.css("z-index"))||0;if(t.css({height:m,left:h,right:"auto",top:v-(l?3:1)}),1==d.length&&(ace.vars.touch?d.ace_scroll("disable").css("max-height",m-c).addClass("overflow-scroll"):d.ace_scroll("update",{size:m-c}).ace_scroll("enable").ace_scroll("reset")),t.css("height",m+(l?7:2)),t.hasClass("user-menu")){t.css("height","");var y=e(this).find(".user-info");1==y.length&&"fixed"==y.css("position")?y.css({left:h,right:"auto",top:v,width:s-2,"max-width":s-2,"z-index":b+1}):y.css({left:"",right:"",top:"",width:"","max-width":"","z-index":""})}e(this).closest(".navbar.navbar-fixed-top").css("z-index",b)}else 0!=t.length&&i.call(this,t);var w=this;e(window).off("resize.navbar.dropdown").one("resize.navbar.dropdown",function(){e(w).triggerHandler("shown.bs.dropdown.navbar")})}function i(t){if(t=t||e(this).find("> .dropdown-menu"),t.length>0&&(t.css({width:"",height:"",left:"",right:"",top:""}).find(".dropdown-content").each(function(){ace.vars.touch&&e(this).css("max-height","").removeClass("overflow-scroll");var t=parseInt(e(this).attr("data-size")||0)||e.fn.ace_scroll.defaults.size;e(this).ace_scroll("update",{size:t}).ace_scroll("enable").ace_scroll("reset")}),t.hasClass("user-menu"))){e(this).find(".user-info").css({left:"",right:"",top:"",width:"","max-width":"","z-index":""})}e(this).closest(".navbar").css("z-index","")}ace.vars.old_ie||e(".ace-nav > li").on("shown.bs.dropdown.navbar",function(e){t.call(this)}).on("hidden.bs.dropdown.navbar",function(t){e(window).off("resize.navbar.dropdown"),i.call(this)})}t(),i(),n(),o(),r(),a(),s(),l(),c(),d(),u()}),function(e,t){e.unCamelCase=function(e){return e.replace(/([a-z])([A-Z])/g,function(e,t,i){return t+"-"+i.toLowerCase()})},e.strToVal=function(e){var t=e.match(/^(?:(true)|(false)|(null)|(\-?[\d]+(?:\.[\d]+)?)|(\[.*\]|\{.*\}))$/i),i=e;if(t)if(t[1])i=!0;else if(t[2])i=!1;else if(t[3])i=null;else if(t[4])i=parseFloat(e);else if(t[5])try{i=JSON.parse(e)}catch(n){}return i},e.getAttrSettings=function(t,i,n){var o=i instanceof Array?1:2,n=n?n.replace(/([^\-])$/,"$1-"):"";n="data-"+n;var r={};for(var a in i)if(i.hasOwnProperty(a)){var s,l=1==o?i[a]:a,c=e.unCamelCase(l.replace(/[^A-Za-z0-9]{1,}/g,"-")).toLowerCase();if(!(s=t.getAttribute(n+c)))continue;r[l]=e.strToVal(s)}return r},e.scrollTop=function(){return document.scrollTop||document.documentElement.scrollTop||document.body.scrollTop},e.winHeight=function(){return window.innerHeight||document.documentElement.clientHeight},e.redraw=function(e,t){var i=e.style.display;e.style.display="none",e.offsetHeight,t!==!0?e.style.display=i:setTimeout(function(){e.style.display=i},10)}}(ace.helper),function(e,t){ace.vars.US_STATES=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Dakota","North Carolina","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"];try{e("#nav-search-input").bs_typeahead({source:ace.vars.US_STATES,updater:function(t){return e("#nav-search-input").focus(),t}})}catch(i){}}(window.jQuery),function(e,t){e("#ace-settings-rtl").removeAttr("checked").on("click",function(){i()});var i=function(){function t(t){function i(e,t){o.find("."+e).removeClass(e).addClass("tmp-rtl-"+e).end().find("."+t).removeClass(t).addClass(e).end().find(".tmp-rtl-"+e).removeClass("tmp-rtl-"+e).addClass(t)}var n=e(document.body);t||n.toggleClass("rtl"),t=t||document.body;var o=e(t);o.find(".dropdown-menu:not(.datepicker-dropdown,.colorpicker)").toggleClass("dropdown-menu-right").end().find(".pull-right:not(.dropdown-menu,blockquote,.profile-skills .pull-right)").removeClass("pull-right").addClass("tmp-rtl-pull-right").end().find(".pull-left:not(.dropdown-submenu,.profile-skills .pull-left)").removeClass("pull-left").addClass("pull-right").end().find(".tmp-rtl-pull-right").removeClass("tmp-rtl-pull-right").addClass("pull-left").end().find(".chosen-select").toggleClass("chosen-rtl").next().toggleClass("chosen-rtl"),i("align-left","align-right"),i("no-padding-left","no-padding-right"),i("arrowed","arrowed-right"),i("arrowed-in","arrowed-in-right"),i("tabs-left","tabs-right"),i("messagebar-item-left","messagebar-item-right"),e(".modal.aside-vc").ace_aside("flip").ace_aside("insideContainer"),o.find(".fa").each(function(){if(!(this.className.match(/ui-icon/)||e(this).closest(".fc-button").length>0))for(var t=this.attributes.length,i=0;t>i;i++){var n=this.attributes[i].value;n.match(/fa\-(?:[\w\-]+)\-left/)?this.attributes[i].value=n.replace(/fa\-([\w\-]+)\-(left)/i,"fa-$1-right"):n.match(/fa\-(?:[\w\-]+)\-right/)&&(this.attributes[i].value=n.replace(/fa\-([\w\-]+)\-(right)/i,"fa-$1-left"))}});var r=n.hasClass("rtl");r?(o.find(".scroll-hz").addClass("make-ltr").find(".scroll-content").wrapInner('<div class="make-rtl" />'),e(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("changeDir","right")):(o.find(".scroll-hz").removeClass("make-ltr").find(".make-rtl").children().unwrap(),e(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("changeDir","left")),e.fn.ace_scroll&&o.find(".scroll-hz").ace_scroll("reset");try{var a=e("#piechart-placeholder");if(a.length>0){var s=n.hasClass("rtl")?"nw":"ne";a.data("draw").call(a.get(0),a,a.data("chart"),s)}}catch(l){}ace.helper.redraw(t,!0)}if(0==e("#ace-rtl-stylesheet").length){var i=e("head").find("link.ace-main-stylesheet");0==i.length&&(i=e("head").find('link[href*="/ace.min.css"],link[href*="/ace-part2.min.css"]'),0==i.length&&(i=e("head").find('link[href*="/ace.css"],link[href*="/ace-part2.css"]')));var n=e("head").find("link#ace-skins-stylesheet"),o=i.first().attr("href").replace(/(\.min)?\.css$/i,"-rtl$1.css");e.ajax({url:o}).done(function(){var e=jQuery("<link />",{type:"text/css",rel:"stylesheet",id:"ace-rtl-stylesheet"});n.length>0?e.insertAfter(n):i.length>0?e.insertAfter(i.last()):e.appendTo("head"),e.attr("href",o),t(),window.Pace&&Pace.running&&Pace.stop()})}else t();e(".page-content-area[data-ajax-content=true]").on("ajaxscriptsloaded.rtl",function(){e("body").hasClass("rtl")&&t(this)})}}(jQuery),function(e,t){try{e("#skin-colorpicker").ace_colorpicker({auto_pos:!1})}catch(i){}e("#skin-colorpicker").on("change",function(){function t(t){var i=e(document.body);i.removeClass("no-skin skin-1 skin-2 skin-3"),i.addClass(t),ace.data.set("skin",t);var n=["red","blue","green",""];e(".ace-nav > li.grey").removeClass("dark"),e(".ace-nav > li").removeClass("no-border margin-1"),e(".ace-nav > li:not(:last-child)").removeClass("light-pink").find("> a > "+ace.vars[".icon"]).removeClass("pink").end().eq(0).find(".badge").removeClass("badge-warning"),e(".sidebar-shortcuts .btn").removeClass("btn-pink btn-white").find(ace.vars[".icon"]).removeClass("white"),e(".ace-nav > li.grey").removeClass("red").find(".badge").removeClass("badge-yellow"),e(".sidebar-shortcuts .btn").removeClass("btn-primary btn-white");var o=0;e(".sidebar-shortcuts .btn").each(function(){e(this).find(ace.vars[".icon"]).removeClass(n[o++])});var r=["btn-success","btn-info","btn-warning","btn-danger"];if("no-skin"==t){var o=0;e(".sidebar-shortcuts .btn").each(function(){e(this).attr("class","btn "+r[o++%4])}),e(".sidebar[data-sidebar-scroll=true]").ace_sidebar_scroll("updateStyle",""),e(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("updateStyle","no-track scroll-thin")}else if("skin-1"==t){e(".ace-nav > li.grey").addClass("dark");var o=0;e(".sidebar-shortcuts").find(".btn").each(function(){e(this).attr("class","btn "+r[o++%4])}),e(".sidebar[data-sidebar-scroll=true]").ace_sidebar_scroll("updateStyle","scroll-white no-track"),e(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("updateStyle","no-track scroll-thin scroll-white")}else if("skin-2"==t)e(".ace-nav > li").addClass("no-border margin-1"),e(".ace-nav > li:not(:last-child)").addClass("light-pink").find("> a > "+ace.vars[".icon"]).addClass("pink").end().eq(0).find(".badge").addClass("badge-warning"),e(".sidebar-shortcuts .btn").attr("class","btn btn-white btn-pink").find(ace.vars[".icon"]).addClass("white"),e(".sidebar[data-sidebar-scroll=true]").ace_sidebar_scroll("updateStyle","scroll-white no-track"),e(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("updateStyle","no-track scroll-thin scroll-white");else if("skin-3"==t){i.addClass("no-skin"),e(".ace-nav > li.grey").addClass("red").find(".badge").addClass("badge-yellow");var o=0;e(".sidebar-shortcuts .btn").each(function(){e(this).attr("class","btn btn-primary btn-white"),e(this).find(ace.vars[".icon"]).addClass(n[o++]);
}),e(".sidebar[data-sidebar-scroll=true]").ace_sidebar_scroll("updateStyle","scroll-dark no-track"),e(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("updateStyle","no-track scroll-thin")}e(".sidebar[data-sidebar-scroll=true]").ace_sidebar_scroll("reset"),ace.vars.old_ie&&ace.helper.redraw(document.body,!0)}var i=e(this).find("option:selected").data("skin");if(0==e("#ace-skins-stylesheet").length){var n=e("head").find("link.ace-main-stylesheet");0==n.length&&(n=e("head").find('link[href*="/ace.min.css"],link[href*="/ace-part2.min.css"]'),0==n.length&&(n=e("head").find('link[href*="/ace.css"],link[href*="/ace-part2.css"]')));var o=n.first().attr("href").replace(/(\.min)?\.css$/i,"-skins$1.css");e.ajax({url:o}).done(function(){var e=jQuery("<link />",{type:"text/css",rel:"stylesheet",id:"ace-skins-stylesheet"});n.length>0?e.insertAfter(n.last()):e.appendTo("head"),e.attr("href",o),t(i),window.Pace&&Pace.running&&Pace.stop()})}else t(i)})}(jQuery),function(e,t){function i(t,i){var r=this,a=e(window),s=e(t),l=s.find(".nav-list"),c=s.find(".sidebar-toggle").eq(0),d=s.find(".sidebar-shortcuts").eq(0),u=l.get(0);if(u){var p=ace.helper.getAttrSettings(t,e.fn.ace_sidebar_scroll.defaults);this.settings=e.extend({},e.fn.ace_sidebar_scroll.defaults,i,p);var g=r.settings.scroll_to_active,f=s.ace_sidebar("ref");s.attr("data-sidebar-scroll","true");var m=null,h=null,v=null,b=null,y=null,w=null;this.is_scrolling=!1;var C=!1;this.sidebar_fixed=o(t,"fixed");var _,x,S=function(){var e=l.parent().offset();return r.sidebar_fixed&&(e.top-=ace.helper.scrollTop()),a.innerHeight()-e.top-(r.settings.include_toggle?0:c.outerHeight())},E=function(){return u.clientHeight},k=function(t){if(!C&&r.sidebar_fixed){l.wrap('<div class="nav-wrap-up pos-rel" />'),l.after("<div><div></div></div>"),l.wrap('<div class="nav-wrap" />'),r.settings.include_toggle||c.css({"z-index":1}),r.settings.include_shortcuts||d.css({"z-index":99}),m=l.parent().next().ace_scroll({size:S(),mouseWheelLock:!0,hoverReset:!1,dragEvent:!0,styleClass:r.settings.scroll_style,touchDrag:!1}).closest(".ace-scroll").addClass("nav-scroll"),w=m.data("ace_scroll"),h=m.find(".scroll-content").eq(0),v=h.find(" > div").eq(0),y=e(w.get_track()),b=y.find(".scroll-bar").eq(0),r.settings.include_shortcuts&&0!=d.length&&(l.parent().prepend(d).wrapInner("<div />"),l=l.parent()),r.settings.include_toggle&&0!=c.length&&(l.append(c),l.closest(".nav-wrap").addClass("nav-wrap-t")),l.css({position:"relative"}),1==r.settings.scroll_outside&&m.addClass("scrollout"),u=l.get(0),u.style.top=0,h.on("scroll.nav",function(){u.style.top=-1*this.scrollTop+"px"}),l.on(e.event.special.mousewheel?"mousewheel.ace_scroll":"mousewheel.ace_scroll DOMMouseScroll.ace_scroll",function(e){return r.is_scrolling&&w.is_active()?m.trigger(e):!r.settings.lock_anyway}),l.on("mouseenter.ace_scroll",function(){y.addClass("scroll-hover")}).on("mouseleave.ace_scroll",function(){y.removeClass("scroll-hover")});var i=h.get(0);if(l.on("ace_drag.nav",function(t){if(!r.is_scrolling||!w.is_active())return void(t.retval.cancel=!0);if(0!=e(t.target).closest(".can-scroll").length)return void(t.retval.cancel=!0);if("up"==t.direction||"down"==t.direction){w.move_bar(!0);var n=t.dy;n=parseInt(Math.min(_,n)),Math.abs(n)>2&&(n=2*n),0!=n&&(i.scrollTop=i.scrollTop+n,u.style.top=-1*i.scrollTop+"px")}}),r.settings.smooth_scroll&&l.on("touchstart.nav MSPointerDown.nav pointerdown.nav",function(e){l.css("transition-property","none"),b.css("transition-property","none")}).on("touchend.nav touchcancel.nav MSPointerUp.nav MSPointerCancel.nav pointerup.nav pointercancel.nav",function(e){l.css("transition-property","top"),b.css("transition-property","top")}),n&&!r.settings.include_toggle){var o=c.get(0);o&&h.on("scroll.safari",function(){ace.helper.redraw(o)})}if(C=!0,1==t&&(r.reset(),g&&r.scroll_to_active(),g=!1),"number"==typeof r.settings.smooth_scroll&&r.settings.smooth_scroll>0&&(l.css({"transition-property":"top","transition-duration":(r.settings.smooth_scroll/1e3).toFixed(2)+"s"}),b.css({"transition-property":"top","transition-duration":(r.settings.smooth_scroll/1500).toFixed(2)+"s"}),m.on("drag.start",function(e){e.stopPropagation(),l.css("transition-property","none")}).on("drag.end",function(e){e.stopPropagation(),l.css("transition-property","top")})),ace.vars.android){var a=ace.helper.scrollTop();2>a&&(window.scrollTo(a,0),setTimeout(function(){r.reset()},20));var s,p=ace.helper.winHeight();e(window).on("scroll.ace_scroll",function(){r.is_scrolling&&w.is_active()&&(s=ace.helper.winHeight(),s!=p&&(p=s,r.reset()))})}}};this.scroll_to_active=function(){if(w&&w.is_active())try{var e,t=f.vars(),i=s.find(".nav-list");t.minimized&&!t.collapsible?e=i.find("> .active"):(e=l.find("> .active.hover"),0==e.length&&(e=l.find(".active:not(.open)")));var n=e.outerHeight();i=i.get(0);for(var o=e.get(0);o!=i;)n+=o.offsetTop,o=o.parentNode;var r=n-m.height();r>0&&(u.style.top=-r+"px",h.scrollTop(r))}catch(a){}},this.reset=function(e){if(e===!0&&(this.sidebar_fixed=o(t,"fixed")),!this.sidebar_fixed)return void this.disable();C||k();var i=f.vars(),n=!i.collapsible&&!i.horizontal&&(_=S())<(x=u.clientHeight);this.is_scrolling=!0,n&&(v.css({height:x,width:8}),m.prev().css({"max-height":_}),w.update({size:_}),w.enable(),w.reset()),n&&w.is_active()?s.addClass("sidebar-scroll"):this.is_scrolling&&this.disable()},this.disable=function(){this.is_scrolling=!1,m&&(m.css({height:"","max-height":""}),v.css({height:"",width:""}),m.prev().css({"max-height":""}),w.disable()),parseInt(u.style.top)<0&&r.settings.smooth_scroll&&e.support.transition.end?l.one(e.support.transition.end,function(){s.removeClass("sidebar-scroll"),l.off(".trans")}):s.removeClass("sidebar-scroll"),u.style.top=0},this.prehide=function(e){if(this.is_scrolling&&!f.get("minimized"))if(E()+e<S())this.disable();else if(0>e){var t=h.scrollTop()+e;if(0>t)return;u.style.top=-1*t+"px"}},this._reset=function(e){e===!0&&(this.sidebar_fixed=o(t,"fixed")),ace.vars.webkit?setTimeout(function(){r.reset()},0):this.reset()},this.set_hover=function(){y&&y.addClass("scroll-hover")},this.get=function(e){return this.hasOwnProperty(e)?this[e]:void 0},this.set=function(e,t){this.hasOwnProperty(e)&&(this[e]=t)},this.ref=function(){return this},this.updateStyle=function(e){null!=w&&w.update({styleClass:e})},s.on("hidden.ace.submenu.sidebar_scroll shown.ace.submenu.sidebar_scroll",".submenu",function(e){e.stopPropagation(),f.get("minimized")||(r._reset(),"shown"==e.type&&r.set_hover())}),k(!0)}}var n=ace.vars.safari&&navigator.userAgent.match(/version\/[1-5]/i),o="getComputedStyle"in window?function(e,t){return e.offsetHeight,window.getComputedStyle(e).position==t}:function(t,i){return t.offsetHeight,e(t).css("position")==i};e(document).on("settings.ace.sidebar_scroll",function(t,i,n){e(".sidebar[data-sidebar-scroll=true]").each(function(){var t=e(this),n=t.ace_sidebar_scroll("ref");if("sidebar_collapsed"==i&&o(this,"fixed"))"true"==t.attr("data-sidebar-hover")&&t.ace_sidebar_hover("reset"),n._reset();else if("sidebar_fixed"===i||"navbar_fixed"===i){var r=n.get("is_scrolling"),a=o(this,"fixed");n.set("sidebar_fixed",a),a&&!r?n._reset():a||n.disable()}})}),e(window).on("resize.ace.sidebar_scroll",function(){e(".sidebar[data-sidebar-scroll=true]").each(function(){var t=e(this);"true"==t.attr("data-sidebar-hover")&&t.ace_sidebar_hover("reset");var i=e(this).ace_sidebar_scroll("ref"),n=o(this,"fixed");i.set("sidebar_fixed",n),i._reset()})}),e.fn.ace_sidebar_scroll||(e.fn.ace_sidebar_scroll=function(n,o){var r,a=this.each(function(){var t=e(this),a=t.data("ace_sidebar_scroll"),s="object"==typeof n&&n;a||t.data("ace_sidebar_scroll",a=new i(this,s)),"string"==typeof n&&"function"==typeof a[n]&&(r=a[n](o))});return r===t?a:r},e.fn.ace_sidebar_scroll.defaults={scroll_to_active:!0,include_shortcuts:!0,include_toggle:!1,smooth_scroll:150,scroll_outside:!1,scroll_style:"",lock_anyway:!1})}(window.jQuery),function(e,t){function i(i,o){function r(){this.mobile_view=this.mobile_style<4&&this.is_mobile_view(),this.collapsible=!this.mobile_view&&this.is_collapsible(),this.minimized=!this.collapsible&&this.$sidebar.hasClass(u)||3==this.mobile_style&&this.mobile_view&&this.$sidebar.hasClass(p),this.horizontal=!(this.mobile_view||this.collapsible)&&this.$sidebar.hasClass(g)}var a=this;this.$sidebar=e(i),this.$sidebar.attr("data-sidebar","true"),this.$sidebar.attr("id")||this.$sidebar.attr("id","id-sidebar-"+ ++n);var s=ace.helper.getAttrSettings(i,e.fn.ace_sidebar.defaults,"sidebar-");this.settings=e.extend({},e.fn.ace_sidebar.defaults,o,s),this.minimized=!1,this.collapsible=!1,this.horizontal=!1,this.mobile_view=!1,this.vars=function(){return{minimized:this.minimized,collapsible:this.collapsible,horizontal:this.horizontal,mobile_view:this.mobile_view}},this.get=function(e){return this.hasOwnProperty(e)?this[e]:void 0},this.set=function(e,t){this.hasOwnProperty(e)&&(this[e]=t)},this.ref=function(){return this};var l=function(i){var n,o,r=e(this).find(ace.vars[".icon"]);r.length>0&&(n=r.attr("data-icon1"),o=r.attr("data-icon2"),i!==t?i?r.removeClass(n).addClass(o):r.removeClass(o).addClass(n):r.toggleClass(n).toggleClass(o))},c=function(){var t=a.$sidebar.find(".sidebar-collapse");return 0==t.length&&(t=e('.sidebar-collapse[data-target="#'+(a.$sidebar.attr("id")||"")+'"]')),t=0!=t.length?t[0]:null};this.toggleMenu=function(e,t){if(!this.collapsible){this.minimized=!this.minimized;try{ace.settings.sidebar_collapsed(i,this.minimized,!(e===!1||t===!1))}catch(n){this.minimized?this.$sidebar.addClass("menu-min"):this.$sidebar.removeClass("menu-min")}e||(e=c()),e&&l.call(e,this.minimized),ace.vars.old_ie&&ace.helper.redraw(i)}},this.collapse=function(e,t){this.collapsible||(this.minimized=!1,this.toggleMenu(e,t))},this.expand=function(e,t){this.collapsible||(this.minimized=!0,this.toggleMenu(e,t))},this.toggleResponsive=function(t){if(this.mobile_view&&3==this.mobile_style){if(this.$sidebar.hasClass("menu-min")){this.$sidebar.removeClass("menu-min");var i=c();i&&l.call(i)}if(this.minimized=!this.$sidebar.hasClass("responsive-min"),this.$sidebar.toggleClass("responsive-min responsive-max"),t||(t=this.$sidebar.find(".sidebar-expand"),0==t.length&&(t=e('.sidebar-expand[data-target="#'+(this.$sidebar.attr("id")||"")+'"]')),t=0!=t.length?t[0]:null),t){var n,o,r=e(t).find(ace.vars[".icon"]);r.length>0&&(n=r.attr("data-icon1"),o=r.attr("data-icon2"),r.toggleClass(n).toggleClass(o))}e(document).triggerHandler("settings.ace",["sidebar_collapsed",this.minimized])}},this.is_collapsible=function(){var t;return this.$sidebar.hasClass("navbar-collapse")&&null!=(t=e('.navbar-toggle[data-target="#'+(this.$sidebar.attr("id")||"")+'"]').get(0))&&t.scrollHeight>0},this.is_mobile_view=function(){var t;return null!=(t=e('.menu-toggler[data-target="#'+(this.$sidebar.attr("id")||"")+'"]').get(0))&&t.scrollHeight>0},this.$sidebar.on(ace.click_event+".ace.submenu",".nav-list",function(t){var i=this,n=e(t.target).closest("a");if(n&&0!=n.length){var o=a.minimized&&!a.collapsible;if(n.hasClass("dropdown-toggle")){t.preventDefault();var r=n.siblings(".submenu").get(0);if(!r)return!1;var s=e(r),l=0,c=r.parentNode.parentNode;if(o&&c==i||s.parent().hasClass("hover")&&"absolute"==s.css("position")&&!a.collapsible)return!1;var d=0==r.scrollHeight;return d&&e(c).find("> .open > .submenu").each(function(){this==r||e(this.parentNode).hasClass("active")||(l-=this.scrollHeight,a.hide(this,a.settings.duration,!1))}),d?(a.show(r,a.settings.duration),0!=l&&(l+=r.scrollHeight)):(a.hide(r,a.settings.duration),l-=r.scrollHeight),0!=l&&("true"!=a.$sidebar.attr("data-sidebar-scroll")||a.minimized||a.$sidebar.ace_sidebar_scroll("prehide",l)),!1}if("tap"==ace.click_event&&o&&n.get(0).parentNode.parentNode==i){var u=n.find(".menu-text").get(0);if(null!=u&&t.target!=u&&!e.contains(u,t.target))return t.preventDefault(),!1}if(ace.vars.ios_safari&&"false"!==n.attr("data-link"))return document.location=n.attr("href"),t.preventDefault(),!1}});var d=!1;this.show=function(t,i,n){if(n=n!==!1,n&&d)return!1;var o,r=e(t);if(r.trigger(o=e.Event("show.ace.submenu")),o.isDefaultPrevented())return!1;n&&(d=!0),i=i||this.settings.duration,r.css({height:0,overflow:"hidden",display:"block"}).removeClass("nav-hide").addClass("nav-show").parent().addClass("open"),t.scrollTop=0,i>0&&r.css({height:t.scrollHeight,"transition-property":"height","transition-duration":i/1e3+"s"});var a=function(t,i){t&&t.stopPropagation(),r.css({"transition-property":"","transition-duration":"",overflow:"",height:""}),i!==!1&&r.trigger(e.Event("shown.ace.submenu")),n&&(d=!1)};return i>0&&e.support.transition.end?r.one(e.support.transition.end,a):a(),ace.vars.android&&setTimeout(function(){a(null,!1),ace.helper.redraw(t)},i+20),!0},this.hide=function(t,i,n){if(n=n!==!1,n&&d)return!1;var o,r=e(t);if(r.trigger(o=e.Event("hide.ace.submenu")),o.isDefaultPrevented())return!1;n&&(d=!0),i=i||this.settings.duration,r.css({height:t.scrollHeight,overflow:"hidden",display:"block"}).parent().removeClass("open"),t.offsetHeight,i>0&&r.css({height:0,"transition-property":"height","transition-duration":i/1e3+"s"});var a=function(t,i){t&&t.stopPropagation(),r.css({display:"none",overflow:"",height:"","transition-property":"","transition-duration":""}).removeClass("nav-show").addClass("nav-hide"),i!==!1&&r.trigger(e.Event("hidden.ace.submenu")),n&&(d=!1)};return i>0&&e.support.transition.end?r.one(e.support.transition.end,a):a(),ace.vars.android&&setTimeout(function(){a(null,!1),ace.helper.redraw(t)},i+20),!0},this.toggle=function(e,t){if(t=t||a.settings.duration,0==e.scrollHeight){if(this.show(e,t))return 1}else if(this.hide(e,t))return-1;return 0};var u="menu-min",p="responsive-min",g="h-sidebar",f=function(){this.mobile_style=1,this.$sidebar.hasClass("responsive")&&!e('.menu-toggler[data-target="#'+this.$sidebar.attr("id")+'"]').hasClass("navbar-toggle")?this.mobile_style=2:this.$sidebar.hasClass(p)?this.mobile_style=3:this.$sidebar.hasClass("navbar-collapse")&&(this.mobile_style=4)};f.call(a),e(window).on("resize.sidebar.vars",function(){r.call(a)}).triggerHandler("resize.sidebar.vars")}var n=0;e(document).on(ace.click_event+".ace.menu",".menu-toggler",function(t){var i=e(this),n=e(i.attr("data-target"));if(0!=n.length){t.preventDefault(),n.toggleClass("display"),i.toggleClass("display");var o=ace.click_event+".ace.autohide",r="true"===n.attr("data-auto-hide");return i.hasClass("display")?(r&&e(document).on(o,function(t){return n.get(0)==t.target||e.contains(n.get(0),t.target)?void t.stopPropagation():(n.removeClass("display"),i.removeClass("display"),void e(document).off(o))}),"true"==n.attr("data-sidebar-scroll")&&n.ace_sidebar_scroll("reset")):r&&e(document).off(o),!1}}).on(ace.click_event+".ace.menu",".sidebar-collapse",function(t){var i=e(this).attr("data-target"),n=null;i&&(n=e(i)),null!=n&&0!=n.length||(n=e(this).closest(".sidebar")),0!=n.length&&(t.preventDefault(),n.ace_sidebar("toggleMenu",this))}).on(ace.click_event+".ace.menu",".sidebar-expand",function(t){var i=e(this).attr("data-target"),n=null;if(i&&(n=e(i)),null!=n&&0!=n.length||(n=e(this).closest(".sidebar")),0!=n.length){var o=this;t.preventDefault(),n.ace_sidebar("toggleResponsive",this);var r=ace.click_event+".ace.autohide";"true"===n.attr("data-auto-hide")&&(n.hasClass("responsive-max")?e(document).on(r,function(t){return n.get(0)==t.target||e.contains(n.get(0),t.target)?void t.stopPropagation():(n.ace_sidebar("toggleResponsive",o),void e(document).off(r))}):e(document).off(r))}}),e.fn.ace_sidebar=function(n,o){var r,a=this.each(function(){var t=e(this),a=t.data("ace_sidebar"),s="object"==typeof n&&n;a||t.data("ace_sidebar",a=new i(this,s)),"string"==typeof n&&"function"==typeof a[n]&&(r=o instanceof Array?a[n].apply(a,o):a[n](o))});return r===t?a:r},e.fn.ace_sidebar.defaults={duration:300}}(window.jQuery),function(e,t){function i(t,i){function s(t){var i=t,n=e(i),o=null,r=!1;this.show=function(){null!=o&&clearTimeout(o),o=null,n.addClass("hover-show hover-shown"),r=!0;for(var e=0;e<a.length;e++)a[e].find(".hover-show").not(".hover-shown").each(function(){l(this).hide()})},this.hide=function(){r=!1,n.removeClass("hover-show hover-shown hover-flip"),null!=o&&clearTimeout(o),o=null;var e=n.find("> .submenu").get(0);e&&c(e,"hide")},this.hideDelay=function(e){null!=o&&clearTimeout(o),n.removeClass("hover-shown"),o=setTimeout(function(){r=!1,n.removeClass("hover-show hover-flip"),o=null;var t=n.find("> .submenu").get(0);t&&c(t,"hide"),"function"==typeof e&&e.call(this)},p.settings.sub_hover_delay)},this.is_visible=function(){return r}}function l(t){var i=e(t).data("subHide");return i||e(t).data("subHide",i=new s(t)),i}function c(t,i){var n=e(t).data("ace_scroll");return n?"string"==typeof i?(n[i](),!0):n:!1}function d(i){var n=e(this),r=e(i);i.style.top="",i.style.bottom="";var a=null;h.minimized&&(a=n.find(".menu-text").get(0))&&(a.style.marginTop="");var s=ace.helper.scrollTop(),l=0,d=s;C&&(l=t.offsetTop,d+=l+1);var p=n.offset();p.top=parseInt(p.top);var g,f=0;i.style.maxHeight="";var v=i.scrollHeight,g=n.height();a&&(f=g,p.top+=f);var w=parseInt(p.top+v),x=0,S=y.height(),E=parseInt(p.top-d-f),k=S,A=h.horizontal,$=!1;A&&this.parentNode==m&&(x=0,p.top+=n.height(),$=!0),!$&&(x=w-(S+s))>=0&&(x=E>x?x:E,0==x&&(x=20),E-x>10&&(x+=parseInt(Math.min(25,E-x))),p.top+(g-f)>w-x&&(x-=p.top+(g-f)-(w-x)),x>0&&(i.style.top=-x+"px",a&&(a.style.marginTop=-x+"px"))),0>x&&(x=0);var T=x>0&&x>g-20;if(T?n.addClass("pull_up"):n.removeClass("pull_up"),A)if(n.parent().parent().hasClass("hover-flip"))n.addClass("hover-flip");else{var D=r.offset(),P=r.width(),R=y.width();D.left+P>R&&n.addClass("hover-flip")}var M=n.hasClass("hover")&&!h.mobile_view;if(!(M&&r.find("> li > .submenu").length>0)){var O=k-(p.top-s)+x,N=x-O;if(N>0&&g>N&&(O+=parseInt(Math.max(g,g-N))),O-=5,!(90>O)){var I=!1;if(o)r.addClass("sub-scroll").css("max-height",O+"px");else{if(I=c(i),0==I){r.ace_scroll({observeContent:!0,detached:!0,updatePos:!1,reset:!0,mouseWheelLock:!0,styleClass:u.settings.sub_scroll_style}),I=c(i);var F=I.get_track();F&&r.after(F)}I.update({size:O})}if(_=O,!o&&I){O>14&&v-O>4?(I.enable(),I.reset()):I.disable();var F=I.get_track();if(F){F.style.top=-(x-f-1)+"px";var p=r.position(),L=p.left;L+=b?2:r.outerWidth()-I.track_size(),F.style.left=parseInt(L)+"px",$&&(F.style.left=parseInt(L-2)+"px",F.style.top=parseInt(p.top)+(a?f-2:0)+"px")}}ace.vars.safari&&ace.helper.redraw(i)}}}var u=this,p=this,g=ace.helper.getAttrSettings(t,e.fn.ace_sidebar_hover.defaults);this.settings=e.extend({},e.fn.ace_sidebar_hover.defaults,i,g);var f=e(t),m=f.find(".nav-list").get(0);f.attr("data-sidebar-hover","true"),a.push(f);var h={},v=ace.vars.old_ie,b=!1;n&&(u.settings.sub_hover_delay=parseInt(Math.max(u.settings.sub_hover_delay,2500)));var y=e(window),w=e(".navbar").eq(0),C="fixed"==w.css("position");this.update_vars=function(){C="fixed"==w.css("position")},u.dirty=!1,this.reset=function(){0!=u.dirty&&(u.dirty=!1,f.find(".submenu").each(function(){var t=e(this),i=t.parent();t.css({top:"",bottom:"","max-height":""}),t.hasClass("ace-scroll")?t.ace_scroll("disable"):t.removeClass("sub-scroll"),r(this,"absolute")?t.addClass("can-scroll"):t.removeClass("can-scroll"),i.removeClass("pull_up").find(".menu-text:first").css("margin-top","")}),f.find(".hover-show").removeClass("hover-show hover-shown hover-flip"))},this.updateStyle=function(e){sub_scroll_style=e,f.find(".submenu.ace-scroll").ace_scroll("update",{styleClass:e})},this.changeDir=function(e){b="right"===e};var _=-1;o||f.on("hide.ace.submenu.sidebar_hover",".submenu",function(t){if(!(1>_)){t.stopPropagation();var i=e(this).closest(".ace-scroll.can-scroll");0!=i.length&&r(i[0],"absolute")&&i[0].scrollHeight-this.scrollHeight<_&&i.ace_scroll("disable")}}),o||f.on("shown.ace.submenu.sidebar_hover hidden.ace.submenu.sidebar_hover",".submenu",function(t){if(!(1>_)){var i=e(this).closest(".ace-scroll.can-scroll");if(0!=i.length&&r(i[0],"absolute")){var n=i[0].scrollHeight;_>14&&n-_>4?i.ace_scroll("enable").ace_scroll("reset"):i.ace_scroll("disable")}}});var x=-1,S=n?"touchstart.sub_hover":"mouseenter.sub_hover",E=n?"touchend.sub_hover touchcancel.sub_hover":"mouseleave.sub_hover";f.on(S,".nav-list li, .sidebar-shortcuts",function(t){if(h=f.ace_sidebar("vars"),!h.collapsible){var i=e(this),o=!1,a=i.hasClass("hover"),s=i.find("> .submenu").get(0);if(!(s||this.parentNode==m||a||(o=i.hasClass("sidebar-shortcuts"))))return void(s&&e(s).removeClass("can-scroll"));var c=s,p=!1;if(c||this.parentNode!=m||(c=i.find("> a > .menu-text").get(0)),!c&&o&&(c=i.find(".sidebar-shortcuts-large").get(0)),!(c&&(p=r(c,"absolute"))||a))return void(s&&e(s).removeClass("can-scroll"));var g=l(this);if(s)if(p){u.dirty=!0;var b=ace.helper.scrollTop();if(!g.is_visible()||!n&&b!=x||v)if(e(s).addClass("can-scroll"),v||n){var y=this;setTimeout(function(){d.call(y,s)},0)}else d.call(this,s);x=b}else e(s).removeClass("can-scroll");g.show()}}).on(E,".nav-list li, .sidebar-shortcuts",function(t){h=f.ace_sidebar("vars"),h.collapsible||e(this).hasClass("hover-show")&&l(this).hideDelay()})}if(!ace.vars.very_old_ie){var n=ace.vars.touch,o=ace.vars.old_ie||n,r="getComputedStyle"in window?function(e,t){return e.offsetHeight,window.getComputedStyle(e).position==t}:function(t,i){return t.offsetHeight,e(t).css("position")==i};e(window).on("resize.sidebar.ace_hover",function(){e(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("update_vars").ace_sidebar_hover("reset")}),e(document).on("settings.ace.ace_hover",function(t,i,n){"sidebar_collapsed"==i?e(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("reset"):"navbar_fixed"==i&&e(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("update_vars")});var a=[];e.fn.ace_sidebar_hover=function(n,o){var r,a=this.each(function(){var t=e(this),a=t.data("ace_sidebar_hover"),s="object"==typeof n&&n;a||t.data("ace_sidebar_hover",a=new i(this,s)),"string"==typeof n&&"function"==typeof a[n]&&(r=a[n](o))});return r===t?a:r},e.fn.ace_sidebar_hover.defaults={sub_sub_hover_delay:750,sub_scroll_style:"no-track scroll-thin"}}}(window.jQuery),function(e,t){if(ace.vars.touch){var i="touchstart MSPointerDown pointerdown",n="touchend touchcancel MSPointerUp MSPointerCancel pointerup pointercancel",o="touchmove MSPointerMove MSPointerHover pointermove";e.event.special.ace_drag={setup:function(){var r=0,a=e(this);a.on(i,function(i){function s(e){if(d){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;if(l={coords:[t.pageX,t.pageY]},d&&l&&(p=0,g=0,u=Math.abs(g=d.coords[1]-l.coords[1])>r&&Math.abs(p=d.coords[0]-l.coords[0])<=Math.abs(g)?g>0?"up":"down":Math.abs(p=d.coords[0]-l.coords[0])>r&&Math.abs(g)<=Math.abs(p)?p>0?"left":"right":!1,u!==!1)){var i={cancel:!1};d.origin.trigger({type:"ace_drag",direction:u,dx:p,dy:g,retval:i}),0==i.cancel&&e.preventDefault()}d.coords[0]=l.coords[0],d.coords[1]=l.coords[1]}}var l,c=i.originalEvent.touches?i.originalEvent.touches[0]:i,d={coords:[c.pageX,c.pageY],origin:e(i.target)},u=!1,p=0,g=0;a.on(o,s).one(n,function(e){a.off(o,s),d=l=t})})}}}}(window.jQuery),function(e,t){function i(t,i){var n=t.find(".widget-main").eq(0);e(window).off("resize.widget.scroll");var o=ace.vars.old_ie||ace.vars.touch;if(i){var r=n.data("ace_scroll");r&&n.data("save_scroll",{size:r.size,lock:r.lock,lock_anyway:r.lock_anyway});var a=t.height()-t.find(".widget-header").height()-10;a=parseInt(a),n.css("min-height",a),o?(r&&n.ace_scroll("disable"),n.css("max-height",a).addClass("overflow-scroll")):(r?n.ace_scroll("update",{size:a,mouseWheelLock:!0,lockAnyway:!0}):n.ace_scroll({size:a,mouseWheelLock:!0,lockAnyway:!0}),n.ace_scroll("enable").ace_scroll("reset")),e(window).on("resize.widget.scroll",function(){var e=t.height()-t.find(".widget-header").height()-10;e=parseInt(e),n.css("min-height",e),o?n.css("max-height",e).addClass("overflow-scroll"):n.ace_scroll("update",{size:e}).ace_scroll("reset")})}else{n.css("min-height","");var s=n.data("save_scroll");s&&n.ace_scroll("update",{size:s.size,mouseWheelLock:s.lock,lockAnyway:s.lock_anyway}).ace_scroll("enable").ace_scroll("reset"),o?n.css("max-height","").removeClass("overflow-scroll"):s||n.ace_scroll("disable")}}var n=function(t,n){this.$box=e(t);this.reload=function(){var e=this.$box,t=!1;"static"==e.css("position")&&(t=!0,e.addClass("position-relative")),e.append('<div class="widget-box-overlay"><i class="'+ace.vars.icon+'loading-icon fa fa-spinner fa-spin fa-2x white"></i></div>'),e.one("reloaded.ace.widget",function(){e.find(".widget-box-overlay").remove(),t&&e.removeClass("position-relative")})},this.close=function(){var e=this.$box,t=300;e.fadeOut(t,function(){e.trigger("closed.ace.widget"),e.remove()})},this.toggle=function(e,t){var i=this.$box,n=i.find(".widget-body").eq(0),o=null,r="undefined"!=typeof e?e:i.hasClass("collapsed")?"show":"hide",a="show"==r?"shown":"hidden";if("undefined"==typeof t&&(t=i.find("> .widget-header a[data-action=collapse]").eq(0),0==t.length&&(t=null)),t){o=t.find(ace.vars[".icon"]).eq(0);var s,l=null,c=null;(l=o.attr("data-icon-show"))?c=o.attr("data-icon-hide"):(s=o.attr("class").match(/fa\-(.*)\-(up|down)/))&&(l="fa-"+s[1]+"-down",c="fa-"+s[1]+"-up")}var d=250,u=200;"show"==r?(o&&o.removeClass(l).addClass(c),n.hide(),i.removeClass("collapsed"),n.slideDown(d,function(){i.trigger(a+".ace.widget")})):(o&&o.removeClass(c).addClass(l),n.slideUp(u,function(){i.addClass("collapsed"),i.trigger(a+".ace.widget")}))},this.hide=function(){this.toggle("hide")},this.show=function(){this.toggle("show")},this.fullscreen=function(){var e=this.$box.find("> .widget-header a[data-action=fullscreen]").find(ace.vars[".icon"]).eq(0),t=null,n=null;(t=e.attr("data-icon1"))?n=e.attr("data-icon2"):(t="fa-expand",n="fa-compress"),this.$box.hasClass("fullscreen")?(e.addClass(t).removeClass(n),this.$box.removeClass("fullscreen"),i(this.$box,!1)):(e.removeClass(t).addClass(n),this.$box.addClass("fullscreen"),i(this.$box,!0)),this.$box.trigger("fullscreened.ace.widget")}};e.fn.widget_box=function(i,o){var r,a=this.each(function(){var t=e(this),a=t.data("widget_box"),s="object"==typeof i&&i;a||t.data("widget_box",a=new n(this,s)),"string"==typeof i&&(r=a[i](o))});return r===t?a:r},e(document).on("click.ace.widget",".widget-header a[data-action]",function(t){t.preventDefault();var i=e(this),o=i.closest(".widget-box");if(0!=o.length&&!o.hasClass("ui-sortable-helper")){var r=o.data("widget_box");r||o.data("widget_box",r=new n(o.get(0)));var a=i.data("action");if("collapse"==a){var s,l=o.hasClass("collapsed")?"show":"hide";if(o.trigger(s=e.Event(l+".ace.widget")),s.isDefaultPrevented())return;r.toggle(l,i)}else if("close"==a){var s;if(o.trigger(s=e.Event("close.ace.widget")),s.isDefaultPrevented())return;r.close()}else if("reload"==a){i.blur();var s;if(o.trigger(s=e.Event("reload.ace.widget")),s.isDefaultPrevented())return;r.reload()}else if("fullscreen"==a){var s;if(o.trigger(s=e.Event("fullscreen.ace.widget")),s.isDefaultPrevented())return;r.fullscreen()}else"settings"==a&&o.trigger("setting.ace.widget")}})}(window.jQuery),function(e,t){e(document).on("reload.ace.widget",".widget-box",function(t){var i=e(this);setTimeout(function(){i.trigger("reloaded.ace.widget")},parseInt(1e3*Math.random()+1e3))})}(window.jQuery),function(e,t){function i(t,i){var o=this,r=e(t),a="right",s=!1,l=r.hasClass("fade"),c=ace.helper.getAttrSettings(t,e.fn.ace_aside.defaults);if(this.settings=e.extend({},e.fn.ace_aside.defaults,i,c),!this.settings.background||i.scroll_style||c.scroll_style||(this.settings.scroll_style="scroll-white no-track"),this.container=this.settings.container,this.container)try{e(this.container).get(0)==document.body&&(this.container=null)}catch(d){}this.container&&(this.settings.backdrop=!1,r.addClass("aside-contained"));var u=r.find(".modal-dialog"),p=r.find(".modal-content"),g=300;this.initiate=function(){t.className=t.className.replace(/(\s|^)aside\-(right|top|left|bottom)(\s|$)/gi,"$1$3"),a=this.settings.placement,a&&(a=e.trim(a.toLowerCase())),a&&/right|top|left|bottom/.test(a)||(a="right"),r.attr("data-placement",a),r.addClass("aside-"+a),/right|left/.test(a)?(s=!0,r.addClass("aside-vc")):r.addClass("aside-hz"),this.settings.fixed&&r.addClass("aside-fixed"),this.settings.background&&r.addClass("aside-dark"),this.settings.offset&&r.addClass("navbar-offset"),this.settings.transition||r.addClass("transition-off"),r.addClass("aside-hidden"),this.insideContainer(),u=r.find(".modal-dialog"),p=r.find(".modal-content"),this.settings.body_scroll||r.on("mousewheel.aside DOMMouseScroll.aside touchmove.aside pointermove.aside",function(t){return e.contains(p[0],t.target)?void 0:(t.preventDefault(),!1)}),0==this.settings.backdrop&&r.addClass("no-backdrop")},this.show=function(){if(0==this.settings.backdrop)try{r.data("bs.modal").$backdrop.remove()}catch(t){}this.container?e(this.container).addClass("overflow-hidden"):r.css("position","fixed"),r.removeClass("aside-hidden")},this.hide=function(){this.container&&(this.container.addClass("overflow-hidden"),ace.vars.firefox&&t.offsetHeight),f(),ace.vars.transition&&!l&&r.one("bsTransitionEnd",function(){r.addClass("aside-hidden"),r.css("position",""),o.container&&o.container.removeClass("overflow-hidden")}).emulateTransitionEnd(g)},this.shown=function(){if(f(),e("body").removeClass("modal-open").css("padding-right",""),"invisible"==this.settings.backdrop)try{r.data("bs.modal").$backdrop.css("opacity",0)}catch(t){}var i=s?p.height():u.height();ace.vars.touch?p.addClass("overflow-scroll").css("max-height",i+"px"):p.hasClass("ace-scroll")||p.ace_scroll({size:i,reset:!0,mouseWheelLock:!0,lockAnyway:!this.settings.body_scroll,styleClass:this.settings.scroll_style,observeContent:!0,hideOnIdle:!ace.vars.old_ie,hideDelay:1500}),n.off("resize.modal.aside").on("resize.modal.aside",function(){if(ace.vars.touch)p.css("max-height",(s?p.height():u.height())+"px");else{p.ace_scroll("disable");var e=s?p.height():u.height();p.ace_scroll("update",{size:e}).ace_scroll("enable").ace_scroll("reset")}}).triggerHandler("resize.modal.aside"),o.container&&ace.vars.transition&&!l&&r.one("bsTransitionEnd",function(){o.container.removeClass("overflow-hidden")}).emulateTransitionEnd(g)},this.hidden=function(){n.off(".aside"),ace.vars.transition&&!l||(r.addClass("aside-hidden"),r.css("position",""))},this.insideContainer=function(){var t=e(".main-container"),i=r.find(".modal-dialog");if(i.css({right:"",left:""}),t.hasClass("container")){var o=!1;1==s&&(i.css(a,parseInt((n.width()-t.width())/2)),o=!0),o&&ace.vars.firefox&&ace.helper.redraw(t[0])}},this.flip=function(){var e={right:"left",left:"right",top:"bottom",bottom:"top"};r.removeClass("aside-"+a).addClass("aside-"+e[a]),a=e[a]};var f=function(){var e=r.find(".aside-trigger");if(0!=e.length){e.toggleClass("open");var t=e.find(ace.vars[".icon"]);0!=t.length&&t.toggleClass(t.attr("data-icon1")+" "+t.attr("data-icon2"))}};this.initiate(),this.container&&(this.container=e(this.container)),r.appendTo(this.container||"body")}var n=e(window);e(document).on("show.bs.modal",".modal.aside",function(t){e(".aside.in").modal("hide"),e(this).ace_aside("show")}).on("hide.bs.modal",".modal.aside",function(t){e(this).ace_aside("hide")}).on("shown.bs.modal",".modal.aside",function(t){e(this).ace_aside("shown")}).on("hidden.bs.modal",".modal.aside",function(t){e(this).ace_aside("hidden")}),e(window).on("resize.aside_container",function(){e(".modal.aside").ace_aside("insideContainer")}),e(document).on("settings.ace.aside",function(t,i){"main_container_fixed"==i&&e(".modal.aside").ace_aside("insideContainer")}),e.fn.aceAside=e.fn.ace_aside=function(n,o){var r,a=this.each(function(){var t=e(this),a=t.data("ace_aside"),s="object"==typeof n&&n;a||t.data("ace_aside",a=new i(this,s)),"string"==typeof n&&"function"==typeof a[n]&&(r=o instanceof Array?a[n].apply(a,o):a[n](o))});return r===t?a:r},e.fn.ace_aside.defaults={fixed:!1,background:!1,offset:!1,body_scroll:!1,transition:!0,scroll_style:"scroll-dark no-track",container:null,backdrop:!1,placement:"right"}}(window.jQuery),function(e,t){
var i=function(t,i){var n=ace.helper.getAttrSettings(t,e.fn.ace_colorpicker.defaults),o=e.extend({},e.fn.ace_colorpicker.defaults,i,n),r=e(t),a="",s="",l=null,c=[];r.addClass("hide").find("option").each(function(){var e="colorpick-btn",t=this.value.replace(/[^\w\s,#\(\)\.]/g,"");this.value!=t&&(this.value=t),this.selected&&(e+=" selected",s=t),c.push(t),a+='<li><a class="'+e+'" href="#" style="background-color:'+t+';" data-color="'+t+'"></a></li>'}).end().on("change.color",function(){r.next().find(".btn-colorpicker").css("background-color",this.value)}).after('<div class="dropdown dropdown-colorpicker">		<a data-toggle="dropdown" class="dropdown-toggle" '+(o.auto_pos?'data-position="auto"':"")+' href="#"><span class="btn-colorpicker" style="background-color:'+s+'"></span></a><ul class="dropdown-menu'+(o.caret?" dropdown-caret":"")+(o.pull_right?" dropdown-menu-right":"")+'">'+a+"</ul></div>");var d=r.next().find(".dropdown-menu");d.on(ace.click_event,function(t){var i=e(t.target);if(!i.is(".colorpick-btn"))return!1;l&&l.removeClass("selected"),l=i,l.addClass("selected");var n=l.data("color");return r.val(n).trigger("change"),t.preventDefault(),!0}),l=r.next().find("a.selected"),this.pick=function(i,n){if("number"==typeof i){if(i>=c.length)return;t.selectedIndex=i,d.find("a:eq("+i+")").trigger(ace.click_event)}else if("string"==typeof i){var o=i.replace(/[^\w\s,#\(\)\.]/g,"");if(i=c.indexOf(o),-1==i&&n===!0&&(c.push(o),e("<option />").appendTo(r).val(o),e('<li><a class="colorpick-btn" href="#"></a></li>').appendTo(d).find("a").css("background-color",o).data("color",o),i=c.length-1),-1==i)return;d.find("a:eq("+i+")").trigger(ace.click_event)}},this.destroy=function(){r.removeClass("hide").off("change.color").next().remove(),c=[]}};e.fn.ace_colorpicker=function(n,o){var r,a=this.each(function(){var t=e(this),a=t.data("ace_colorpicker"),s="object"==typeof n&&n;a||t.data("ace_colorpicker",a=new i(this,s)),"string"==typeof n&&(r=a[n](o))});return r===t?a:r},e.fn.ace_colorpicker.defaults={pull_right:!1,caret:!0,auto_pos:!0}}(window.jQuery),function(e,t){var i="multiple"in document.createElement("INPUT"),n="FileList"in window,o="FileReader"in window,r="File"in window,a=function(t,i){var n=this,o=ace.helper.getAttrSettings(t,e.fn.ace_file_input.defaults);this.settings=e.extend({},e.fn.ace_file_input.defaults,i,o),this.$element=e(t),this.element=t,this.disabled=!1,this.can_reset=!0,this.$element.off("change.ace_inner_call").on("change.ace_inner_call",function(e,t){return n.disabled||t===!0?void 0:l.call(n)});var r=this.$element.closest("label").css({display:"block"}),a=0==r.length?"label":"span";this.$element.wrap("<"+a+' class="ace-file-input" />'),this.apply_settings(),this.reset_input_field()};a.error={FILE_LOAD_FAILED:1,IMAGE_LOAD_FAILED:2,THUMBNAIL_FAILED:3},a.prototype.apply_settings=function(){var t=this;this.multi=this.$element.attr("multiple")&&i,this.well_style="well"==this.settings.style,this.well_style?this.$element.parent().addClass("ace-file-multiple"):this.$element.parent().removeClass("ace-file-multiple"),this.$element.parent().find(":not(input[type=file])").remove(),this.$element.after('<span class="ace-file-container" data-title="'+this.settings.btn_choose+'"><span class="ace-file-name" data-title="'+this.settings.no_file+'">'+(this.settings.no_icon?'<i class="'+ace.vars.icon+this.settings.no_icon+'"></i>':"")+"</span></span>"),this.$label=this.$element.next(),this.$container=this.$element.closest(".ace-file-input");var o=!!this.settings.icon_remove;if(o){var r=e('<a class="remove" href="#"><i class="'+ace.vars.icon+this.settings.icon_remove+'"></i></a>').appendTo(this.$element.parent());r.on(ace.click_event,function(e){if(e.preventDefault(),!t.can_reset)return!1;var i=!0;if(t.settings.before_remove&&(i=t.settings.before_remove.call(t.element)),!i)return!1;t.reset_input();return!1})}this.settings.droppable&&n&&s.call(this)},a.prototype.show_file_list=function(t,i){var n="undefined"==typeof t?this.$element.data("ace_input_files"):t;if(n&&0!=n.length){this.well_style&&(this.$label.find(".ace-file-name").remove(),this.settings.btn_change||this.$label.addClass("hide-placeholder")),this.$label.attr("data-title",this.settings.btn_change).addClass("selected");for(var a=0;a<n.length;a++){var s="",l=!1;if("string"==typeof n[a])s=n[a];else if(r&&n[a]instanceof File)s=e.trim(n[a].name);else{if(!(n[a]instanceof Object&&n[a].hasOwnProperty("name")))continue;s=n[a].name,n[a].hasOwnProperty("type")&&(l=n[a].type),n[a].hasOwnProperty("path")||(n[a].path=n[a].name)}var d=s.lastIndexOf("\\")+1;0==d&&(d=s.lastIndexOf("/")+1),s=s.substr(d),0==l&&(l=/\.(jpe?g|png|gif|svg|bmp|tiff?)$/i.test(s)?"image":/\.(mpe?g|flv|mov|avi|swf|mp4|mkv|webm|wmv|3gp)$/i.test(s)?"video":/\.(mp3|ogg|wav|wma|amr|aac)$/i.test(s)?"audio":"file");var u={file:"fa fa-file",image:"fa fa-picture-o file-image",video:"fa fa-film file-video",audio:"fa fa-music file-audio"},p=u[l];if(this.well_style){this.$label.append('<span class="ace-file-name" data-title="'+s+'"><i class="'+ace.vars.icon+p+'"></i></span>');var g=i===!0&&r&&n[a]instanceof File?e.trim(n[a].type):"",f=o&&this.settings.thumbnail&&(g.length>0&&g.match("image")||0==g.length&&"image"==l);if(f){var m=this;e.when(c.call(this,n[a])).fail(function(e){m.settings.preview_error&&m.settings.preview_error.call(m,s,e.code)})}}else this.$label.find(".ace-file-name").attr({"data-title":s}).find(ace.vars[".icon"]).attr("class",ace.vars.icon+p)}return!0}},a.prototype.reset_input=function(){this.reset_input_ui(),this.reset_input_field()},a.prototype.reset_input_ui=function(){this.$label.attr({"data-title":this.settings.btn_choose,"class":"ace-file-container"}).find(".ace-file-name:first").attr({"data-title":this.settings.no_file,"class":"ace-file-name"}).find(ace.vars[".icon"]).attr("class",ace.vars.icon+this.settings.no_icon).prev("img").remove(),this.settings.no_icon||this.$label.find(ace.vars[".icon"]).remove(),this.$label.find(".ace-file-name").not(":first").remove(),this.reset_input_data()},a.prototype.reset_input_field=function(){this.$element.wrap("<form>").parent().get(0).reset(),this.$element.unwrap()},a.prototype.reset_input_data=function(){this.$element.data("ace_input_files")&&(this.$element.removeData("ace_input_files"),this.$element.removeData("ace_input_method"))},a.prototype.enable_reset=function(e){this.can_reset=e},a.prototype.disable=function(){this.disabled=!0,this.$element.attr("disabled","disabled").addClass("disabled")},a.prototype.enable=function(){this.disabled=!1,this.$element.removeAttr("disabled").removeClass("disabled")},a.prototype.files=function(){return e(this).data("ace_input_files")||null},a.prototype.method=function(){return e(this).data("ace_input_method")||""},a.prototype.update_settings=function(t){this.settings=e.extend({},this.settings,t),this.apply_settings()},a.prototype.loading=function(t){if(t===!1)this.$container.find(".ace-file-overlay").remove(),this.element.removeAttribute("readonly");else{var i="string"==typeof t?t:'<i class="overlay-content fa fa-spin fa-spinner orange2 fa-2x"></i>',n=this.$container.find(".ace-file-overlay");0==n.length&&(n=e('<div class="ace-file-overlay"></div>').appendTo(this.$container),n.on("click tap",function(e){return e.stopImmediatePropagation(),e.preventDefault(),!1}),this.element.setAttribute("readonly","true")),n.empty().append(i)}};var s=function(){var e=this,t=this.$element.parent();t.off("dragenter").on("dragenter",function(e){e.preventDefault(),e.stopPropagation()}).off("dragover").on("dragover",function(e){e.preventDefault(),e.stopPropagation()}).off("drop").on("drop",function(t){if(t.preventDefault(),t.stopPropagation(),!e.disabled){var i=t.originalEvent.dataTransfer,n=i.files;if(!e.multi&&n.length>1){var o=[];o.push(n[0]),n=o}return n=u.call(e,n,!0),n===!1?!1:(e.$element.data("ace_input_method","drop"),e.$element.data("ace_input_files",n),e.show_file_list(n,!0),e.$element.triggerHandler("change",[!0]),!0)}})},l=function(){var e=this.element.files||[this.element.value];return e=u.call(this,e,!1),e===!1?!1:(this.$element.data("ace_input_method","select"),this.$element.data("ace_input_files",e),this.show_file_list(e,!0),!0)},c=function(t){var i=this,n=i.$label.find(".ace-file-name:last"),o=new e.Deferred,s=function(t){n.prepend("<img class='middle' style='display:none;' />");var i=n.find("img:last").get(0);e(i).one("load",function(){l.call(null,i)}).one("error",function(){c.call(null,i)}),i.src=t},l=function(t){var r=50;"large"==i.settings.thumbnail?r=150:"fit"==i.settings.thumbnail&&(r=n.width()),n.addClass(r>50?"large":"");var s=d(t,r);if(null==s)return e(this).remove(),void o.reject({code:a.error.THUMBNAIL_FAILED});var l=s.w,c=s.h;"small"==i.settings.thumbnail&&(l=c=r),e(t).css({"background-image":"url("+s.src+")",width:l,height:c}).data("thumb",s.src).attr({src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="}).show(),o.resolve()},c=function(e){n.find("img").remove(),o.reject({code:a.error.IMAGE_LOAD_FAILED})};if(r&&t instanceof File){var u=new FileReader;u.onload=function(e){s(e.target.result)},u.onerror=function(e){o.reject({code:a.error.FILE_LOAD_FAILED})},u.readAsDataURL(t)}else t instanceof Object&&t.hasOwnProperty("path")&&s(t.path);return o.promise()},d=function(t,i,n){var o=t.width,r=t.height;o=o>0?o:e(t).width(),r=r>0?r:e(t).height(),(o>i||r>i)&&(o>r?(r=parseInt(i/o*r),o=i):(o=parseInt(i/r*o),r=i));var a;try{var s=document.createElement("canvas");s.width=o,s.height=r;var l=s.getContext("2d");l.drawImage(t,0,0,t.width,t.height,0,0,o,r),a=s.toDataURL()}catch(c){a=null}return a?(/^data\:image\/(png|jpe?g|gif);base64,[0-9A-Za-z\+\/\=]+$/.test(a)||(a=null),a?{src:a,w:o,h:r}:null):null},u=function(e,t){var i=f.call(this,e,t);return-1===i?(this.reset_input(),!1):i&&0!=i.length?((i instanceof Array||n&&i instanceof FileList)&&(e=i),i=!0,this.settings.before_change&&(i=this.settings.before_change.call(this.element,e,t)),-1===i?(this.reset_input(),!1):i&&0!=i.length?((i instanceof Array||n&&i instanceof FileList)&&(e=i),e):(this.$element.data("ace_input_files")||this.reset_input(),!1)):(this.$element.data("ace_input_files")||this.reset_input(),!1)},p=function(e){return e?("string"==typeof e&&(e=[e]),0==e.length?null:new RegExp(".(?:"+e.join("|")+")$","i")):null},g=function(e){return e?("string"==typeof e&&(e=[e]),0==e.length?null:new RegExp("^(?:"+e.join("|").replace(/\//g,"\\/")+")$","i")):null},f=function(t,i){var n=p(this.settings.allowExt),o=p(this.settings.denyExt),a=g(this.settings.allowMime),s=g(this.settings.denyMime),l=this.settings.maxSize||!1;if(!(n||o||a||s||l))return!0;for(var c=[],d={},u=0;u<t.length;u++){var f=t[u],m=r?f.name:f;if(!n||n.test(m))if(o&&o.test(m))"ext"in d||(d.ext=[]),d.ext.push(m);else{var h;if(r){if((h=e.trim(f.type)).length>0){if(a&&!a.test(h)){"mime"in d||(d.mime=[]),d.mime.push(m);continue}if(s&&s.test(h)){"mime"in d||(d.mime=[]),d.mime.push(m);continue}}l&&f.size>l?("size"in d||(d.size=[]),d.size.push(m)):c.push(f)}else c.push(f)}else"ext"in d||(d.ext=[]),d.ext.push(m)}if(c.length==t.length)return t;var v={ext:0,mime:0,size:0};"ext"in d&&(v.ext=d.ext.length),"mime"in d&&(v.mime=d.mime.length),"size"in d&&(v.size=d.size.length);var b;return this.$element.trigger(b=new e.Event("file.error.ace"),{file_count:t.length,invalid_count:t.length-c.length,error_list:d,error_count:v,dropped:i}),b.isDefaultPrevented()?-1:c};e.fn.aceFileInput=e.fn.ace_file_input=function(i,n){var o,r=this.each(function(){var t=e(this),r=t.data("ace_file_input"),s="object"==typeof i&&i;r||t.data("ace_file_input",r=new a(this,s)),"string"==typeof i&&(o=r[i](n))});return o===t?r:o},e.fn.ace_file_input.defaults={style:!1,no_file:"No File ...",no_icon:"fa fa-upload",btn_choose:"Choose",btn_change:"Change",icon_remove:"fa fa-times",droppable:!1,thumbnail:!1,allowExt:null,denyExt:null,allowMime:null,denyMime:null,maxSize:!1,before_change:null,before_remove:null,preview_error:null}}(window.jQuery),function(e,t){var i=function(i,n){function o(e){e.preventDefault(),e.stopPropagation();var t=A.offset(),i=t[m],n=C?e.pageY:e.pageX;n>i+M?(M=n-i-R+N,M>O&&(M=O)):(M=n-i-N,0>M&&(M=0)),p.update_scroll()}function r(t){t.preventDefault(),t.stopPropagation(),ie=te=C?t.pageY:t.pageX,H=!0,e("html").off("mousemove.ace_scroll").on("mousemove.ace_scroll",a),e(z).off("mouseup.ace_scroll").on("mouseup.ace_scroll",s),A.addClass("active"),B&&p.$element.trigger("drag.start")}function a(e){e.preventDefault(),e.stopPropagation(),ie=C?e.pageY:e.pageX,ie-te+M>O?ie=te+O-M:0>ie-te+M&&(ie=te-M),M+=ie-te,te=ie,0>M?M=0:M>O&&(M=O),p.update_scroll()}function s(t){t.preventDefault(),t.stopPropagation(),H=!1,e("html").off(".ace_scroll"),e(z).off(".ace_scroll"),A.removeClass("active"),B&&p.$element.trigger("drag.end"),x&&J&&!X&&c()}function l(e){var t=+new Date;if(Q&&t-oe>1e3){var i=k[w];Z!=i&&(Z=i,ee=!0,p.reset(!0)),oe=t}x&&J&&(null!=ne&&(clearTimeout(ne),ne=null),A.addClass("not-idle"),X||1!=e||c())}function c(){null!=ne&&(clearTimeout(ne),ne=null),ne=setTimeout(function(){ne=null,A.removeClass("not-idle")},Y)}function d(){A.css("visibility","hidden").addClass("scroll-hover"),j=C?parseInt(A.outerWidth())||0:parseInt(A.outerHeight())||0,A.css("visibility","").removeClass("scroll-hover")}function u(){if(K!==!1){var e=E.offset(),t=e.left,i=e.top;C?G||(t+=E.outerWidth()-j):G||(i+=E.outerHeight()-j),K===!0?A.css({top:parseInt(i),left:parseInt(t)}):"left"===K?A.css("left",parseInt(t)):"top"===K&&A.css("top",parseInt(i))}}var p=this,g=ace.helper.getAttrSettings(i,e.fn.ace_scroll.defaults),f=e.extend({},e.fn.ace_scroll.defaults,n,g);this.size=0,this.lock=!1,this.lock_anyway=!1,this.$element=e(i),this.element=i;var m,h,v,b,y,w,C=!0,_=!1,x=!1,S=!1,E=null,k=null,A=null,$=null,T=null,D=null,P=null,R=0,M=0,O=0,N=0,I=!0,F=!1,L="",G=!1,j=0,V=1,U=!1,H=!1,z="onmouseup"in window?window:"html",B=f.dragEvent||!1,q=n.scrollEvent||!1,W=f.detached||!1,K=f.updatePos||!1,J=f.hideOnIdle||!1,Y=f.hideDelay||1500,X=!1,Q=f.observeContent||!1,Z=0,ee=!0;this.create=function(t){if(!S){t&&(f=e.extend({},e.fn.ace_scroll.defaults,t)),this.size=parseInt(this.$element.attr("data-size"))||f.size||200,C=!f.horizontal,m=C?"top":"left",h=C?"height":"width",v=C?"maxHeight":"maxWidth",b=C?"clientHeight":"clientWidth",y=C?"scrollTop":"scrollLeft",w=C?"scrollHeight":"scrollWidth",this.$element.addClass("ace-scroll"),"static"==this.$element.css("position")?(U=this.element.style.position,this.element.style.position="relative"):U=!1;var i=null;W?i=e('<div class="scroll-track scroll-detached"><div class="scroll-bar"></div></div>').appendTo("body"):(this.$element.wrapInner('<div class="scroll-content" />'),this.$element.prepend('<div class="scroll-track"><div class="scroll-bar"></div></div>')),E=this.$element,W||(E=this.$element.find(".scroll-content").eq(0)),C||E.wrapInner("<div />"),k=E.get(0),W?(A=i,u()):A=this.$element.find(".scroll-track").eq(0),$=A.find(".scroll-bar").eq(0),T=A.get(0),D=$.get(0),P=D.style,C||A.addClass("scroll-hz"),f.styleClass&&(L=f.styleClass,A.addClass(L),G=!!L.match(/scroll\-left|scroll\-top/)),0==j&&(A.show(),d()),A.hide(),A.on("mousedown",o),$.on("mousedown",r),E.on("scroll",function(){I&&(M=parseInt(Math.round(this[y]*V)),P[m]=M+"px"),I=!1,q&&this.$element.trigger("scroll",[k])}),f.mouseWheel&&(this.lock=f.mouseWheelLock,this.lock_anyway=f.lockAnyway,this.$element.on(e.event.special.mousewheel?"mousewheel.ace_scroll":"mousewheel.ace_scroll DOMMouseScroll.ace_scroll",function(t){if(!_){if(l(!0),!x)return!p.lock_anyway;H&&(H=!1,e("html").off(".ace_scroll"),e(z).off(".ace_scroll"),B&&p.$element.trigger("drag.end")),t.deltaY=t.deltaY||0;var i=t.deltaY>0||t.originalEvent.detail<0||t.originalEvent.wheelDelta>0?1:-1,n=!1,o=k[b],r=k[y];p.lock||(n=-1==i?k[w]<=r+o:0==r),p.move_bar(!0);var a=parseInt(o/8);return 80>a&&(a=80),a>p.size&&(a=p.size),a+=1,k[y]=r-i*a,n&&!p.lock_anyway}}));var n=ace.vars.touch&&"ace_drag"in e.event.special&&f.touchDrag;if(n){var a="",s=n?"ace_drag":"swipe";this.$element.on(s+".ace_scroll",function(e){if(_)return void(e.retval.cancel=!0);if(l(!0),!x)return void(e.retval.cancel=this.lock_anyway);if(a=e.direction,C&&("up"==a||"down"==a)||!C&&("left"==a||"right"==a)){var t=C?e.dy:e.dx;0!=t&&(Math.abs(t)>20&&n&&(t=2*t),p.move_bar(!0),k[y]=k[y]+t)}})}J&&A.addClass("idle-hide"),Q&&A.on("mouseenter.ace_scroll",function(){X=!0,l(!1)}).on("mouseleave.ace_scroll",function(){X=!1,0==H&&c()}),this.$element.on("mouseenter.ace_scroll touchstart.ace_scroll",function(e){ee=!0,Q?l(!0):f.hoverReset&&p.reset(!0),A.addClass("scroll-hover")}).on("mouseleave.ace_scroll touchend.ace_scroll",function(){A.removeClass("scroll-hover")}),C||E.children(0).css(h,this.size),E.css(v,this.size),_=!1,S=!0}},this.is_active=function(){return x},this.is_enabled=function(){return!_},this.move_bar=function(e){I=e},this.get_track=function(){return T},this.reset=function(e){if(!_){S||this.create();var t=this.size;if(!e||ee){if(ee=!1,W){var i=parseInt(Math.round((parseInt(E.css("border-top-width"))+parseInt(E.css("border-bottom-width")))/2.5));t-=i}var n=C?k[w]:t;if(C&&0==n||!C&&0==this.element.scrollWidth)return void A.removeClass("scroll-active");var o=C?t:k.clientWidth;C||E.children(0).css(h,t),E.css(v,this.size),n>o?(x=!0,A.css(h,o).show(),V=parseFloat((o/n).toFixed(5)),R=parseInt(Math.round(o*V)),N=parseInt(Math.round(R/2)),O=o-R,M=parseInt(Math.round(k[y]*V)),P[h]=R+"px",P[m]=M+"px",A.addClass("scroll-active"),0==j&&d(),F||(f.reset&&(k[y]=0,P[m]=0),F=!0),W&&u()):(x=!1,A.hide(),A.removeClass("scroll-active"),E.css(v,""))}}},this.disable=function(){k[y]=0,P[m]=0,_=!0,x=!1,A.hide(),this.$element.addClass("scroll-disabled"),A.removeClass("scroll-active"),E.css(v,"")},this.enable=function(){_=!1,this.$element.removeClass("scroll-disabled")},this.destroy=function(){x=!1,_=!1,S=!1,this.$element.removeClass("ace-scroll scroll-disabled scroll-active"),this.$element.off(".ace_scroll"),W||(C||E.find("> div").children().unwrap(),E.children().unwrap(),E.remove()),A.remove(),U!==!1&&(this.element.style.position=U),null!=ne&&(clearTimeout(ne),ne=null)},this.modify=function(t){t&&(f=e.extend({},f,t)),this.destroy(),this.create(),ee=!0,this.reset(!0)},this.update=function(i){i&&(f=e.extend({},f,i)),this.size=i.size||this.size,this.lock=i.mouseWheelLock||this.lock,this.lock_anyway=i.lockAnyway||this.lock_anyway,i.styleClass!=t&&(L&&A.removeClass(L),L=i.styleClass,L&&A.addClass(L),G=!!L.match(/scroll\-left|scroll\-top/))},this.start=function(){k[y]=0},this.end=function(){k[y]=k[w]},this.hide=function(){A.hide()},this.show=function(){A.show()},this.update_scroll=function(){I=!1,P[m]=M+"px",k[y]=parseInt(Math.round(M/V))};var te=-1,ie=-1,ne=null,oe=0;return this.track_size=function(){return 0==j&&d(),j},this.create(),ee=!0,this.reset(!0),Z=k[w],this};e.fn.ace_scroll=function(n,o){var r,a=this.each(function(){var t=e(this),a=t.data("ace_scroll"),s="object"==typeof n&&n;a||t.data("ace_scroll",a=new i(this,s)),"string"==typeof n&&(r=a[n](o))});return r===t?a:r},e.fn.ace_scroll.defaults={size:200,horizontal:!1,mouseWheel:!0,mouseWheelLock:!1,lockAnyway:!1,styleClass:!1,observeContent:!1,hideOnIdle:!1,hideDelay:1500,hoverReset:!0,reset:!1,dragEvent:!1,touchDrag:!0,touchSwipe:!1,scrollEvent:!1,detached:!1,updatePos:!0}}(window.jQuery),function(e,t){function i(t,i){var n=ace.helper.getAttrSettings(t,e.fn.ace_spinner.defaults),o=e.extend({},e.fn.ace_spinner.defaults,i,n),r=o.max;r=(""+r).length;var a=parseInt(Math.max(20*r+40,90)),s=e(t),l="btn-sm",c=2;s.hasClass("input-sm")?(l="btn-xs",c=1):s.hasClass("input-lg")&&(l="btn-lg",c=3),2==c?a+=25:3==c&&(a+=50),s.addClass("spinbox-input form-control text-center").wrap('<div class="ace-spinner middle">');var d=s.closest(".ace-spinner").spinbox(o).wrapInner("<div class='input-group'></div>"),u=d.data("fu.spinbox");o.on_sides?(s.before('<div class="spinbox-buttons input-group-btn">					<button type="button" class="btn spinbox-down '+l+" "+o.btn_down_class+'">						<i class="icon-only '+ace.vars.icon+o.icon_down+'"></i>					</button>				</div>').after('<div class="spinbox-buttons input-group-btn">					<button type="button" class="btn spinbox-up '+l+" "+o.btn_up_class+'">						<i class="icon-only '+ace.vars.icon+o.icon_up+'"></i>					</button>				</div>'),d.addClass("touch-spinner"),d.css("width",a+"px")):(s.after('<div class="spinbox-buttons input-group-btn">					<button type="button" class="btn spinbox-up '+l+" "+o.btn_up_class+'">						<i class="icon-only '+ace.vars.icon+o.icon_up+'"></i>					</button>					<button type="button" class="btn spinbox-down '+l+" "+o.btn_down_class+'">						<i class="icon-only '+ace.vars.icon+o.icon_down+'"></i>					</button>				</div>'),ace.vars.touch||o.touch_spinner?(d.addClass("touch-spinner"),d.css("width",a+"px")):(s.next().addClass("btn-group-vertical"),d.css("width",a+"px"))),d.on("changed",function(){s.trigger("change")}),this._call=function(e,t){u[e](t)}}e.fn.ace_spinner=function(n,o){var r,a=this.each(function(){var t=e(this),a=t.data("ace_spinner"),s="object"==typeof n&&n;a||(s=e.extend({},e.fn.ace_spinner.defaults,n),t.data("ace_spinner",a=new i(this,s))),"string"==typeof n&&(r=a._call(n,o))});return r===t?a:r},e.fn.ace_spinner.defaults={icon_up:"fa fa-chevron-up",icon_down:"fa fa-chevron-down",on_sides:!1,btn_up_class:"",btn_down_class:"",max:999,touch_spinner:!1}}(window.jQuery),function(e,t){e.fn.aceTree=e.fn.ace_tree=function(t){var i={"open-icon":ace.vars.icon+"fa fa-folder-open","close-icon":ace.vars.icon+"fa fa-folder",selectable:!0,"selected-icon":ace.vars.icon+"fa fa-check","unselected-icon":ace.vars.icon+"fa fa-times",loadingHTML:"Loading..."};return this.each(function(){var n=ace.helper.getAttrSettings(this,i),o=e.extend({},i,t,n),r=e(this);r.addClass("tree").attr("role","tree"),r.html('<li class="tree-branch hide" data-template="treebranch" role="treeitem" aria-expanded="false">				<div class="tree-branch-header">					<span class="tree-branch-name">						<i class="icon-folder '+o["close-icon"]+'"></i>						<span class="tree-label"></span>					</span>				</div>				<ul class="tree-branch-children" role="group"></ul>				<div class="tree-loader" role="alert">'+o.loadingHTML+'</div>			</div>			<li class="tree-item hide" data-template="treeitem" role="treeitem">				<span class="tree-item-name">				  '+(null==o["unselected-icon"]?"":'<i class="icon-item '+o["unselected-icon"]+'"></i>')+'				  <span class="tree-label"></span>				</span>			</li>'),r.addClass(1==o.selectable?"tree-selectable":"tree-unselectable"),r.tree(o)}),this}}(window.jQuery),!function(e){"use strict";var t=function(t,i){this.$element=e(t),this.options=e.extend({},e.fn.bs_typeahead.defaults,i),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var i;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(i=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,i?this.process(i):this)},process:function(t){var i=this;return t=e.grep(t,function(e){return i.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,i=[],n=[],o=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?n.push(t):o.push(t):i.push(t);return i.concat(n,o)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var i=this;return t=e(t).map(function(t,n){return t=e(i.options.item).attr("data-value",n),t.find("a").html(i.highlighter(n)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var i=this.$menu.find(".active").removeClass("active"),n=i.next();n.length||(n=e(this.$menu.find("li")[0])),n.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),i=t.prev();i.length||(i=this.$menu.find("li").last()),i.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(e){this.focused=!0},blur:function(e){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var i=e.fn.bs_typeahead;e.fn.bs_typeahead=function(i){return this.each(function(){var n=e(this),o=n.data("bs_typeahead"),r="object"==typeof i&&i;o||n.data("bs_typeahead",o=new t(this,r)),"string"==typeof i&&o[i]()})},e.fn.bs_typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.bs_typeahead.Constructor=t,e.fn.bs_typeahead.noConflict=function(){return e.fn.bs_typeahead=i,this},e(document).on("focus.bs_typeahead.data-api",'[data-provide="bs_typeahead"]',function(t){var i=e(this);i.data("bs_typeahead")||i.bs_typeahead(i.data())})}(window.jQuery),function(e,t){e.fn.aceWizard=e.fn.ace_wizard=function(t){return this.each(function(){var i=e(this);i.wizard(),ace.vars.old_ie&&i.find("ul.steps > li").last().addClass("last-child");var n=t&&t.buttons?e(t.buttons):i.siblings(".wizard-actions").eq(0),o=i.data("fu.wizard");o.$prevBtn.remove(),o.$nextBtn.remove(),o.$prevBtn=n.find(".btn-prev").eq(0).on(ace.click_event,function(){o.previous()}).attr("disabled","disabled"),o.$nextBtn=n.find(".btn-next").eq(0).on(ace.click_event,function(){o.next()}).removeAttr("disabled"),o.nextText=o.$nextBtn.text();var r=t&&(t.selectedItem&&t.selectedItem.step||t.step);r&&(o.currentStep=r,o.setState())}),this}}(window.jQuery),function(e,t){e.fn.ace_wysiwyg=function(t,i){var n=e.extend({speech_button:!0,wysiwyg:{}},t),o=["#ac725e","#d06b64","#f83a22","#fa573c","#ff7537","#ffad46","#42d692","#16a765","#7bd148","#b3dc6c","#fbe983","#fad165","#92e1c0","#9fe1e7","#9fc6e7","#4986e7","#9a9cff","#b99aff","#c2c2c2","#cabdbf","#cca6ac","#f691b2","#cd74e6","#a47ae2","#444444"],r={font:{values:["Arial","Courier","Comic Sans MS","Helvetica","Open Sans","Tahoma","Verdana"],icon:"fa fa-font",title:"Font"},fontSize:{values:{5:"Huge",3:"Normal",1:"Small"},icon:"fa fa-text-height",title:"Font Size"},bold:{icon:"fa fa-bold",title:"Bold (Ctrl/Cmd+B)"},italic:{icon:"fa fa-italic",title:"Italic (Ctrl/Cmd+I)"},strikethrough:{icon:"fa fa-strikethrough",title:"Strikethrough"},underline:{icon:"fa fa-underline",title:"Underline"},insertunorderedlist:{icon:"fa fa-list-ul",title:"Bullet list"},insertorderedlist:{icon:"fa fa-list-ol",title:"Number list"},outdent:{icon:"fa fa-outdent",title:"Reduce indent (Shift+Tab)"},indent:{icon:"fa fa-indent",title:"Indent (Tab)"},justifyleft:{icon:"fa fa-align-left",title:"Align Left (Ctrl/Cmd+L)"},justifycenter:{icon:"fa fa-align-center",title:"Center (Ctrl/Cmd+E)"},justifyright:{icon:"fa fa-align-right",title:"Align Right (Ctrl/Cmd+R)"},justifyfull:{icon:"fa fa-align-justify",title:"Justify (Ctrl/Cmd+J)"},createLink:{icon:"fa fa-link",title:"Hyperlink",button_text:"Add",placeholder:"URL",button_class:"btn-primary"},unlink:{icon:"fa fa-chain-broken",title:"Remove Hyperlink"},insertImage:{icon:"fa fa-picture-o",title:"Insert picture",button_text:'<i class="'+ace.vars.icon+'fa fa-file"></i> Choose Image &hellip;',placeholder:"Image URL",button_insert:"Insert",button_class:"btn-success",button_insert_class:"btn-primary",choose_file:!0},foreColor:{values:o,title:"Change Color"},backColor:{values:o,title:"Change Background Color"},undo:{icon:"fa fa-undo",title:"Undo (Ctrl/Cmd+Z)"},redo:{icon:"fa fa-repeat",title:"Redo (Ctrl/Cmd+Y)"},viewSource:{icon:"fa fa-code",title:"View Source"}},a=n.toolbar||["font",null,"fontSize",null,"bold","italic","strikethrough","underline",null,"insertunorderedlist","insertorderedlist","outdent","indent",null,"justifyleft","justifycenter","justifyright","justifyfull",null,"createLink","unlink",null,"insertImage",null,"foreColor",null,"undo","redo",null,"viewSource"];return this.each(function(){var t=' <div class="wysiwyg-toolbar btn-toolbar center"> <div class="btn-group"> ';for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];if(null===o){t+=' </div> <div class="btn-group"> ';continue}if("string"==typeof o&&o in r)o=r[o],o.name=a[i];else{if(!("object"==typeof o&&o.name in r))continue;o=e.extend(r[o.name],o)}var s="className"in o?o.className:"btn-default";switch(o.name){case"font":t+=' <a class="btn btn-sm '+s+' dropdown-toggle" data-toggle="dropdown" title="'+o.title+'"><i class="'+ace.vars.icon+o.icon+'"></i><i class="'+ace.vars.icon+'fa fa-angle-down icon-on-right"></i></a> ',t+=' <ul class="dropdown-menu dropdown-light dropdown-caret">';for(var l in o.values)o.values.hasOwnProperty(l)&&(t+=' <li><a data-edit="fontName '+o.values[l]+'" style="font-family:\''+o.values[l]+"'\">"+o.values[l]+"</a></li> ");t+=" </ul>";break;case"fontSize":t+=' <a class="btn btn-sm '+s+' dropdown-toggle" data-toggle="dropdown" title="'+o.title+'"><i class="'+ace.vars.icon+o.icon+'"></i>&nbsp;<i class="'+ace.vars.icon+'fa fa-angle-down icon-on-right"></i></a> ',t+=' <ul class="dropdown-menu dropdown-light dropdown-caret"> ';for(var c in o.values)o.values.hasOwnProperty(c)&&(t+=' <li><a data-edit="fontSize '+c+'"><font size="'+c+'">'+o.values[c]+"</font></a></li> ");t+=" </ul> ";break;case"createLink":t+=' <div class="btn-group"> <a class="btn btn-sm '+s+' dropdown-toggle" data-toggle="dropdown" title="'+o.title+'"><i class="'+ace.vars.icon+o.icon+'"></i></a> ',t+=' <div class="dropdown-menu dropdown-caret dropdown-menu-right">							 <div class="input-group">								<input class="form-control" placeholder="'+o.placeholder+'" type="text" data-edit="'+o.name+'" />								<span class="input-group-btn">									<button class="btn btn-sm '+o.button_class+'" type="button">'+o.button_text+"</button>								</span>							 </div>						</div> </div>";break;case"insertImage":t+=' <div class="btn-group"> <a class="btn btn-sm '+s+' dropdown-toggle" data-toggle="dropdown" title="'+o.title+'"><i class="'+ace.vars.icon+o.icon+'"></i></a> ',
t+=' <div class="dropdown-menu dropdown-caret dropdown-menu-right">							 <div class="input-group">								<input class="form-control" placeholder="'+o.placeholder+'" type="text" data-edit="'+o.name+'" />								<span class="input-group-btn">									<button class="btn btn-sm '+o.button_insert_class+'" type="button">'+o.button_insert+"</button>								</span>							 </div>",o.choose_file&&"FileReader"in window&&(t+='<div class="space-2"></div>							 <label class="center block no-margin-bottom">								<button class="btn btn-sm '+o.button_class+' wysiwyg-choose-file" type="button">'+o.button_text+'</button>								<input type="file" data-edit="'+o.name+'" />							  </label>'),t+=" </div> </div>";break;case"foreColor":case"backColor":t+=' <select class="hide wysiwyg_colorpicker" title="'+o.title+'"> ',e.each(o.values,function(e,i){t+=' <option value="'+i+'">'+i+"</option> "}),t+=" </select> ",t+=' <input style="display:none;" disabled class="hide" type="text" data-edit="'+o.name+'" /> ';break;case"viewSource":t+=' <a class="btn btn-sm '+s+'" data-view="source" title="'+o.title+'"><i class="'+ace.vars.icon+o.icon+'"></i></a> ';break;default:t+=' <a class="btn btn-sm '+s+'" data-edit="'+o.name+'" title="'+o.title+'"><i class="'+ace.vars.icon+o.icon+'"></i></a> '}}t+=" </div> ";var d;n.speech_button&&"onwebkitspeechchange"in(d=document.createElement("input"))&&(t+=' <input class="wysiwyg-speech-input" type="text" data-edit="inserttext" x-webkit-speech />'),d=null,t+=" </div> ",t=n.toolbar_place?n.toolbar_place.call(this,t):e(this).before(t).prev(),t.find("a[title]").tooltip({animation:!1,container:"body"}),t.find(".dropdown-menu input[type=text]").on("click",function(){return!1}).on("change",function(){e(this).closest(".dropdown-menu").siblings(".dropdown-toggle").dropdown("toggle")}).on("keydown",function(t){27==t.which?(this.value="",e(this).change()):13==t.which&&(t.preventDefault(),t.stopPropagation(),e(this).change())}),t.find("input[type=file]").prev().on(ace.click_event,function(t){e(this).next().click()}),t.find(".wysiwyg_colorpicker").each(function(){e(this).ace_colorpicker({pull_right:!0}).change(function(){e(this).nextAll("input").eq(0).val(this.value).change()}).next().find(".btn-colorpicker").tooltip({title:this.title,animation:!1,container:"body"})});var u=e(this),p=!1;t.find("a[data-view=source]").on("click",function(t){if(t.preventDefault(),p){var i=u.next();u.html(i.val()).show(),i.remove(),e(this).removeClass("active")}else e("<textarea />").css({width:u.outerWidth(),height:u.outerHeight()}).val(u.html()).insertAfter(u),u.hide(),e(this).addClass("active");p=!p});var g=e.extend({},{activeToolbarClass:"active",toolbarSelector:t},n.wysiwyg||{});e(this).wysiwyg(g)}),this}}(window.jQuery);var epJobManagerApp=angular.module("ep.jobmanager",["ngResource"]),epjSettingsVal={};epJobManagerApp.value("epjSettingsVal",epjSettingsVal),epJobManagerApp.run(["$rootScope","$http","epjSettingsVal",function(e,t,i){t.get(i.jsonUrl).then(function(e){i.apiUrl=e.data.olcaApiUrl},function(e){throw"epJobManager error: Please initialize the Epsilon Job Manager's token secret"})}]),epJobManagerApp.provider("$epJobManager",[function(){function e(e,t,i){var n={},o=function(){if(null===epjSettingsVal.jsonUrl)throw"epJobManager error: Please initialize the json url.";if(null===epjSettingsVal.accessToken,null===epjSettingsVal.tokenSecret,null===epjSettingsVal.apiUrl)throw"epJobManager error: Please initialize the api Url."};return n.filter=function(e){return o(),i.filter(e)},n.jobDetails=function(e){return o(),i.jobDetails(e)},n.reprocess=function(e){return o(),i.reprocess(e)},n.getJobParamsandResults=function(e){return o(),i.getJobParamsandResults(e)},n}var t={};return epjSettingsVal.jsonUrl=null,t.setJsonUrl=function(e){epjSettingsVal.apiUrl=e},t.getJsonUrl=function(){return epjSettingsVal.jsonUrl},epjSettingsVal.apiUrl=null,t.setApiUrl=function(e){epjSettingsVal.apiUrl=e},t.getApiUrl=function(){return epjSettingsVal.apiUrl},epjSettingsVal.accessToken=null,t.setAccessToken=function(e){epjSettingsVal.accessToken=e},t.getAccessToken=function(){return epjSettingsVal.accessToken},epjSettingsVal.tokenSecret=null,t.setTokenSecret=function(e){epjSettingsVal.tokenSecret=e},t.getTokenSecret=function(){return epjSettingsVal.tokenSecret},t.$get=["$q","$http","epJobQueueFactory",function(t,i,n){return new e(t,i,n)}],t.init=function(e){return angular.isObject(e)&&angular.extend(epjSettingsVal,e),this},t}]),epJobManagerApp.factory("epjStandardFcty",["$resource","$q","epjSettingsVal",function(e,t,i){var n=e(i.apiUrl+"/log/standard/:id/:action",{id:"@id",action:"@action"},{update:{method:"PUT"},filter:{method:"GET",params:{action:"filter"},isArray:!0}});return n}]),epJobManagerApp.factory("epjStandardConfigurationFcty",["$resource","$q","epjSettingsVal",function(e,t,i){var n=e(i.apiUrl+"/log/standard/configuration/:id/:action",{id:"@id",action:"@action"});return n}]),epJobManagerApp.factory("epJobQueueFactory",["$http","$resource","$q","$log","epjSettingsVal",function(e,t,i,n,o){var r={},a=t(o.apiUrl+"/api/fulfillment/:action/:section",{section:"@section",action:"@action"},{filter:{method:"POST",params:{action:"filterJob"},isArray:!0},jobDetails:{method:"POST",params:{action:"jobDetails"}},reprocess:{method:"POST",params:{action:"reprocessJob"}},getJobParamsandResults:{method:"POST",params:{action:"jobParamsAndResults"}}}),s=function(e){var t=i.defer();return a.filter(e,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},l=function(e){var t=i.defer();return a.jobDetails(e,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},c=function(e){var t=i.defer();return a.reprocess(e,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},d=function(e){var t=i.defer();return a.getJobParamsandResults(e,function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise};return r.filter=s,r.jobDetails=l,r.reprocess=c,r.getJobParamsandResults=d,r}]),epJobManagerApp.factory("commonCtrl",["$modal",function(e){var t={};return t.confirm=function(t,i,n,o,r,a){void 0!=o&&""!=o||(o="sm"),void 0!=r&&""!=r||(r=!1),void 0!=a&&""!=a||(a=!1);var s=e.open({templateUrl:"/app/common/confirmationMdl.min.html",controller:confirmationMdl,size:o,resolve:{title:function(){return t},message:function(){return i},hideCancel:function(){return r},isWarning:function(){return a}}});s.result.then(function(e){n()},function(e){})},t}]),epJobManagerApp.directive("epJobManager",[function(e){"use strict";var t={};return t.transclude=!0,t.replace=!0,t.restrict="E",t.templateUrl="app/epJobQueueCtrl.html",t.controller="epJobQueueCtrl",t.link=function(e,t,i){},t}]),epJobManagerApp.controller("epJobQueueCtrl",["$scope","$rootScope","$epJobManager","uiGridConstants","$modal",function(e,t,i,n,o){"use strict";e.init=function(){e.showValidationMessages=!1,e.isFiltering=!1,e.jobsLoaded=!1,e.filter={jobId:"",jobName:"",startDate:"",endDate:""},e.minimumDate=moment().format("01/02/1993"),e.toggleMin(),e.dateOptions={formatYear:"yy",startingDay:1},e.format="shortDate",e.processFilters(!0)};var r='<button class="btn btn-primary btn-xs" ng-click="grid.appScope.showJobDetails(row.entity)"><span class="glyphicon glyphicon-pencil"></span></button>';e.gridOptions={enableHorizontalScrolling:!0,enableSorting:!0,showGridFooter:!0,enableFiltering:!0,enablePaginationControls:!0,paginationPageSizes:[25,50,100],paginationPageSize:25,columnDefs:[{field:"id",displayName:"Edit",cellTemplate:'<div style="padding-left:5px;padding-top:2px;">'+r+"</div>",enableFiltering:!1,enableSorting:!1,width:50,cellClass:"gridActionCell"},{field:"id",width:91},{field:"jobName",width:300},{field:"status",width:150},{field:"createdDate",cellFilter:'date: "MM/dd/yyyy h:mm:ss a"',width:200},{field:"creator",width:150},{field:"modifiedDate",cellFilter:'date: "MM/dd/yyyy h:mm:ss a"',width:200},{field:"modifier",width:150,displayName:"Modifier"}],data:e.items,onRegisterApi:function(t){e.gridApi=t,e.gridApi.core.on.sortChanged(e,function(t,i){e.gridApi.core.notifyDataChange(n.dataChange.COLUMN)})}},e.processFilters=function(t){e.isFiltering=!0,angular.isDefined(this.jobQueueForm)&&this.jobQueueForm.$valid||t?i.filter(e.filter).then(function(i){e.items=i,e.isFiltering=!1,t&&(e.jobsLoaded=!0),e.gridOptions.data=i},function(t){toastr.error("There was an error in fetching the jobs.  Please refresh and try again"),e.isFiltering=!1}):(toastr.warning("Please make sure that all fields have been filled"),e.showValidationMessages=!0,e.isFiltering=!1)},e.clearFilter=function(){e.filter={jobId:"",jobName:"",startDate:"",endDate:""}},e.showJobDetails=function(t){var i=o.open({templateUrl:"epJobQueueCtrlMdl.html",controller:epJobQueueCtrlMdl,windowClass:"xl",resolve:{queueDetail:function(){return t}}});i.result.then(function(t){"1"==t&&e.init()},function(e){})},e.openEnd=function(t){t.preventDefault(),t.stopPropagation(),e.openedEnd=!0},e.openStart=function(t){t.preventDefault(),t.stopPropagation(),e.openedStart=!0},e.toggleMin=function(){e.minDate=e.minDate?null:new Date},e.init()}]);var epJobQueueCtrlMdl=["$scope","$modalInstance","$epJobManager","commonCtrl","queueDetail",function(e,t,i,n,o){"use strict";e.init=function(){e.queueDetail=angular.copy(o),e.getJobParamsandResults(o.Id),e.isReprocessing=!1},e.gridOptions={enableSorting:!0,showGridFooter:!0,enableFiltering:!0,enableColumnResizing:!0,enableHorizontalScrollbar:!0,columnDefs:[{field:"dealerId",width:150},{field:"dealerName",width:200},{field:"dealerRegion",width:200},{field:"historyObjid",width:150},{field:"actionSubType",width:200},{field:"vdpsExportDate",cellFilter:'date: "MM/dd/yyyy hh:mm:ss a"',width:200},{field:"vin",width:200},{field:"firstName",width:200},{field:"lastName",width:200},{field:"streetAddress",width:250},{field:"cityState",width:200},{field:"year",width:100},{field:"make",width:100},{field:"model",width:150},{field:"dueMiles",width:200},{field:"epControlFlag",displayName:"OK to Process",cellTemplate:'<div class="text-center"><ep-switch model="row.entity.epControlFlag" disabled="true" ng-true-value="Y" ng-false-value="N" ></ep-switch></div>',width:150}],data:e.items,onRegisterApi:function(t){e.gridApi=t,e.gridApi.core.on.sortChanged(e,function(t,i){e.gridApi.core.notifyDataChange(uiGridConstants.dataChange.COLUMN)})}},e.close=function(e){t.dismiss(e)},e.confirmReprocess=function(){e.gridOptions.data.length>0?n.confirm("Reprocess Job","You are about to process "+e.gridOptions.data.length+" records.  Press 'OK' to confirm.",e.reprocess):toastr.warning("No records available to be reprocessed.")},e.getJobParamsandResults=function(){i.getJobParamsandResults(o.id).then(function(t){e.jobParamsAndResults=t,e.gridOptions.data=t.results},function(e){toastr.error("There was an error in getting job params and results.  Please refresh and try again")})},e.reprocess=function(){e.isReprocessing=!0,i.reprocess(o.id).then(function(e){toastr.success("Job reprocessed successfully."),t.close("1")},function(t){e.isReprocessing=!1,toastr.error("There was an error reprocessing job.  Please refresh and try again")})},e.init()}];epJobManagerApp.run(["$templateCache",function(e){var t="";t+=' <div class="row">',t+='            <div class="col-md-12">',t+='                <div class="clearfix">',t+='                    <div class="pull-right tableTools-container"></div>',t+="                </div>",t+='                <div class="table-header">',t+='                    Results for "Job Records"',t+='                    <button class="btn btn-success btn-sm btn-ui-grid pull-right" ng-click="processFilters(true);">',t+="                      <i class=\"ace-icon fa fa-refresh\" ng-class=\"{'fa-refresh fa-spin': isFiltering, 'fa-refresh': !isFiltering}\"></i>",t+="                      Refresh Jobs",t+="                    </button>",t+="                </div>",t+="",t+='                <div style="width:100%">',t+='                    <div class="grid" ui-grid="gridOptions" ui-grid-pagination ui-grid-expandable ui-grid-pinning ui-grid-auto-resize></div>',t+="",t+="                </div>",t+="            </div>",t+="        </div>",e.put("app/epJobQueueCtrl.html",t)}]),epJobManagerApp.run(["$templateCache",function(e){var t="";t+='<div class="modal-header">',t+='    <button type="button" class="close" ng-click="close()">&times;</button>',t+='    <h3 class="modal-title">Job Details</h3>',t+="</div>",t+='<div class="modal-body">',t+='    <div class="row">',t+='        <div class="col-md-3 col-sm-6">',t+='            <label class=" bold"> Job Number </label>',t+="        </div>",t+='        <div class="col-md-3 col-sm-6">',t+='            <label class=""> {{queueDetail.id}}</label>',t+="        </div>",t+='        <div class="space-4 visible-xs"></div>',t+='        <div class="col-md-3 col-sm-6">',t+='            <label class=" bold"> Job Name </label>',t+="        </div>",t+='        <div class="col-md-3 col-sm-6">',t+='            <label class=""> {{queueDetail.jobName}} </label>',t+="        </div>",t+='        <div class="space-4 visible-xs"></div>',t+="    </div>",t+="",t+='    <div class="row">',t+='        <div class="col-md-3 col-sm-6">',t+='            <label class=" bold"> Status </label>',t+="        </div>",t+='        <div class="col-md-3 col-sm-6">',t+='            <label class=""> {{queueDetail.status}}</label>',t+="        </div>",t+='        <div class="space-4 visible-xs"></div>',t+='        <div class="col-md-3 col-sm-6">',t+='            <label class=" bold"> Created Date </label>',t+="        </div>",t+='        <div class="col-md-3 col-sm-6">',t+="            <label class=\"\"> {{queueDetail.createdDate |date:'MM/dd/yyyy h:mm:ss a'}} </label>",t+="        </div>",t+='        <div class="space-4 visible-xs"></div>',t+="    </div>",t+="",t+='    <div class="row">',t+='        <div class="col-md-3 col-sm-6">',t+='            <label class=" bold"> Creator </label>',t+="        </div>",t+='        <div class="col-md-3 col-sm-6">',t+='            <label class=""> {{queueDetail.creator}}</label>',t+="        </div>",t+='        <div class="space-4 visible-xs"></div>',t+='        <div class="col-md-3 col-sm-6">',t+='            <label class=" bold "> Modified Date </label>',t+="        </div>",t+='        <div class="col-md-3 col-sm-6">',t+="            <label class=\"\"> {{queueDetail.modifiedDate |date:'MM/dd/yyyy h:mm:ss a'}} </label>",t+="        </div>",t+='        <div class="space-4 visible-xs"></div>',t+="    </div>",t+="",t+="",t+='    <div class="row">',t+='        <div class="col-md-3 col-sm-6">',t+='            <label class=" bold"> Modifier </label>',t+="        </div>",t+='        <div class="col-md-3 col-sm-6">',t+='            <label class=""> {{queueDetail.modifier}}</label>',t+="        </div>",t+="       ",t+='        <div class="space-4 visible-xs"></div>',t+="    </div>",t+="",t+="",t+="    <h4>Filter Parameters</h4>",t+='    <div class="row" >',t+='        <div class="col-md-6 col-sm-12" ng-repeat="param in jobParamsAndResults.parameters"><div class="col-sm-6 col-xs-12 no-padding"><label class=" word-break bold">{{param.paramName}}</label></div><div class="col-sm-6 col-xs-12 no-padding"><label class=" word-break">{{param.paramValue}}</label></div><div class="space-4 col-xs-12 visible-xs"></div></div>',t+="    </div>",t+="",t+="    <h4 ng-show=\"queueDetail.jobName=='Update Reprocess VDPS data'\">Filter Results</h4>",t+='    <div style="width:100%" ng-show="queueDetail.jobName==\'Update Reprocess VDPS data\'">',t+='        <div class="grid" ui-grid="gridOptions" ui-grid-pagination ui-grid-expandable ui-grid-pinning ui-grid-auto-resize></div>',t+="    </div>",t+="",t+="</div>",t+='<div class="modal-footer">',t+='    <button class="btn btn-success" ng-show="(queueDetail.status==\'COMPLETED\'||queueDetail.status==\'FAILED\')&& queueDetail.jobName==\'Update Reprocess VDPS data\'"  ng-click="confirmReprocess()"><i class="fa fa-refresh"></i> Reprocess</button>',t+='    <button class="btn btn-warning" ng-click="close(\'cancel\')">Close</button>',t+="</div>",e.put("epJobQueueCtrlMdl.html",t)}]),function(e,t){"use strict";"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.DeepDiff=t()}(this,function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function i(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function n(e,t,i){n.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:i,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function r(e,t){r.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function a(e,t,i){a.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:i,enumerable:!0})}function s(e,t,i){var n=e.slice((i||t)+1||e.length);return e.length=0>t?e.length+t:t,e.push.apply(e,n),e}function l(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":e instanceof Date?"date":/^\/.*\//.test(e.toString())?"regexp":"object"}function c(t,i,d,u,p,g,f){p=p||[];var m=p.slice(0);if("undefined"!=typeof g){if(u&&u(m,g,{lhs:t,rhs:i}))return;m.push(g)}var h=typeof t,v=typeof i;if("undefined"===h)"undefined"!==v&&d(new o(m,i));else if("undefined"===v)d(new r(m,t));else if(l(t)!==l(i))d(new n(m,t,i));else if(t instanceof Date&&i instanceof Date&&t-i!==0)d(new n(m,t,i));else if("object"===h&&null!==t&&null!==i){if(f=f||[],f.indexOf(t)<0){if(f.push(t),Array.isArray(t)){var b;t.length;for(b=0;b<t.length;b++)b>=i.length?d(new a(m,b,new r(e,t[b]))):c(t[b],i[b],d,u,m,b,f);for(;b<i.length;)d(new a(m,b,new o(e,i[b++])))}else{var y=Object.keys(t),w=Object.keys(i);y.forEach(function(n,o){var r=w.indexOf(n);r>=0?(c(t[n],i[n],d,u,m,n,f),w=s(w,r)):c(t[n],e,d,u,m,n,f)}),w.forEach(function(t){c(e,i[t],d,u,m,t,f)})}f.length=f.length-1}}else t!==i&&("number"===h&&isNaN(t)&&isNaN(i)||d(new n(m,t,i)))}function d(t,i,n,o){return o=o||[],c(t,i,function(e){e&&o.push(e)},n),o.length?o:e}function u(e,t,i){if(i.path&&i.path.length){var n,o=e[t],r=i.path.length-1;for(n=0;r>n;n++)o=o[i.path[n]];switch(i.kind){case"A":u(o[i.path[n]],i.index,i.item);break;case"D":delete o[i.path[n]];break;case"E":case"N":o[i.path[n]]=i.rhs}}else switch(i.kind){case"A":u(e[t],i.index,i.item);break;case"D":e=s(e,t);break;case"E":case"N":e[t]=i.rhs}return e}function p(e,t,i){if(e&&t&&i&&i.kind){for(var n=e,o=-1,r=i.path.length-1;++o<r;)"undefined"==typeof n[i.path[o]]&&(n[i.path[o]]="number"==typeof i.path[o]?[]:{}),n=n[i.path[o]];switch(i.kind){case"A":u(n[i.path[o]],i.index,i.item);break;case"D":delete n[i.path[o]];break;case"E":case"N":n[i.path[o]]=i.rhs}}}function g(e,t,i){if(i.path&&i.path.length){var n,o=e[t],r=i.path.length-1;for(n=0;r>n;n++)o=o[i.path[n]];switch(i.kind){case"A":g(o[i.path[n]],i.index,i.item);break;case"D":o[i.path[n]]=i.lhs;break;case"E":o[i.path[n]]=i.lhs;break;case"N":delete o[i.path[n]]}}else switch(i.kind){case"A":g(e[t],i.index,i.item);break;case"D":e[t]=i.lhs;break;case"E":e[t]=i.lhs;break;case"N":e=s(e,t)}return e}function f(e,t,i){if(e&&t&&i&&i.kind){var n,o,r=e;for(o=i.path.length-1,n=0;o>n;n++)"undefined"==typeof r[i.path[n]]&&(r[i.path[n]]={}),r=r[i.path[n]];switch(i.kind){case"A":g(r[i.path[n]],i.index,i.item);break;case"D":r[i.path[n]]=i.lhs;break;case"E":r[i.path[n]]=i.lhs;break;case"N":delete r[i.path[n]]}}}function m(e,t,i){if(e&&t){var n=function(n){i&&!i(e,t,n)||p(e,t,n)};c(e,t,n)}}var h,v,b=[];return h="object"==typeof global&&global?global:"undefined"!=typeof window?window:{},v=h.DeepDiff,v&&b.push(function(){"undefined"!=typeof v&&h.DeepDiff===d&&(h.DeepDiff=v,v=e)}),t(n,i),t(o,i),t(r,i),t(a,i),Object.defineProperties(d,{diff:{value:d,enumerable:!0},observableDiff:{value:c,enumerable:!0},applyDiff:{value:m,enumerable:!0},applyChange:{value:p,enumerable:!0},revertChange:{value:f,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof v},enumerable:!0},noConflict:{value:function(){return b&&(b.forEach(function(e){e()}),b=null),d},enumerable:!0}}),d});var epLoggingApp=angular.module("ep.logging",["ngResource"]),epLoggingSettingsVal={};epLoggingApp.value("epLoggingSettingsVal",epLoggingSettingsVal),epLoggingApp.run(["$rootScope","$http","epLoggingSettingsVal",function(e,t,i){t.get(i.jsonUrl).then(function(e){i.apiUrl=e.data.loggingApiUrl},function(e){throw"epLogging error: Please initialize the Epsilon Logging's token secret"})}]),epLoggingApp.provider("$epLogging",[function(){function e(e,t,i,n,o){var r={},a=function(){if(null===epLoggingSettingsVal.jsonUrl)throw"epLogging error: Please initialize the json url.";if(null===epLoggingSettingsVal.apiUrl)throw"epLogging error: Please initialize the api Url."};return r.all=function(e){switch(a(),e){case"standard":default:return i.query()}},r.GetActivityEntry=function(e){return a(),i.query(e)},r.GetActivityEntryLogs=function(e){return a(),i.query(e)},r.GetActivityEntryDetail=function(e){return a(),i.query({entryId:e})},r.configure=function(e,t){switch(a(),e){case"standard":default:return n.save(t)}},r.differences=function(e,t,i,n,r,s){switch(a(),e){case"standard":default:return new o.getDifferences(t,i,n,r,s)}},r.instance=function(e,t,i,n){switch(a(),e){case"standard":default:return new o(t,i,n)}},r.settings=function(e){switch(a(),e){case"standard":default:return n.query()}},r.save=function(e,t){switch(e){case"standard":t.profile=t.profile.differentiate();default:return i.save(t)}},r}var t={};return epLoggingSettingsVal.jsonUrl=null,t.setJsonUrl=function(e){epLoggingSettingsVal.jsonUrl=e},t.getJsonUrl=function(){return epLoggingSettingsVal.jsonUrl},epLoggingSettingsVal.apiUrl=null,t.setApiUrl=function(e){epLoggingSettingsVal.apiUrl=e},t.getApiUrl=function(){return epLoggingSettingsVal.apiUrl},t.$get=["$q","$http","$$eplStandardFcty","$$eplStandardConfigurationFcty","$$eplStandardProfileFcty",function(t,i,n,o,r){return new e(t,i,n,o,r)}],t.init=function(e){return angular.isObject(e)&&angular.extend(epLoggingSettingsVal,e),this},t}]),epLoggingApp.factory("$$eplStandardFcty",["$resource","epLoggingSettingsVal",function(e,t){var i=e(t.apiUrl+"/log/standard/:entryId/:action",{entryId:"@entryId",action:"@action"},{update:{method:"PUT"},filter:{method:"GET",params:{action:"filter"},isArray:!0}});return i}]),epLoggingApp.factory("$$eplStandardConfigurationFcty",["$resource","epLoggingSettingsVal",function(e,t){var i=e(t.apiUrl+"/log/standard/configuration/:id/:action",{id:"@id",action:"@action"});return i}]),epLoggingApp.factory("$$eplStandardProfileFcty",function(){function e(e,t,i){this.oldValue="",this.newValue="",this.activity="",this.type=e,this.fieldTitle="",this.additionalInfo=t,this.user=i,this.difference={}}function t(e,t){var i="";return angular.forEach(t,function(t,n){t.Name==e&&(i=t.friendlyName)}),i}function i(e,t,i){var o=DeepDiff(e,t),r=[];return angular.forEach(o,function(e,t){r.push(n(e,i))}),r}function n(t,i){var n=new e;return angular.isDefined(i)&&(n.type=i.type,n.additionalInfo=i.additionalInfo,n.user=i.user),n.difference=t,n.activity=o(t),n.fieldTitle=r(t),a(t,n),n}function o(e,t){var i="Add";switch(e.kind){case"E":i="Change Log";break;case"N":i="Add";break;case"D":i="Remove";break;case"A":i=t?"Array":o(e.item)}return i}function r(e){var t="";return angular.forEach(e.path,function(i,n){t+=i,t+=n+1===e.path.length?"":"."}),t}function a(e,t){"A"===e.kind?s(e,t):(t.oldValue=e.lhs,t.newValue=e.rhs)}function s(e,t){if("A"!==e.kind)throw"Invalid array difference";if(!angular.isObject(e.item))throw"Invalid array item.";switch(e.item.kind){case"N":t.oldValue="",t.newValue=e.item.rhs;break;default:throw"Array values added or deleted not supported"}}return e.prototype={differentiate:function(){if(angular.isObject(this.oldValue)&&angular.isObject(this.newValue)){var e=i(this.oldValue,this.newValue,this),n=this.friendlyName,o=[];return angular.forEach(e,function(e,i){var r=t(e.fieldTitle,n);angular.isUndefined(r)||""==r||(e.fieldTitle=r,o.push(e))}),o}throw"Comparing values do not exist or are invalid"}},e.getDifferences=function(t,n,o,r,a){var s=i(r,a,new e(t,n,o));return s},e}),epLoggingApp.directive("epActivityLog",["$modal",function(e){"use strict";var t={};return t.transclude=!0,t.replace=!0,t.restrict="E",t.template='<button class="btn btn-sm btn-primary" ng-click="showLog()"><i class="fa fa-eye bigger-110"></i> Activity Log</button>',t.scope={filter:"=filter"},t.link=function(t,i,n){t.showLog=function(){e.open({templateUrl:"epActivityEntry.html",controller:epActivityEntryCtrl,size:"lg",resolve:{filter:function(){return t.filter}}})}},t}]),epLoggingApp.run(["$templateCache",function(e){var t="<div>";t+="",t+='<div class="modal-header">',t+='    <button type="button" class="close" ng-click="close()">&times;</button>',t+='    <h3 class="modal-title">Activity Entries</h3>',t+="</div>",t+="",t+='<div class="modal-body">',t+='    <div class="page-content">',t+='        <div class="row">',t+='            <div class="col-md-12">',t+="                <div>",t+='                    <div class="grid" ui-grid="gridOptions" ui-grid-pagination ui-grid-expandable ui-grid-pinning ui-grid-auto-resize></div>',t+="                </div>",t+="            </div>",t+="        </div>",t+="    </div>",t+="</div>",t+="",t+="</div>",e.put("epActivityEntry.html",t)}]);var epActivityEntryCtrl=["$scope","$modalInstance","filter","uiGridConstants","$epLogging","$modal",function(e,t,i,n,o,r){"use strict";e.init=function(){e.filter=i,e.getActivityEntry()};var a='<button class="btn btn-primary btn-xs" ng-click="grid.appScope.viewEntryDetail(row.entity)"><span class="glyphicon glyphicon-eye-open"></span></button>';e.gridOptions={enableSorting:!0,showGridFooter:!0,enableFiltering:!0,enablePaginationControls:!0,paginationPageSizes:[25,50,100],paginationPageSize:25,columnDefs:[{field:"name"},{field:"entryTime",cellFilter:'date: "MM/dd/yyyy h:mm:ss a"'},{field:"userLoginId"},{field:"id",displayName:"View Log",cellTemplate:'<div style="padding-left:5px;padding-top:2px;">'+a+"</div>",enableFiltering:!1,enableSorting:!1,width:120,cellClass:"gridActionCell"}],data:e.items,onRegisterApi:function(t){e.gridApi=t,e.gridApi.core.on.sortChanged(e,function(t,i){e.gridApi.core.notifyDataChange(n.dataChange.COLUMN)})}},e.viewEntryDetail=function(e){r.open({templateUrl:"epActivityEntryDetail.html",controller:epActivityEntryDetailCtrl,size:"lg",resolve:{entryObjId:function(){return e.id}}})},e.getActivityEntry=function(){e.filter.additionalInfo=angular.isUndefined(e.filter.additionalInfo)?"":e.filter.additionalInfo,o.GetActivityEntry(e.filter).$promise.then(function(t){e.items=t,e.gridOptions.data=t},function(e){toastr.error("There was an error in fetching the activity entries. Please refresh and try again")})},e.close=function(e){t.dismiss(e)},e.init()}];epLoggingApp.run(["$templateCache",function(e){var t="";t+="<div>",t+='<div class="modal-header">',t+='<button type="button" class="close" ng-click="close()">&times;</button>',t+='        <h3 class="modal-title">Activity Entry Details</h3>',t+="    </div>",t+='    <div class="modal-body">',t+='        <div class="page-content">',t+='            <div class="row">',t+='                <div class="col-md-12">',t+="                    <div>",t+='                        <div class="grid " ui-grid="gridOptions" ui-grid-pagination ui-grid-expandable ui-grid-pinning ui-grid-auto-resize></div>',t+="                    </div>",t+="                </div>",t+="            </div>",t+="        </div>",t+="    </div>",t+="</div>",e.put("epActivityEntryDetail.html",t)}]);var epActivityEntryDetailCtrl=["$scope","$modalInstance","entryObjId","uiGridConstants","$epLogging","commonCtrl",function(e,t,i,n,o,r){"use strict";e.init=function(){e.entryObjId=i,e.getActivityEntryDetail()},e.gridOptions={enableSorting:!0,showGridFooter:!0,enableFiltering:!0,enablePaginationControls:!0,paginationPageSizes:[25,50,100],paginationPageSize:25,columnDefs:[{field:"fieldTitle"},{field:"oldValue",cellTooltip:function(e,t){return"Old Value: "+e.entity.oldValue},cellTemplate:'<div class="ui-grid-cell-contents" title="TOOLTIP" ng-click="grid.appScope.ShowComments(\'Old Value\',row.entity.oldValue)">{{row.entity.oldValue}}</div>'},{field:"newValue",cellTooltip:function(e,t){return"New Value: "+e.entity.newValue},cellTemplate:'<div class="ui-grid-cell-contents" title="TOOLTIP" ng-click="grid.appScope.ShowComments(\'New Value\',row.entity.newValue)">{{row.entity.newValue}}</div>'}],data:e.items,onRegisterApi:function(t){e.gridApi=t,e.gridApi.core.on.sortChanged(e,function(t,i){e.gridApi.core.notifyDataChange(n.dataChange.COLUMN)})}},e.ShowComments=function(e,t){r.confirm(e,t,function(){},"md",!0)},e.getActivityEntryDetail=function(){o.GetActivityEntryDetail(e.entryObjId).$promise.then(function(t){e.items=t,e.gridOptions.data=t},function(e){toastr.error("There was an error in fetching the activity entries. Please refresh and try again")})},e.close=function(e){t.dismiss(e)},e.init()}];epLoggingApp.directive("epActivityEntryLog",[function(e){"use strict";var t={};return t.transclude=!0,t.replace=!0,t.restrict="E",t.templateUrl="epActivityEntryLog.html",t.controller=epActivityEntryLogCtrl,t.scope={filter:"=filter",ngModel:"=ngModel"},t.link=function(e,t,i){},t}]),epLoggingApp.run(["$templateCache",function(e){var t="";t+="<div>",t+='<div class="modal-header">',t+='        <h3 class="modal-title">Activity Entry Details</h3>',t+="    </div>",t+='    <div class="modal-body">',t+='        <div class="page-content">',t+='            <div class="row">',t+='                <div class="col-md-12">',t+="                    <div>",t+='                        <div class="grid " ui-grid="gridOptions" ui-grid-pagination ui-grid-expandable ui-grid-pinning ui-grid-auto-resize></div>',t+="                    </div>",t+="                </div>",t+="            </div>",t+="        </div>",t+="    </div>",t+="</div>",e.put("epActivityEntryLog.html",t)}]);var epActivityEntryLogCtrl=["$scope","uiGridConstants","$epLogging","$filter",function(e,t,i,n){"use strict";e.init=function(){e.getActivityEntryLogs()},e.gridOptions={enableSorting:!0,showGridFooter:!0,enableFiltering:!0,enablePaginationControls:!0,paginationPageSizes:[25,50,100],paginationPageSize:25,columnDefs:[{field:"status",displayName:"Apply",cellTemplate:'<div class="text-center"><switch ng-model="row.entity.status" ng-true-value="true" ng-false-value="false" ng-change="grid.appScope.flagChange(row.entity)"></switch></div>',enableFiltering:!1,enableSorting:!1,width:120,cellClass:"gridActionCell"},{field:"fieldTitle"},{field:"oldValue",cellTooltip:function(e,t){return"Old Value: "+e.entity.oldValue}},{field:"newValue",cellTooltip:function(e,t){return"New Value: "+e.entity.newValue}},{field:"entryTime",cellFilter:'date: "MM/dd/yyyy h:mm:ss a"'},{field:"userLoginId"}],data:e.items,onRegisterApi:function(i){e.gridApi=i,e.gridApi.core.on.sortChanged(e,function(i,n){e.gridApi.core.notifyDataChange(t.dataChange.COLUMN)})}},e.flagChange=function(t){return t.status&&n("filter")(e.ngModel,{fieldTitle:t.fieldTitle}).length>0?(t.status=!1,void toastr.warning("This field has already been included for applying to dealer.")):void(e.ngModel=n("filter")(e.items,{status:!0}))},e.getActivityEntryLogs=function(){i.GetActivityEntryLogs(e.filter).$promise.then(function(t){angular.isDefined(e.filter.logFields)&&angular.isArray(e.filter.logFields)?e.items=n("filter")(t,function(t,i){return angular.isDefined(e.filter.includeLogFields)&&e.filter.includeLogFields?n("filter")(e.filter.logFields,{fieldTitle:t.fieldTitle}).length>0:0==n("filter")(e.filter.logFields,{fieldTitle:t.fieldTitle}).length}):e.items=t,angular.forEach(e.items,function(t,i){e.items[i].status=!1}),e.gridOptions.data=e.items},function(e){toastr.error("There was an error in fetching the activity entries. Please refresh and try again");
})},e.close=function(e){$modalInstance.dismiss(e)},e.init()}],epProdLogApp=angular.module("epProdLogApp",["epProdLogApp.tpls","angularCharts","ngResource"]);angular.module("epProdLogApp.tpls",["template/ep-pl-charts-drctv.html"]),epProdLogApp.config([function(){}]),epProdLogApp.provider("$epProdLog",[function(){function e(e,t){var i={};return i}var t={};return epPLSettingsVal.jsonUrl=null,t.setJsonUrl=function(e){epPLSettingsVal.jsonUrl=e},t.getJsonUrl=function(){return epPLSettingsVal.jsonUrl},epPLSettingsVal.apiUrl=null,t.setApiUrl=function(e){epPLSettingsVal.apiUrl=e},t.getApiUrl=function(){return epPLSettingsVal.apiUrl},t.$get=["$q","$http",function(t,i){return new e(t,i)}],t.init=function(e){return angular.isObject(e)&&angular.extend(epPLSettingsVal,e),this},t}]),epProdLogApp.run(["$rootScope","$http","epPLSettingsVal",function(e,t,i){t.get(i.jsonUrl).then(function(e){i.apiUrl=e.data.prodLogApiUrl},function(e){throw"epProdLog error: Please initialize the apiUrl.  Also, be sure to define <mimeMap fileExtension='.json' mimeType='application/json'/> in your web.config"})}]);var epPLSettingsVal={};epProdLogApp.value("epPLSettingsVal",epPLSettingsVal),epProdLogApp.constant("prodLogConstant",{apiUrl:"Http:"}),epProdLogApp.factory("epPlChartsFcty",["$resource","$q","epPLSettingsVal",function(e,t,i){var n={},o=e(i.apiUrl+"/api/prodlog/:action",{action:"@action"},{statusDate:{method:"GET",params:{action:"summary"},isArray:!0},Prodlogfilter:{method:"POST",params:{action:"detail"}},savePostRawData:{method:"POST",params:{action:"raw"}}}),r=function(e){var i=t.defer();return o.Prodlogfilter(e,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},a=function(e){var i=t.defer();return o.savePostRawData(e,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},s=function(e){var i=t.defer();return o.statusDate(e,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise};return n.Prodlogfilter=r,n.savePostRawData=a,n.statusDate=s,n}]),epProdLogApp.directive("epPlChartsDrctv",["epPlChartsFcty","uiGridConstants",function(e,t){"use strict";var i={};return i.transclude=!0,i.replace=!0,i.restrict="E",i.templateUrl="template/ep-pl-charts-drctv.html",i.link=function(i,n,o,r){function a(){e.statusDate({statusDate:i.graph.toDate}).then(function(e){i.values=e;var t={},n=[];i.values.forEach(function(e){n.push(e.subSystem),t[e.subSystem]=e.counts});c3.generate({bindto:"#piechart",data:{json:[t],keys:{value:n},type:"pie",onclick:function(e){i.graph.selectedSubsystem=e.name,l(1,i.pagination.pageSize),s()}}})},function(e){toastr.error("Error getting Pie Graph.  Error was: "+(angular.isDefined(e)?angular.isDefined(e.message)?e.message:e.data.message:"response error"))})}function s(){e.Prodlogfilter(i.graph).then(function(e){i.graphData=e.data,i.barGraphModel=e.barGraphModel;var t=[],n=[];e.data.forEach(function(e){var i={};e.statusDate=moment(e.statusDate).format("l"),n.push(e.subSystem),i[e.subSystem]=e.recordCount,t.push(i)});c3.generate({bindto:"#barchart",data:{keys:{value:n},type:"bar",xs:i.barGraphModel.xs,columns:i.barGraphModel.columns},zoom:{enabled:!0,rescale:!0},labels:!0,bar:{width:{ratio:.45}},tooltip:{show:!0},axis:{x:{type:"category",tick:{format:"%e %b %y",fit:!0}},y:{label:{text:"# of Records",position:"outer-middle"}}}})},function(e){toastr.error("Error getting bar graph.  Error was: "+(angular.isDefined(e)?angular.isDefined(e.message)?e.message:e.data.message:"response error"))})}function l(t,n){var o=angular.copy(i.graph);o.BeginRow=n*t-(n-1),o.EndRow=n*t,e.savePostRawData(o).then(function(e){angular.isDefined(e)&&angular.isDefined(e.rawDataModelList)&&e.rawDataModelList.length>=1&&(i.showGrid=!0,i.pagination.totalItems=e.totalRecords),i.items=e.rawDataModelList,i.gridOptionsAdHoc.data=e.rawDataModelList},function(e){toastr.error("There was an error in fetching the data. Please refresh and try again")})}var c=new Date;i.items=[],i.gridOptionsAdHoc={enableSorting:!0,enableColumnResizing:!0,enableRowResizing:!0,showGridFooter:!0,enableFiltering:!0,enablePaginationControls:!1,useExternalPagination:!0,columnDefs:[{field:"prodLogID",displayName:"Edit",enableFiltering:!1,enableSorting:!1,width:100,cellClass:"gridActionCell"},{field:"prodLogID",width:100},{field:"statusDate",width:100,cellFilter:"date"},{field:"pgmName",width:100},{field:"jobCommand",width:100},{field:"errorCode",width:100},{field:"status2GbstElm",width:100},{field:"emailSent",width:100,cellFilter:"date"},{field:"logComments",width:100},{field:"partDealerID",width:100},{field:"auditSID",width:100},{field:"module",width:100},{field:"action",width:100},{field:"clientInfo",width:100},{field:"callStack",width:100},{field:"errorStack",width:100},{field:"errorBacktrace",width:100},{field:"osUser",width:100},{field:"userName",width:100}],data:i.items,onRegisterApi:function(e){i.gridApi=e,i.gridApi.core.on.sortChanged(i,function(e,n){i.gridApi.core.notifyDataChange(t.dataChange.COLUMN)})}},i.graph={fromDate:new Date(c.getFullYear(),c.getMonth(),c.getDate()-1,c.getHours(),c.getMinutes()),toDate:new Date(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes()),selectedSubsystem:"",statusForSystem:""},i.RawDetails={},i.activate=function(){i.graph.invalid=i.graph.toDate<i.graph.fromDate,i.graph.invalid||(a(),s(),l(1,i.pagination.pageSize))},i.pagination={paginationPageSizes:[50,75,100,150],ddlpageSize:50,pageNumber:1,pageSize:50,totalItems:0,getTotalPages:function(){return Math.ceil(this.totalItems/this.pageSize)},pageSizeChange:function(){"All"===this.ddlpageSize?this.pageSize=i.pagination.totalItems:this.pageSize=this.ddlpageSize,this.pageNumber=1,l(this.pageNumber,this.pageSize)},firstPage:function(){this.pageNumber>1&&(this.pageNumber=1,l(this.pageNumber,this.pageSize))},nextPage:function(){this.pageNumber<this.getTotalPages()&&(this.pageNumber++,l(this.pageNumber,this.pageSize))},previousPage:function(){this.pageNumber>1&&(this.pageNumber--,l(this.pageNumber,this.pageSize))},lastPage:function(){this.pageNumber>=1&&(this.pageNumber=this.getTotalPages(),l(this.pageNumber,this.pageSize))}}},i}]),angular.module("template/ep-pl-charts-drctv.html",[]).run(["$templateCache",function(e){var t="<div>";t+='    <div class="row">',t+='        <div class="col-md-6">',t+="            <span>Start Date</span>",t+='            <input type="datetime-local" ng-model="graph.fromDate" placeholder="MM/dd/yyy hh:mm AM" />',t+="        </div>",t+='        <div class="col-md-6">',t+="            <span>End Date</span>",t+='            <input type="datetime-local" ng-model="graph.toDate" placeholder="MM/dd/yyy hh:mm AM" />',t+='            <button type="button" class="btn btn-success" ng-click="activate()">Visualize</button>',t+="        </div>",t+='        <div class="row col-md-12" style="color:red;" ng-show="graph.invalid">Please select end date greater than start date.</div>',t+='        <div class="row col-md-12">Please select start date, end date and click on Visualize to view dashboard.</div>',t+="    </div>",t+='    <div class="row">',t+='        <div class="col-md-6 col-sm-6">',t+='            <div id="piechart"></div>',t+="        </div>",t+='        <div class="col-md-6 col-sm-6">',t+='            <div id="barchart"></div>',t+="        </div>",t+="    </div>",t+='    <div class="row">',t+='        <div class="col-md-12">',t+="            <div>",t+='                <div class="grid dashboardGrid" ng-show="showGrid" ui-grid="gridOptionsAdHoc" ui-grid-pagination ui-grid-expandable ui-grid-pinning ui-grid-auto-resize>',t+='                    <div role="contentinfo" class="ui-grid-pager-panel ng-scope custompagination">',t+='                        <div role="navigation" class="ui-grid-pager-container">',t+='                            <div role="menubar" class="ui-grid-pager-control">',t+="                                <!-- Start Page -->",t+='                                <button type="button" role="menuitem" class="ui-grid-pager-first" ui-grid-one-bind-title="aria.pageToFirst"',t+='                                    ui-grid-one-bind-aria-label="aria.pageToFirst"',t+='                                    ng-click="pagination.firstPage()"',t+='                                    ng-disabled="cantPageBackward()" title="Page to first" aria-label="Page to first"',t+='                                    disabled="disabled">',t+='                                        <div class="first-triangle">',t+='                                            <div class="first-bar"></div>',t+="                                        </div>",t+="                                </button>",t+="                                <!-- Prev Page -->",t+='                                <button type="button" role="menuitem" class="ui-grid-pager-previous"',t+='                                    ui-grid-one-bind-title="aria.pageBack" ui-grid-one-bind-aria-label="aria.pageBack"',t+='                                    ng-click="pagination.previousPage()"',t+='                                    ng-disabled="cantPageBackward()" title="Page back" aria-label="Page back" disabled="disabled">',t+='                                        <div class="first-triangle prev-triangle"></div>',t+="                                </button>",t+='                                <input type="number" ui-gri-one-bind-title="aria.pageSelected" ui-grid-one-bind-aria-label="aria.pageSelected"',t+='                                    class="ui-grid-pager-control-input ng-pristine ng-untouched ng-valid ng-not-empty ng-valid-min ng-valid-max ng-valid-required"',t+='                                    ng-model="pagination.pageNumber"',t+='                                    min="1" max="{{pagination.getTotalPages()}}" required="" title="Selected page"',t+='                                    aria-label="Selected page" disabled>',t+='                                        <span class="ui-grid-pager-max-pages-number ng-binding"',t+='                                            ng-show="pagination.getTotalPages() > 0">',t+="                                             /{{pagination.getTotalPages()}}",t+="                                </span></input>",t+="                                <!-- Next Page -->",t+='                                <button type="button" role="menuitem" class="ui-grid-pager-next" ui-grid-one-bind-title="aria.pageForward"',t+='                                    ui-grid-one-bind-aria-label="aria.pageForward"',t+='                                    ng-click="pagination.nextPage()"',t+='                                    ng-disabled="cantPageForward()"',t+='                                    title="Page forward" aria-label="Page forward">',t+='                                        <div class="last-triangle next-triangle"></div>',t+="                                </button>",t+="                                <!-- Last Page -->",t+='                                <button type="button" role="menuitem" class="ui-grid-pager-last"',t+='                                    ui-grid-one-bind-title="aria.pageToLast" ui-grid-one-bind-aria-label="aria.pageToLast"',t+='                                    ng-click="pagination.lastPage()" ng-disabled="cantPageToLast()" title="Page to last" aria-label="Page to last">',t+='                                        <div class="last-triangle"><div class="last-bar"></div></div>',t+="                                </button>",t+="                            </div><!-- ngIf: grid.options.paginationPageSizes.length > 1 -->",t+='                            <div class="ui-grid-pager-row-count-picker ng-scope" @*ng-if="pagination.ddlpageSize.length > 1"*@>',t+='                                <select ng-model="pagination.ddlpageSize"',t+='                                    ng-options="o as o for o in pagination.paginationPageSizes" ng-change="pagination.pageSizeChange()"',t+='                                    class="ng-pristine ng-untouched ng-valid ng-not-empty"></select>',t+='                                        <span class="ui-grid-pager-row-count-label ng-binding">&nbsp;items per page</span>',t+="                            </div>",t+="                            <!-- end ngIf: grid.options.paginationPageSizes.length > 1 -->",t+="                            <!-- ngIf: grid.options.paginationPageSizes.length <= 1 -->",t+="                         </div>",t+='                        <div class="ui-grid-pager-count-container">',t+='                            <div class="ui-grid-pager-count">',t+='                                <span ng-show="pagination.totalItems > 0" class="ng-binding" style="">',t+="                                    {{(pagination.pageNumber * pagination.ddlpageSize) - (pagination.ddlpageSize -1)}} - {{pagination.pageNumber * pagination.ddlpageSize}} of {{pagination.totalItems}} items",t+="                                </span>",t+="                            </div>",t+="                        </div>",t+="                    </div>",t+="                </div>",t+="                <p>{{SelectedRow}}</p>",t+="            </div>",t+="        </div>",t+="    </div>",t+="</div>",e.put("template/ep-pl-charts-drctv.html",t)}]),function(e){var t=e.module("angular.chosen",[]);t.directive("chosen",["$timeout",function(t){var i,n,o,r;return i=[{onChange:"change"},{onReady:"chosen:ready"},{onMaxSelected:"chosen:maxselected"},{onShowDropdown:"chosen:showing_dropdown"},{onHideDropdown:"chosen:hiding_dropdown"},{onNoResult:"chosen:no_results"}],n={options:"=",ngModel:"=",ngDisabled:"=",optionsMethod:"&",isAutoComplete:"@",autoResetMethod:"@"},i.forEach(function(e){var t=Object.keys(e)[0];n[t]="="}),o=function(n,o,a,s){function l(e,t){e.chHashKey=e.$$hashKey;for(var i=JSON.stringify(e),n=0;n<t.length;n++)if(t[n].chHashKey=void 0==t[n].chHashKey?t[n].$$hashKey:t[n].chHashKey,JSON.stringify(t[n])==i)return n;return-1}function c(t,i){var n=e.copy(i),o=l(n,t);return l(i,t)>=0?0:(-1==o?t.push(i):(t.splice(o,1),t.push(i)),1)}r=["ngModel","ngDisabled"],n.isAutoComplete?(n.$parent[n.autoResetMethod]=function(){n.ngModel=void 0,s.currSearchText="",s.lastSearchedText="",n.options=[]},n.$watch("options",function(){var i=e.copy(n.options),r=0;e.isArray(n.ngModel)?$.each(n.ngModel,function(e,t){void 0!=t&&(r+=c(i,t))}):void 0!=n.ngModel&&(r+=c(i,n.ngModel)),void 0!=n.options&&r>0&&(n.options=i),t(function(){o.trigger("chosen:updated",[s.currSearchText,!0])})})):r.push("options");var d=parseInt(a.maxSelection,10),u=parseInt(a.searchThreshold,10),p="true"===a.allowSingleDeselect,g=!!n.isAutoComplete;(isNaN(d)||d===1/0)&&(d=void 0),(isNaN(u)||u===1/0)&&(u=void 0),e&&(o.bind("chosen:search",function(e,t){s.currSearchText=t,3==t.length&&s.lastSearchedText!=s.currSearchText?(s.lastSearchedText=s.currSearchText,o.trigger("chosen:readonly"),n.optionsMethod({searchText:s.currSearchText}).then(function(e){o.trigger("chosen:writeable"),s.resultsFetched=!0,n.options=e},function(e){o.trigger("chosen:writeable"),s.currSearchText="",s.lastSearchedText="",n.options=[]})):(t.length>=3||s.resultsFetched)&&o.trigger("chosen:updated",[s.currSearchText,!0,!0])}),o.chosen({width:"100%",max_selected_options:d,disable_search_threshold:u,allow_single_deselect:p,search_contains:!0,is_auto_complete:g}),o.on("change",function(){o.trigger("chosen:updated")}),n.$watchGroup(r,function(){t(function(){o.trigger("chosen:updated")},100)}),i.forEach(function(e){var t=Object.keys(e)[0];"function"==typeof n[t]&&o.on(e[t],function(e){n.$apply(function(){n[t](e)})})}))},{name:"chosen",require:"ngModel",scope:n,restrict:"A",link:o}}])}(angular),function(){var e,t,i,n,o,r={}.hasOwnProperty,a=function(e,t){function i(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};n=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,n,o,r,a;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),title:e.title?e.title:void 0,children:0,disabled:e.disabled,classes:e.className}),r=e.childNodes,a=[],n=0,o=r.length;o>n;n++)i=r[n],a.push(this.add_option(i,t,e.disabled));return a},e.prototype.add_option=function(e,t,i){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,title:e.title?e.title:void 0,selected:e.selected,disabled:i===!0?i:e.disabled,group_array_index:t,group_label:null!=t?this.parsed[t].label:null,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e.prototype.escapeExpression=function(e){var t,i;return null==e||e===!1?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(i,function(e){return t[e]||"&amp;"})):e},e}(),n.select_to_array=function(e){var t,i,o,r,a;for(i=new n,a=e.childNodes,o=0,r=a.length;r>o;o++)t=a[o],i.add_node(t);return i.parsed},t=function(){function e(t,i){this.form_field=t,this.options=null!=i?i:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0,this.is_auto_complete=null!=this.options.is_auto_complete?this.options.is_auto_complete:!1,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1},e.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.choice_label=function(e){return this.include_group_label_in_selected&&null!=e.group_label?"<b class='group-name'>"+e.group_label+"</b>"+e.html:e.html},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(e){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(e){var t=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return t.blur_test()},100))},e.prototype.results_option_build=function(e){var t,i,n,o,r;for(t="",r=this.results_data,n=0,o=r.length;o>n;n++)i=r[n],t+=i.group?this.result_add_group(i):this.result_add_option(i),(null!=e?e.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(i)));return t},e.prototype.result_add_option=function(e){var t,i;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),i=document.createElement("li"),i.className=t.join(" "),i.style.cssText=e.style,i.setAttribute("data-option-array-index",e.array_index),i.innerHTML=e.search_text,e.title&&(i.title=e.title),this.outerHTML(i)):""},e.prototype.result_add_group=function(e){var t,i;return(e.search_match||e.group_match)&&e.active_options>0?(t=[],t.push("group-result"),e.classes&&t.push(e.classes),i=document.createElement("li"),i.className=t.join(" "),i.innerHTML=e.search_text,e.title&&(i.title=e.title),this.outerHTML(i)):""},e.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},e.prototype.reset_single_select_options=function(){var e,t,i,n,o;for(n=this.results_data,o=[],t=0,i=n.length;i>t;t++)e=n[t],e.selected?o.push(e.selected=!1):o.push(void 0);return o},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(e){return this.results_showing&&!this.is_auto_complete?this.winnow_results():this.results_showing?void this.form_field_jq.trigger("chosen:search",this.search_field.val()):this.results_show()},e.prototype.winnow_results=function(){var e,t,i,n,o,r,a,s,l,c,d,u;for(this.no_results_clear(),n=0,r=this.get_search_text(),e=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=new RegExp(e,"i"),i=this.get_search_regex(e),u=this.results_data,c=0,d=u.length;d>c;c++)t=u[c],t.search_match=!1,o=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(o=this.results_data[t.group_array_index],0===o.active_options&&o.search_match&&(n+=1),o.active_options+=1),t.search_text=t.group?t.label:t.html,t.group&&!this.group_search||(t.search_match=this.search_string_match(t.search_text,i),t.search_match&&!t.group&&(n+=1),t.search_match?(r.length&&(a=t.search_text.search(l),s=t.search_text.substr(0,a+r.length)+"</em>"+t.search_text.substr(a+r.length),t.search_text=s.substr(0,a)+"<em>"+s.substr(a)),null!=o&&(o.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return this.result_clear_highlight(),1>n&&r.length?(this.update_results_content(""),this.no_results(r)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.get_search_regex=function(e){var t;return t=this.search_contains?"":"^",new RegExp(t+e,"i")},e.prototype.search_string_match=function(e,t){var i,n,o,r;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||0===e.indexOf("["))&&(n=e.replace(/\[|\]/g,"").split(" "),n.length))for(o=0,r=n.length;r>o;o++)if(i=n[o],t.test(i))return!0},e.prototype.choices_count=function(){var e,t,i,n;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,n=this.form_field.options,t=0,i=n.length;i>t;t++)e=n[t],e.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},e.prototype.keyup_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.clipboard_event_checker=function(e){var t=this;return setTimeout(function(){return t.results_search()},50)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return this.is_multiple&&!this.display_selected_options&&e.selected?!1:!this.display_disabled_options&&e.disabled?!1:!e.empty},e.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},e.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},e.prototype.search_results_touchend=function(e){return this.touch_started?this.search_results_mouseup(e):void 0},e.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:(t=document.createElement("div"),t.appendChild(e),t.innerHTML)},e.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:!/Android/i.test(window.navigator.userAgent)||!/Mobile/i.test(window.navigator.userAgent)},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),e=jQuery,e.fn.extend({chosen:function(n){return t.browser_is_supported()?this.each(function(t){var o,r;o=e(this),r=o.data("chosen"),"destroy"===n&&r instanceof i?r.destroy():r instanceof i||o.data("chosen",new i(this,n))}):this}}),i=function(t){function i(){return o=i.__super__.constructor.apply(this,arguments)}return a(i,t),i.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},i.prototype.set_up_html=function(){var t,i;return t=["chosen-container"],t.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),i={"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",i),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},i.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var e=this;return this.container.bind("touchstart.chosen",function(t){return e.container_mousedown(t),t.preventDefault()}),this.container.bind("touchend.chosen",function(t){return e.container_mouseup(t),t.preventDefault()}),this.container.bind("mousedown.chosen",function(t){e.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){e.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){e.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){e.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){e.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){e.search_results_mousewheel(t)}),this.search_results.bind("touchstart.chosen",function(t){e.search_results_touchstart(t)}),this.search_results.bind("touchmove.chosen",function(t){e.search_results_touchmove(t)}),this.search_results.bind("touchend.chosen",function(t){e.search_results_touchend(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t,i,n,o){return void 0!=o&&o||e.results_update_field(t),n?(e.search_field.val(i),e.winnow_results()):void 0}),this.form_field_jq.bind("chosen:activate.chosen",function(t){e.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){e.container_mousedown(t)}),this.form_field_jq.bind("chosen:close.chosen",function(t){e.input_blur(t)}),this.form_field_jq.bind("chosen:readonly.chosen",function(t){e.update_results_content(""),e.no_results_clear(),e.results_loading(),e.search_field.attr("readonly",!0)}),this.form_field_jq.bind("chosen:writeable.chosen",function(t){e.search_field.attr("readonly",!1)}),this.search_field.bind("blur.chosen",function(t){e.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){e.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){e.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){e.input_focus(t)}),this.search_field.bind("cut.chosen",function(t){e.clipboard_event_checker(t)}),this.search_field.bind("paste.chosen",function(t){e.clipboard_event_checker(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){e.choices_click(t)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},i.prototype.destroy=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},i.prototype.container_mousedown=function(t){return this.is_disabled||(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),
this.results_show()),this.activate_field())},i.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},i.prototype.search_results_mousewheel=function(e){var t;return e.originalEvent&&(t=e.originalEvent.deltaY||-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t=40*t),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},i.prototype.blur_test=function(e){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},i.prototype.close_field=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(t){var i;return i=e(t.target).closest(".chosen-container"),i.length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=n.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(e){var t,i,n,o,r;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),n=parseInt(this.search_results.css("maxHeight"),10),r=this.search_results.scrollTop(),o=n+r,i=this.result_highlight.position().top+this.search_results.scrollTop(),t=i+this.result_highlight.outerHeight(),t>=o)return this.search_results.scrollTop(t-n>0?t-n:0);if(r>i)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},i.prototype.update_results_content=function(e){return this.search_results.html(e)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(e){var t;return this.form_field.tabIndex?(t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t):void 0},i.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(t),this.search_field.focus()):void 0},i.prototype.search_results_mouseover=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},i.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},i.prototype.choice_build=function(t){var i,n,o=this;return i=e("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(t)+"</span>"),t.disabled?i.addClass("search-choice-disabled"):(n=e("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index}),n.bind("click.chosen",function(e){return o.choice_destroy_link_click(e)}),i.append(n)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(e(t.target))},i.prototype.choice_destroy=function(e){return this.result_deselect(e[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},i.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(e){var t,i;return this.result_highlight?(t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),t.addClass("result-selected"),i=this.results_data[t[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(this.choice_label(i)),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,e.preventDefault(),this.search_field_scale())):void 0},i.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(e)},i.prototype.result_deselect=function(e){var t;return t=this.results_data[e],this.form_field.options[t.options_index].disabled?!1:(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},i.prototype.get_search_text=function(){return e("<div/>").text(e.trim(this.search_field.val())).html()},i.prototype.winnow_results_set_highlight=function(){var e,t;return t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null!=e?this.result_do_highlight(e):void 0},i.prototype.no_results=function(t){var i;return i=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(t),this.search_results.append(i),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},i.prototype.results_loading=function(){var t;return t=e('<li class="no-results">Loading, please wait...</li>'),this.search_results.append(t),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:this.results_showing&&e.preventDefault();break;case 32:this.disable_search&&e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},i.prototype.search_field_scale=function(){var t,i,n,o,r,a,s,l,c;if(this.is_multiple){for(n=0,s=0,r="position:absolute; left: -1000px; top: -1000px; display:none;",a=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,c=a.length;c>l;l++)o=a[l],r+=o+":"+this.search_field.css(o)+";";return t=e("<div />",{style:r}),t.text(this.search_field.val()),e("body").append(t),s=t.width()+25,t.remove(),i=this.container.outerWidth(),s>i-10&&(s=i-10),this.search_field.css({width:s+"px"})}},i}(t)}.call(this),!function(){"use strict";angular.module("ep.formly",["ep.formly.core","ep.formly.widgets","ep.formly.service","ep.formly.templates","ep.formly.samples","ep.formly.layout","ngResource","ngCkeditor"]).config(["$epGenericDataServiceProvider",function(e){e.init({apiUrl:"https://dev-webenrollmentapi.amssupport.net",isGenericApiSecure:!1,cacheEnabled:!0,wordcheck:!1})}])}(),function(){"use strict";angular.module("ep.formly.core",["ngAnimate","ngSanitize","blocks.exception","blocks.logger","blocks.router","ui.router","ngplus","formly","ui.grid","ui.grid.pagination","ui.grid.selection","ui.bootstrap","formlyBootstrap","isteven-multi-select","ui.timepicker","ui.mask","ngMessages","localytics.directives","uiSwitch"])}();var epGenSettingsVal={};!function(){"use strict";angular.module("ep.generic.dataservice",["ngResource"]).value("epGenSettingsVal",epGenSettingsVal)}(),function(){"use strict";angular.module("ep.formly.layout",["ep.formly.core"])}(),function(){"use strict";angular.module("ep.formly.service",[])}(),function(){"use strict";angular.module("ep.formly.samples",["ep.formly.core","ep.formly.widgets"])}(),function(){"use strict";angular.module("ep.formly.widgets",[])}(),function(){"use strict";angular.module("ep.formly.templates",["ep.generic.dataservice","ep.formly.templates.wordCheck","ep.formly.templates.grid","ep.formly.templates.hours","ep.formly.templates.select","ep.formly.templates.textbox","ep.formly.templates.textarea","ep.formly.templates.datepicker","ep.formly.templates.wrappers","ep.formly.templates.check","ep.formly.templates.multicheck","ep.formly.templates.radio","ep.formly.templates.button","ep.formly.templates.picklist","ep.formly.templates.multiselect","ep.formly.templates.ckeditor","ep.formly.templates.repeat","ep.formly.templates.calendarEnrollDates","ep.formly.templates.pagePermissions","ep.formly.templates.autocompleteList","ep.formly.templates.maskedInput","ep.formly.templates.genericcrud","ep.formly.templates.tabsStrip","ep.formly.templates.searchableDropdown","ep.formly.templates.masterDetail","ep.formly.templates.epswitch","ep.formly.templates.contextbutton","ep.formly.templates.label","ep.formly.templates.filterbutton","ep.formly.templates.collapseExpand","ep.formly.templates.checklist","ep.formly.templates.editableselect"])}(),function(){"use strict";angular.module("ep.formly.templates.autocompleteList",[])}(),function(){"use strict";angular.module("ep.formly.templates.checklist",[])}(),function(){"use strict";angular.module("ep.formly.templates.button",[])}(),function(){"use strict";angular.module("ep.formly.templates.ckeditor",[])}(),function(){"use strict";angular.module("ep.formly.templates.collapseExpand",[])}(),function(){"use strict";angular.module("ep.formly.templates.contextbutton",[])}(),function(){"use strict";angular.module("ep.formly.templates.datepicker",[])}(),function(){"use strict";angular.module("ep.formly.templates.editableselect",[])}(),function(){"use strict";angular.module("ep.formly.templates.filterbutton",[])}(),function(){"use strict";angular.module("ep.formly.templates.genericcrud",[])}(),function(){"use strict";angular.module("ep.formly.templates.grid",["ui.grid.resizeColumns","ui.grid.pagination","ui.grid.selection"])}(),function(){"use strict";angular.module("ep.formly.templates.hours",[])}(),function(){"use strict";angular.module("ep.formly.templates.label",[])}(),function(){"use strict";angular.module("ep.formly.templates.maskedInput",[])}(),function(){"use strict";angular.module("ep.formly.templates.masterDetail",[])}(),function(){"use strict";angular.module("ep.formly.templates.multicheck",[])}(),function(){"use strict";angular.module("ep.formly.templates.multiselect",[])}(),function(){"use strict";angular.module("ep.formly.templates.pagePermissions",[])}(),function(){"use strict";angular.module("ep.formly.templates.searchableDropdown",[])}(),function(){"use strict";angular.module("ep.formly.templates.picklist",["ngSanitize"])}(),function(){"use strict";angular.module("ep.formly.templates.radio",[])}(),function(){"use strict";angular.module("ep.formly.templates.repeat",[])}(),function(){"use strict";angular.module("ep.formly.templates.select",[])}(),function(){"use strict";angular.module("ep.formly.templates.epswitch",[])}(),function(){"use strict";angular.module("ep.formly.templates.check",[])}(),function(){"use strict";angular.module("ep.formly.templates.tabsStrip",[])}(),function(){"use strict";angular.module("ep.formly.templates.textbox",[])}(),function(){"use strict";var e=["ahole","anus","ash0le","ash0les","asholes","ass","Ass Monkey","Assface","assh0le","assh0lez","asshole","assholes","assholz","asswipe","azzhole","bassterds","bastard","bastards","bastardz","basterds","basterdz","Biatch","bitch","bitches","Blow Job","boffing","butthole","buttwipe","c0ck","c0cks","c0k","Carpet Muncher","cawk","cawks","Clit","cnts","cntz","cock","cockhead","cock-head","cocks","CockSucker","cock-sucker","crap","cum","cunt","cunts","cuntz","dick","dild0","dild0s","dildo","dildos","dilld0","dilld0s","dominatricks","dominatrics","dominatrix","dyke","enema","f u c k","f u c k e r","fag","fag1t","faget","fagg1t","faggit","faggot","fagit","fags","fagz","faig","faigs","fart","flipping the bird","fucker","fuckin","fucking","fucks","Fudge Packer","fuk","Fukah","Fuken","fuker","Fukin","Fukk","Fukkah","Fukken","Fukker","Fukkin","g00k","gay","gayboy","gaygirl","gays","gayz","God-damned","h00r","h0ar","h0re","hells","hoar","hoor","hoore","jackoff","jap","japs","jerk-off","jisim","jiss","jizm","jizz","knob","knobs","knobz","kunt","kunts","kuntz","Lesbian","Lezzian","Lipshits","Lipshitz","masochist","masokist","massterbait","masstrbait","masstrbate","masterbaiter","masterbate","masterbates","Motha Fucker","Motha Fuker","Motha Fukkah","Motha Fukker","Mother Fucker","Mother Fukah","Mother Fuker","Mother Fukkah","Mother Fukker","mother-fucker","Mutha Fucker","Mutha Fukah","Mutha Fuker","Mutha Fukkah","Mutha Fukker","n1gr","nastt","nigger","nigur","niiger","niigr","orafis","orgasim","orgasm","orgasum","oriface","orifice","orifiss","packi","packie","packy","paki","pakie","paky","pecker","peeenus","peeenusss","peenus","peinus","pen1s","penas","penis","penis-breath","penus","penuus","Phuc","Phuck","Phuk","Phuker","Phukker","polac","polack","polak","Poonani","pr1c","pr1ck","pr1k","pusse","pussee","pussy","puuke","puuker","queer","queers","queerz","qweers","qweerz","qweir","recktum","rectum","retard","sadist","scank","schlong","screwing","semen","sex","sexy","Sh!t","sh1t","sh1ter","sh1ts","sh1tter","sh1tz","shit","shits","shitter","Shitty","Shity","shitz","Shyt","Shyte","Shytty","Shyty","skanck","skank","skankee","skankey","skanks","Skanky","slut","sluts","Slutty","slutz","son-of-a-bitch","tit","turd","va1jina","vag1na","vagiina","vagina","vaj1na","vajina","vullva","vulva","w0p","wh00r","wh0re","whore","xrated","xxx","b!+ch","bitch","blowjob","clit","arschloch","fuck","shit","asshole","b!tch","b17ch","b1tch","bastard","bi+ch","boiolas","buceta","c0ck","cawk","chink","cipa","clits","cock","cum","cunt","dildo","dirsa","ejakulate","fatass","fcuk","fuk","fux0r","hoer","hore","jism","kawk","l3itch","l3i+ch","lesbian","masturbate","masterbat","masterbat3","motherfucker","s.o.b","mofo","nazi","nigga","nigger","nutsack","phuck","pimpis","pusse","pussy","scrotum","sh!t","shemale","shi","sh","slut","smut","teets","tits","boobs","b00bs","teez","testical","testicle","titt","w00se","jackoff","wank","whoar","whore","damn","dyke","shit","@$$","amcik","andskota","arse","assrammer","ayir","bi7ch","bitch","bollock","breasts","butt-pirate","cabron","cazzo","chraa","chuj","Cock","cunt","d4mn","daygo","dego","dick","dike","dupa","dziwka","ejackulate","Ekrem","Ekto","enculer","faen","fag","fanculo","fanny","feces","feg","Felcher","ficken","fitt","Flikker","foreskin","Fotze","Fu","fuk","futkretzn","gay","gook","guiena","h0r","h4x0r","hell","helvete","hoer","honkey","Huevon","hui","injun","jizz","kanker","kike","klootzak","kraut","knulle","kuk","kuksuger","Kurac","kurwa","kusi","kyrpa","lesbo","mamhoon","masturbat","merd","mibun","monkleigh","mouliewop","muie","mulkku","muschi","nazis","nepesaurio","nigger","orospu","paska","perse","picka","pierdol","pillu","pimmel","piss","pizda","poontsee","poop","porn","p0rn","pr0n","preteen","pula","pule","puta","puto","qahbeh","queef","rautenberg","schaffer","scheiss","schlampe","schmuck","screw","sh!t","sharmuta","sharmute","shipal","shiz","skribz","skurwysyn","sphencter","spic","spierdalaj","splooge","suka","b00b","testicle","titt","twat","vittu","wank","wetback","wichser","wop","yed","zabourah"];angular.module("ep.formly.templates.wordCheck",[]).value("swearWordsValue",e)}(),function(){"use strict";angular.module("ep.formly.templates.textarea",[])}(),function(){"use strict";angular.module("ep.formly.templates.calendarEnrollDates",[])}(),function(){"use strict";angular.module("blocks.logger",[])}(),function(){"use strict";angular.module("blocks.router",["ui.router","blocks.logger"])}(),function(){"use strict";angular.module("blocks.exception",["blocks.logger"])}(),function(){"use strict";angular.module("ep.formly.templates.wrappers",[])}();var App=App||{};App.olcaUi=function(){var e={},t=function(){var e=$(".sidebar");$.fn.ace_sidebar&&e.ace_sidebar(),$.fn.ace_sidebar_scroll&&e.ace_sidebar_scroll({include_toggle:ace.vars.safari||ace.vars.ios_safari}),$.fn.ace_sidebar_hover&&e.ace_sidebar_hover({sub_hover_delay:750,sub_scroll_style:"no-track scroll-thin scroll-margin scroll-visible"})},i=function(){var e=$(".sidebar");e.ace_sidebar("collapse")},n=function(){ace.vars.non_auto_fixed&&$("body").addClass("mob-safari"),$("body").addClass("no-skin"),$("body").removeClass("login-layout")},o=function(){if($.fn.ace_ajax){window.Pace&&(window.paceOptions={ajax:!0,document:!0,eventLag:!1});var e={close_active:!0,default_url:"page/index",content_url:function(e){if(!e.match(/^page\//))return!1;var t=document.location.pathname;return t.match(/(\/ajax\/)(index\.html)?/)?t.replace(/(\/ajax\/)(index\.html)?/,"/ajax/content/"+e.replace(/^page\//,"")+".html"):t+"?"+e.replace(/\//,"=")}};window.Pace&&(e.loading_overlay="body"),$("[data-ajax-content=true]").ace_ajax(e),$(window).on("error.ace_ajax",function(){$("[data-ajax-content=true]").each(function(){var e=$(this);e.ace_ajax("working")&&(window.Pace&&Pace.running&&Pace.stop(),e.ace_ajax("stopLoading",!0))})})}},r=function(){$(".sidebar .nav-list .badge[title],.sidebar .nav-list .badge[title]").each(function(){var e=$(this).attr("class").match(/tooltip\-(?:\w+)/);e=e?e[0]:"tooltip-error",$(this).tooltip({placement:function(e,t){var i=$(t).offset();return parseInt(i.left)<parseInt(document.body.scrollWidth/2)?"right":"left"},container:"body",template:'<div class="tooltip '+e+'"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})})},a=function(){var e=$(".btn-scroll-up");if(e.length>0){var t=!1;$(window).on("scroll.scroll_btn",function(){var i=ace.helper.scrollTop(),n=ace.helper.winHeight(),o=document.body.scrollHeight;i>parseInt(n/4)||i>0&&o>=n&&n+i>=o-1?t||(e.addClass("display"),t=!0):t&&(e.removeClass("display"),t=!1)}).triggerHandler("scroll.scroll_btn"),e.on(ace.click_event,function(){var e=Math.min(500,Math.max(100,parseInt(ace.helper.scrollTop()/3)));return $("html,body").animate({scrollTop:0},e),!1})}},s=function(){var e=!!$.fn.ace_scroll;e&&$(".dropdown-content").ace_scroll({reset:!1,mouseWheelLock:!0}),e&&!ace.vars.old_ie&&($(window).on("resize.reset_scroll",function(){$(".ace-scroll:not(.scroll-disabled)").not(":hidden").ace_scroll("reset")}),e&&$(document).on("settings.ace.reset_scroll",function(e,t){"sidebar_collapsed"==t&&$(".ace-scroll:not(.scroll-disabled)").not(":hidden").ace_scroll("reset")}))},l=function(){$(document).on("click.dropdown.pos",'.dropdown-toggle[data-position="auto"]',function(){var e=$(this).offset(),t=$(this.parentNode);parseInt(e.top+$(this).height())+50>ace.helper.scrollTop()+ace.helper.winHeight()-t.find(".dropdown-menu").eq(0).height()?t.addClass("dropup"):t.removeClass("dropup")})},c=function(){$('.ace-nav [class*="icon-animated-"]').closest("a").one("click",function(){var e=$(this).find('[class*="icon-animated-"]').eq(0),t=e.attr("class").match(/icon\-animated\-([\d\w]+)/);e.removeClass(t[0])}),$(document).on("click",".dropdown-navbar .nav-tabs",function(e){e.stopPropagation();var t;e.target,(t=$(e.target).closest("[data-toggle=tab]"))&&t.length>0&&(t.tab("show"),e.preventDefault(),$(window).triggerHandler("resize.navbar.dropdown"))})},d=function(){if(ace.vars.webkit){var e=$(".ace-nav").get(0);e&&$(window).on("resize.webkit_fix",function(){ace.helper.redraw(e)})}ace.vars.ios_safari&&$(document).on("ace.settings.ios_fix",function(e,t,i){"navbar_fixed"==t&&($(document).off("focus.ios_fix blur.ios_fix","input,textarea,.wysiwyg-editor"),1==i&&$(document).on("focus.ios_fix","input,textarea,.wysiwyg-editor",function(){$(window).on("scroll.ios_fix",function(){var e=$("#navbar").get(0);e&&ace.helper.redraw(e)})}).on("blur.ios_fix","input,textarea,.wysiwyg-editor",function(){$(window).off("scroll.ios_fix")}))}).triggerHandler("ace.settings.ios_fix",["navbar_fixed","fixed"==$("#navbar").css("position")])},u=function(){$(document).on("hide.bs.collapse show.bs.collapse",function(e){var t=e.target.getAttribute("id"),i=$('a[href*="#'+t+'"]');0==i.length&&(i=$('a[data-target*="#'+t+'"]')),0!=i.length&&i.find(ace.vars[".icon"]).each(function(){var t,i=$(this),n=null,o=null;return(n=i.attr("data-icon-show"))?o=i.attr("data-icon-hide"):(t=i.attr("class").match(/fa\-(.*)\-(up|down)/))&&(n="fa-"+t[1]+"-down",o="fa-"+t[1]+"-up"),n?("show"==e.type?i.removeClass(n).addClass(o):i.removeClass(o).addClass(n),!1):void 0})})},p=function(){function e(){var e=$(this).find("> .dropdown-menu");if("fixed"==e.css("position")){var i=parseInt($(window).width()),n=i>320?60:i>240?40:30,o=parseInt(i)-n,r=parseInt($(window).height())-30,a=parseInt(Math.min(o,320));e.css("width",a);var s=!1,l=0,c=e.find(".tab-pane.active .dropdown-content.ace-scroll");0==c.length?c=e.find(".dropdown-content.ace-scroll"):s=!0;var d=c.closest(".dropdown-menu"),u=e[0].scrollHeight;if(1==c.length){var p=c.find(".scroll-content")[0];p&&(u=p.scrollHeight),l+=d.find(".dropdown-header").outerHeight(),l+=d.find(".dropdown-footer").outerHeight();var g=d.closest(".tab-content");0!=g.length&&(l+=g.siblings(".nav-tabs").eq(0).height())}var f=parseInt(Math.min(r,480,u+l)),m=parseInt(Math.abs((o+n-a)/2)),h=parseInt(Math.abs((r+30-f)/2)),v=parseInt(e.css("z-index"))||0;if(e.css({height:f,left:m,right:"auto",top:h-(s?3:1)}),1==c.length&&(ace.vars.touch?c.ace_scroll("disable").css("max-height",f-l).addClass("overflow-scroll"):c.ace_scroll("update",{size:f-l}).ace_scroll("enable").ace_scroll("reset")),e.css("height",f+(s?7:2)),e.hasClass("user-menu")){e.css("height","");var b=$(this).find(".user-info");1==b.length&&"fixed"==b.css("position")?b.css({left:m,right:"auto",top:h,width:a-2,"max-width":a-2,"z-index":v+1}):b.css({left:"",right:"",top:"",width:"","max-width":"","z-index":""})}$(this).closest(".navbar.navbar-fixed-top").css("z-index",v)}else 0!=e.length&&t.call(this,e);var y=this;$(window).off("resize.navbar.dropdown").one("resize.navbar.dropdown",function(){$(y).triggerHandler("shown.bs.dropdown.navbar")})}function t(e){e=e||$(this).find("> .dropdown-menu"),e.length>0&&(e.css({width:"",height:"",left:"",right:"",top:""}).find(".dropdown-content").each(function(){ace.vars.touch&&$(this).css("max-height","").removeClass("overflow-scroll");var e=parseInt($(this).attr("data-size")||0)||$.fn.ace_scroll.defaults.size;$(this).ace_scroll("update",{size:e}).ace_scroll("enable").ace_scroll("reset")}),e.hasClass("user-menu"))&&$(this).find(".user-info").css({left:"",right:"",top:"",width:"","max-width":"","z-index":""}),$(this).closest(".navbar").css("z-index","")}ace.vars.old_ie||$(".ace-nav > li").on("shown.bs.dropdown.navbar",function(t){e.call(this)}).on("hidden.bs.dropdown.navbar",function(e){$(window).off("resize.navbar.dropdown"),t.call(this)})},g=function(){$("body").removeClass("no-skin"),$("body").addClass("login-layout")};return e.basics=n,e.enableSidebar=t,e.collapseSidebar=i,e.enableDemoAjax=o,e.sidebarTooltips=r,e.scrollTopBtn=a,e.handleScrollbars=s,e.dropdownAutoPos=l,e.navbarHelpers=c,e.someBrowserFix=d,e.bsCollapseToggle=u,e.smallDeviceDropdowns=p,e.authenticateBasics=g,e}(),function(){"use strict";function e(e){e.options.timeOut=4e3,e.options.positionClass="toast-bottom-right"}function t(e,t,i,o){function r(){function e(e){return e.ready()}var t={ready:e};e.$inject=["dataservice"],i.configure({docTitle:"Gulp: ",resolveAlways:t})}e.debugInfoEnabled(!1),t.debugEnabled&&t.debugEnabled(!0),o.configure(n.appErrorPrefix),r()}e.$inject=["e"],t.$inject=["e","t","o","a"];var i=angular.module("ep.formly.core");i.config(e),e.$inject=["toastr"];var n={appErrorPrefix:"[Error] ",appTitle:"Epsilon.Formly",imageBasePath:"/images/photos/",unknownPersonImageSource:"unknown_person.jpg"};i.value("config",n),i.config(t),t.$inject=["$compileProvider","$logProvider","routerHelperProvider","exceptionHandlerProvider"]}(),function(){"use strict";angular.module("ep.formly.core").constant("toastr",toastr).constant("moment",moment).constant("app",App).constant("apiUrl",{genericApiUrl:"@@genericApiUrl"})}(),function(){"use strict";function e(e,t,i,n,o){function r(i){function o(e,t,i,n){return e.data}return e.get("/api/customer/"+i).then(o)["catch"](function(e){n.catcher("XHR Failed for getCustomer")(e),t.url("/")})}function a(){function i(e,t,i,n){return e.data}return e.get("/api/customers").then(i)["catch"](function(e){n.catcher("XHR Failed for getCustomers")(e),t.url("/")})}function s(){return c||(o.info("Primed the app data"),c=i.when(d)),c}function l(e){return s().then(function(){return e?i.all(e):c})["catch"](n.catcher('"ready" function failed'))}var c,d={getCustomer:r,getCustomers:a,ready:l};return d}e.$inject=["e","t","o","n","a"],angular.module("ep.formly.core").factory("dataservice",e),e.$inject=["$http","$location","$q","exception","logger"]}(),function(e,t){"use strict";function i(e,t){return e(t.apiUrl+(t.isGenericApiSecure?"/securegenericdataservice":"/genericdataservice")+"/:action/:programName/:formName/:keyName",{action:"@action",programName:"@programName",formName:"@formName",keyName:"@keyName"},{postQuery:{method:"POST",isArray:!0},post:{method:"POST",isArray:!1}})}i.$inject=["e","t"],angular.module("ep.generic.dataservice").factory("$$epGenericDataFactory",i),i.$inject=["$resource","epGenSettingsVal"]}(),function(){"use strict";function e(){function e(e,t,i,n){function o(e,t,o,r,a){return d(),i.postQuery({action:"initData",programName:e,formName:t,keyName:o,params:r,cachingInfo:n.cacheEnabled?a:{}})}function r(e,t,n){return d(),i.post({action:"getData",programName:e,formName:t,params:n})}function a(e,t,n){return d(),i.post({action:"setData",programName:e,formName:t,params:n})}function s(e,t,o,r){return d(),r||(r={useCache:!0}),i.post({action:"getFormlyFields",programName:e,formName:t,params:{isDev:n.isDev,applicationName:n.applicationName},cachingInfo:n.isDev||!n.cacheEnabled?{}:r})}function l(e,t,o,r){return d(),r||(r={useCache:!0}),i.post({action:"getRoutesData",programName:e,formName:t,params:o,cachingInfo:n.cacheEnabled?r:{}})}var c={initData:o,getData:r,setData:a,getForm:s,getRoutes:l},d=function(){if(null===n.apiUrl)throw"epGenericDataService error: Please initialize the api Url."};return c}e.$inject=["e","t","o","n"],epGenSettingsVal.apiUrl=null,this.setApiUrl=function(e){epGenSettingsVal.apiUrl=e},this.getApiUrl=function(){return epGenSettingsVal.apiUrl},this.$get=e,this.init=function(e){return angular.isObject(e)&&angular.extend(epGenSettingsVal,e),this},e.$inject=["$q","$http","$$epGenericDataFactory","epGenSettingsVal"]}angular.module("ep.generic.dataservice").provider("$epGenericDataService",e)}(),function(){"use strict";function e(e){function t(){}var i=this;i.currentYear=e().year(),t()}e.$inject=["e"],angular.module("ep.formly.layout").controller("Footer",e),e.$inject=["moment"]}(),function(){"use strict";function e(){function e(e,t,i){t.addClass("footer")}var t={bindToController:!0,controllerAs:"vm",link:e,restrict:"EA"};return t}angular.module("ep.formly.layout").directive("htFooter",e)}(),function(){"use strict";function e(){function e(e,t,i){t.addClass("responsive"),t.attr("id","sidebar")}var t={bindToController:!0,controllerAs:"vm",link:e,restrict:"EA",scope:{whenDoneAnimating:"&?"}};return t}angular.module("ep.formly.layout").directive("htSidebar",e)}(),function(){"use strict";function e(){function e(){}var t={bindToController:!0,controller:e,controllerAs:"vm",restrict:"EA",scope:{tagline:"=",title:"="},templateUrl:"app/layout/ht-top-nav.html"};return t}angular.module("ep.formly.layout").directive("htTopNav",e);
}(),function(){"use strict";function e(e,t,i,n){function o(){i.success(t.appTitle+" loaded!",null),r(),n.olcaUi.basics(),n.olcaUi.handleScrollbars(),n.olcaUi.navbarHelpers(),n.olcaUi.scrollTopBtn()}function r(){e(function(){a.showSplash=!1},1e3)}var a=this;a.title=t.appTitle,a.busyMessage="Please wait ...",a.isBusy=!0,a.showSplash=!0,a.tagline={text:"Created by WE2.0 team",link:"http://www.webenrollment.aspenrms.com"},o()}e.$inject=["e","t","o","n"],angular.module("ep.formly.layout").controller("Shell",e),e.$inject=["$timeout","config","logger","app"]}(),function(){"use strict";function e(e,t,i,n){function o(){a(),r()}function r(){n(function(){i.olcaUi.enableSidebar(),i.olcaUi.sidebarTooltips(),console.log("done initializing menu")},1)}function a(){l.navRoutes=c.filter(function(e){return e.settings&&e.settings.nav}).sort(function(e,t){return e.settings.nav-t.settings.nav})}function s(t,i){var n="current";if(!t.title||!e.current||!e.current.title)return"";i&&(n=i);var o=t.title;return e.current.title.substr(0,o.length)===o?n:""}var l=this,c=t.getStates();l.isCurrent=s,l.sidebarReady=function(){console.log("done animating menu")},o()}e.$inject=["e","t","o","n"],angular.module("ep.formly.layout").controller("Sidebar",e),e.$inject=["$state","routerHelper","app","$timeout"]}(),angular.module("ep.formly.service").service("jsonParser",jsonParser),jsonParser.$inject=[],function(){"use strict";function e(e,t){function i(){e.info("Activated Templates")}var n=this;n.submit=function(e){console.log(e)},n.user={state:"Bc"},t(function(){n.user.params={country:"Canada"},n.options.formState.employeeOptions=[{name:"100",value:100},{name:"200",value:200},{name:"300",value:300}],t(function(){n.user.employees=200},1e3)},3e3),n.toggleFormStateDisabled=function(){n.options.formState.readOnly=!n.options.formState.readOnly},n.toggleCountryDisabled=function(){n.options.formState.countryDisabled=!n.options.formState.countryDisabled},n.userFields=[{key:"params.country_obj",type:"ep-typeahead",id:"CountryControl",templateOptions:{actualModel:"params.country",label:"Country",initKey:"Country",options:[],valueProp:"S_NAME",labelProp:"S_NAME"},expressionProperties:{"templateOptions.disabled":"formState.countryDisabled"}},{key:"state_obj",type:"ep-typeahead",templateOptions:{actualModel:"state",label:"State",initKey:"State",requiresInitParams:!0,valueProp:"FULL_NAME",labelProp:"FULL_NAME"},expressionProperties:{"templateOptions.initParams":"model.params.country||form.CountryControl.$dirty?{country_name: model.params.country}:undefined"}},{key:"Employees_obj",type:"ep-typeahead",templateOptions:{actualModel:"employees",label:"Number of Employees",options:[],required:!0,maxLength:4},expressionProperties:{"templateOptions.options":"formState.employeeOptions"}}],n.options={formState:{employeeOptions:[],programName:"Ford Campaigns",formName:"Campaign Detail",readOnly:!1,countryDisabled:!1}},i()}e.$inject=["e","t"],angular.module("ep.formly.samples").controller("autocompleteListTemplate",e),e.$inject=["logger","$timeout"]}(),function(){"use strict";function e(e,t){var i=this;i.userFields=[{key:"name",type:"ep-text",templateOptions:{label:"Name",required:"true"}},{key:"company",type:"ep-text",templateOptions:{label:"Company",required:"true"}},{className:"col-sm-3 no-paddin",type:"ep-button",templateOptions:{text:"Ok",onClick:"formState.submit(model)",type:"button",btnType:"btn btn-default"},expressionProperties:{"templateOptions.disabled":"model.name==undefined || model.company==undefined"}},{className:"col-sm-3 no-padding",type:"ep-button",templateOptions:{text:"Submit",onClick:"formState.submit(model)",type:"submit",btnType:"btn btn-primary"},expressionProperties:{"templateOptions.disabled":"model.name==undefined || model.company==undefined"}}],i.options={formState:{submit:function(e){alert("You entered Name:"+e.name+" Company: "+e.company)}}}}e.$inject=["e","t"],angular.module("ep.formly.samples").controller("buttonTemplate",e),e.$inject=["$scope","logger"]}(),function(){"use strict";function e(e,t,i,n,o){function r(){if(a.form.$valid){var e=[];angular.forEach(a.user.params.piInputXml,function(t,n){var o={PARAM_NAME:t.PARAM_NAME,PARAM_VALUE:i(t.PARAM_VALUE).format("MM/DD")};e.push(o)}),a.user.params.piInputXml=e,t.info(JSON.stringify(a.user),null,2)}else a.userFields[0].templateOptions.showValidationsummary=!0}var a=this;a.onSubmit=r,a.options={formState:{programName:"GM CARD",formName:"Enrollment CutOff"}},n.getData(a.options.formState.programName,a.options.formState.formName,{}).$promise.then(function(e){a.user={params:{piInputXml:e.dataRows,piUser:"Narendra"}}}),a.userFields=[{key:"piInputXml",type:"ep-calendarEnrollDates",templateOptions:{title:"Calendar Admin Tool",type:"text",required:!0,readonlyInput:!1,datepickerOptions:{format:"MM/dd",enableMindate:!1,monthLength:3,monthStyle:1,formatDayTitle:"MMMM yyyy",maxMode:"day"},showValidationsummary:!0,enablePreviousMonthValidation:!1}}],a.originalFields=angular.copy(a.userFields)}e.$inject=["e","t","o","n","a"],angular.module("ep.formly.samples").controller("calendarEnrollDatesTemplate",e),e.$inject=["$scope","logger","moment","$epGenericDataService","dateParser"]}(),function(){"use strict";function e(e,t){var i=this;i.userFields=[{template:"<h4 class='no-margin'>What are your hobbies?</h4><hr class='marginTop10'/>"},{key:"cricket",type:"ep-checkbox",templateOptions:{label:"Playing cricket (Default value)"}},{key:"football",type:"ep-checkbox",ngModelAttrs:{ngFalseValue:{attribute:"ng-false-value"},ngTrueValue:{attribute:"ng-true-value"}},templateOptions:{required:!0,label:"Playing football (Custom value)",ngFalseValue:"'False'",ngTrueValue:"'True'"},validation:{messages:{required:function(){return"Football is required"}}}},{key:"tennis",type:"ep-checkbox",ngModelAttrs:{ngFalseValue:{attribute:"ng-false-value"},ngTrueValue:{attribute:"ng-true-value"}},templateOptions:{label:"Playing tennis (Custom value)",ngFalseValue:0,ngTrueValue:1}}]}e.$inject=["e","t"],angular.module("ep.formly.samples").controller("checkTemplate",e),e.$inject=["$scope","logger"]}(),function(){"use strict";function e(e,t){var i=this;i.user={},i.user.sampleData=["admin"],i.userFields=[{key:"sampleData",type:"ep-checklist",templateOptions:{label:"Roles",options:[{id:1,title:"admin"},{id:2,title:"user"}],valueProp:"title",labelProp:"title",required:!0,directionclass:"checkbox-inline"}}]}e.$inject=["e","t"],angular.module("ep.formly.samples").controller("checklistTemplate",e),e.$inject=["$scope","logger"]}(),function(){"use strict";function e(e,t){var i=this;i.userFields=[{key:"full",type:"ep-ckeditor",className:"col-md-12",templateOptions:{required:!0,label:"Main Toolbar",maxlength:20,wordchecklist:["ass","fuck","bastards","bastardz","basterds","basterdz","Biatch","bitch","bitches"]},validation:{messages:{required:'"Required entry."',maxlength:'"Proper length required."',profane:'"Custom: Profanity detected in communication content. Please revise before continuing."'}}},{key:"name",type:"ep-ckeditor",className:"col-md-12 mt10",templateOptions:{label:"Custom Toolbar",ckeditor:{toolbar:"custom",toolbar_custom:[{name:"basicstyles",items:["Bold","Italic","Strike","Underline"]}]}}}],i.options={}}e.$inject=["e","t"],angular.module("ep.formly.samples").controller("CkeditorTemplate",e),e.$inject=["$scope","logger"]}(),function(){"use strict";function e(e,t){function i(){t.info("Activated Textbox Validations")}var n=this;n.submit=function(e,t){angular.forEach(n.userFields,function(e){"ep-collapseexpand"===e.type&&(n.options.formState[e.templateOptions.propertyName]=!1)}),n.myform.$invalid&&angular.forEach(n.myform.$error,function(e){angular.forEach(e,function(e){e.$setTouched()})}),console.log(e),console.log(n.myForm)},n.userFields=[{type:"ep-collapseexpand",templateOptions:{collapseText:"Collapse",expandText:"Expand",divClass:"panel panel-primary",propertyName:"panel1",btnType:"link"}},{className:"col-sm-12",hideExpression:"formState.panel1",fieldGroup:[{key:"phone",type:"ep-text",templateOptions:{label:"Phone",validator:"Phone",required:!0},validation:{messages:{required:'"Phone is required"',pattern:'"Invalid Phone Expected Format : xxx-xxx-xxxx"'}}},{key:"zip",type:"ep-text",templateOptions:{label:"ZIP",validator:"ZIP",required:!0},validation:{messages:{required:'"Zip is required"',pattern:'"Invalid Phone Expected Format : xxxxx-xxxx"'}}},{key:"email",type:"ep-text",templateOptions:{required:!0,label:"Email",validator:"Email"},validation:{messages:{required:'"email is required"',pattern:'"Invalid Email Address"'}}},{key:"URL",type:"ep-text",templateOptions:{label:"URL",validator:"url",required:!0},validation:{messages:{required:'"URL is required"',pattern:'"Invalid URL"'}}},{key:"ipaddress",type:"ep-text",templateOptions:{label:"IP Address",validator:"ip-address",placeholder:"255.255.255.259",required:!0},validation:{messages:{pattern:'"Invalid IP Address"',required:'"IP Address is required"'}}}]},{type:"ep-collapseexpand",templateOptions:{collapseText:"Collapse",expandText:"Expand",propertyName:"panel2",btnType:"primary btn-xs"}},{className:"col-sm-12",hideExpression:"formState.panel2",fieldGroup:[{key:"price",type:"ep-text",templateOptions:{label:"Price",validator:"price",noOfDecimalPlaces:2,placeholder:"xx.xx"},validation:{messages:{pattern:'"Invalid Price"',required:'"Price is required"'}}},{key:"customipaddress",type:"ep-text",templateOptions:{label:"Custom Format",validator:"Custom",regex:"^(\\(\\d{3}\\) )\\d{3}-\\d{4}$",placeholder:"(999) 999-9999",required:!0},validation:{messages:{pattern:'"Invalid Custom Format"',required:'"Custom Format is required"'}}},{type:"ep-text",key:"minLength",templateOptions:{label:"Any text",minLength:3,maxLength:6,required:!0},validation:{messages:{minlength:'"minimum length of 3 is required"',required:'"Custom Format is required"'}}},{type:"ep-text",defaultValue:.452000000003,templateOptions:{label:"No Of Decimals",validator:"price",noOfDecimalPlaces:2}}]}],n.originalFields=angular.copy(n.userFields),n.options={formState:{programName:"Olca",formName:"RolColSet"}},i()}e.$inject=["e","t"],angular.module("ep.formly.samples").controller("collapseExpandTemplate",e),e.$inject=["$scope","logger"]}(),function(){"use strict";function e(e,t){function i(){e.info("Activated Templates")}var n=this;n.submit=function(e){console.log(e)},n.user={state:"Bc"},t(function(){n.user.employees=500,n.user.params={country:"Canada"}},3e3),n.toggleFormStateDisabled=function(){n.options.formState.readOnly=!n.options.formState.readOnly},n.toggleCountryDisabled=function(){n.options.formState.countryDisabled=!n.options.formState.countryDisabled},n.userFields=[{key:"params.country",type:"ep-typeahead",id:"CountryControl",templateOptions:{label:"Country",initKey:"Country",valueProp:"S_NAME"},expressionProperties:{"templateOptions.disabled":"formState.countryDisabled"}},{key:"state",type:"ep-typeahead",templateOptions:{label:"State",initKey:"State",requiresInitParams:!0,valueProp:"FULL_NAME"},expressionProperties:{"templateOptions.initParams":"model.params.country||form.CountryControl.$dirty?{country_name: model.params.country}:undefined"}},{key:"employees",type:"ep-typeahead",templateOptions:{actualModel:"employees",label:"Number of Employees",valueProp:"name",options:[{name:"1001",value:100},{name:"2001",value:200},{name:"3001",value:300}]}}],n.options={formState:{programName:"Ford Campaigns",formName:"Campaign Detail",readOnly:!1,countryDisabled:!1}},i()}e.$inject=["e","t"],angular.module("ep.formly.samples").controller("comboboxTemplate",e),e.$inject=["logger","$timeout"]}(),function(){"use strict";function e(e,t){var i=this;i.fields=[{key:"someKey",type:"ep-contextbutton",templateOptions:{entity:"Currency",headerMessage:"Country Title",action:"GET"}}],i.options={formState:{programName:"Olca",formName:angular.isDefined(t.formName)&&""!==t.formName?t.formName:"Currency"}}}e.$inject=["e","t"],angular.module("ep.formly.samples").controller("contextButtonSampleController",e),e.$inject=["$scope","$stateParams"]}(),function(){"use strict";function e(e,t){function i(){console.log(n.user),n.options.updateInitialValue(),t.info(JSON.stringify(n.user),null,2)}var n=this;n.onSubmit=i,n.user={date1:"2017-07-03T18:30:00.000Z",date2:"10-11-2017"},n.options={},n.ngOptions={changeYear:!0,changeMonth:!0,yearRange:"1900:2030"},n.userFields=[{key:"date1",type:"ep-datepicker",templateOptions:{label:"Date 1",type:"text",required:!0,datepickerOptions:{format:"MM/dd/yyyy"},outputFormat:"MM/dd/yyyy",dateDisabled:{disableWeekends:!0,disableAllDatesExcept:[2,3]}},validation:{messages:{required:'"Required"'}}},{key:"checkbox",type:"checkbox",templateOptions:{label:"Disable Date 2"}},{key:"date2",type:"ep-datepicker",templateOptions:{type:"text",datepickerOptions:{format:"dd-MMMM-yyyy"},outputFormat:"MM-dd-yyyy",required:!0},expressionProperties:{"templateOptions.disabled":"model.checkbox"},validation:{messages:{required:'"Required"'}}},{className:"col-sm-4 col-md-4 col-lg-4 no-horizontal-padding",key:"PRICE_INST_EFF_DT",type:"ep-datepicker",templateOptions:{label:"Effective Date",type:"text",required:!0,minDate:new Date("08/01/2017"),datepickerOptions:{format:"MM/dd/yyyy"},outputFormat:"MM/dd/yyyy",dateDisabled:{disableWeekends:!1,disableAllDatesExcept:[16,17],startDate:"07/01/2017",endDate:"08/30/2017"}},expressionProperties:{"templateOptions.maxDate":"model.date2"},validation:{messages:{required:"'Effective Date required'"}}}],n.originalFields=angular.copy(n.userFields)}e.$inject=["e","t"],angular.module("ep.formly.samples").controller("datepickerTemplate",e),e.$inject=["$scope","logger"]}(),function(){"use strict";function e(e,t){function i(){e.info("Activated Templates")}var n=this;n.submit=function(e){console.log(e)},n.user={state:"Bc"},t(function(){n.user.params={country:"Canada"},n.options.formState.employeeOptions=[{name:"100",value:100},{name:"200",value:200},{name:"300",value:300}],t(function(){n.user.employees=200},1e3)},3e3),n.toggleFormStateDisabled=function(){n.options.formState.readOnly=!n.options.formState.readOnly},n.toggleCountryDisabled=function(){n.options.formState.countryDisabled=!n.options.formState.countryDisabled},n.userFields=[{key:"params.country_obj",type:"ep-select",id:"CountryControl",templateOptions:{actualModel:"params.country",label:"Country",initKey:"Country",options:[],valueProp:"S_NAME",labelProp:"S_NAME"},expressionProperties:{"templateOptions.disabled":"formState.countryDisabled"}},{key:"state_obj",type:"ep-select",templateOptions:{actualModel:"state",label:"State",initKey:"State",requiresInitParams:!0,valueProp:"FULL_NAME",labelProp:"FULL_NAME"},expressionProperties:{"templateOptions.initParams":"model.params.country||form.CountryControl.$dirty?{country_name: model.params.country}:undefined"}},{key:"Employees_obj",type:"ep-select",templateOptions:{actualModel:"employees",label:"Number of Employees",options:[],required:!0,ngChange:"formState.onChange"},expressionProperties:{"templateOptions.options":"formState.employeeOptions"}}],n.actualFormFields=angular.copy(n.userFields),n.options={formState:{visualAid:!0,employeeOptions:[],programName:"Ford Campaigns",formName:"Campaign Detail",readOnly:!1,countryDisabled:!1,onChange:function(e){console.log(e),alert("ngChange Fired!")}}},i()}e.$inject=["e","t"],angular.module("ep.formly.samples").controller("dropdownTemplate",e),e.$inject=["logger","$timeout"]}(),function(){"use strict";function e(e,t){function i(){e.info("Activated Templates")}var n=this;n.submit=function(e){console.log(e)},n.user={expirationDay:""},n.userFields=[{key:"expirationDay",type:"ep-editableselect",id:"CountryControl",templateOptions:{label:"Expiry Date",labelProp:"TITLE",required:!0,options:[{TITLE:"30"},{TITLE:"45"},{TITLE:"60"},{TITLE:"90"},{TITLE:"120"},{TITLE:"None"}]}}],n.options={},i()}e.$inject=["e","t"],angular.module("ep.formly.samples").controller("editableDropdownTemplate",e),e.$inject=["logger","$timeout"]}(),function(){"use strict";function e(e){var t=this;t.commonSearchBool=!1,t.options={formState:{info:"nothing added in formState"}},t.model={OBJID:268435861,PROGRAM_OBJID:268444656,PROGRAM_NAME:"Quick Strike - Sales",BRANDED_TYPE:"Quick Strike GM",PROJECT_CODE:"QuickProj 001",DEALER_ID:"00113",DEALER_NAME:"Pitre Buick Pontiac GMC Truck",ACTIVE:0,CREATEDATE:null,CREATOR:null,MODDATE:null,MODIFIER:null,PROGRAM_OBJID1:{PROGRAM_OBJID:268444656,PROGRAM_NAME:"Quick Strike - Sales"},DEALER_ID1:{BUSORG_OBJID:268435608,ORG_ID:"00113",BUS_ORG_NAME:"Pitre Buick Pontiac GMC Truck"}},t.commonSearchBoolChange=function(e){t.fields[0].templateOptions.commonSearch=!t.fields[0].templateOptions.commonSearch},t.fields=[{id:"id_BILLTO1",key:"BILLTO_BUSORG_OBJID",className:"col-md-12 col-sm-12 no-horizontal-padding",type:"ep-filterbutton",templateOptions:{modelIdProperty:"BILLTO_BUSORG_ID",modelNameProperty:"BILLTO_BUSORG_NAME",objidColumn:"BUSORG_OBJID",idColumn:"ORG_ID",nameColumn:"BUS_ORG_NAME",commonSearch:!1,searchTitle:"Select Dealer",programName:"Olca",formName:"BusOrg",label:"Bill to",labelCssClass:"col-sm-2",title:"This button allows you to fetch information",required:!0},validation:{messages:{required:"'Bill to is required'"}}},{key:"DEALER_ID",type:"ep-filterbutton",templateOptions:{modelIdProperty:"DEALER_ID",modelNameProperty:"DEALER_NAME",idColumn:"ORG_ID",nameColumn:"BUS_ORG_NAME",objidColumn:"ORG_ID",commonSearch:!1,commonSearchText:"",programName:"Olca",formName:"BusOrg",label:"Dealer Id / Name",required:!0,title:"This button allows you to fetch information"},validation:{messages:{required:"'Dealer Id is required'"}}}]}e.$inject=["e"],angular.module("ep.formly.samples").controller("filterButtonSampleController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e,t,i,n,o,r,a){var s=this;s.options={formState:{programName:"Olca",formName:angular.isDefined(i.formName)&&""!==i.formName?i.formName:"Currency",loginUser:"ep.admin"}},n.getData(s.options.formState.programName,s.options.formState.formName,{pi_entity:s.options.formState.formName,pi_input_xml:"",pi_uidb_mappingxml:{},pi_action:"LIST",pi_user:s.options.formState.loginUser}).$promise.then(function(e){s.formModel.formData=e.dataRows}),s.getFieldData=function(){n.getForm(s.options.formState.programName,s.options.formState.formName,{params:{isDev:o.isDev},pi_user:s.options.formState.loginUser}).$promise.then(function(e){e&&(s.formFields=e,s.actualFormFields=angular.copy(s.formFields))})},s.getFieldData()}e.$inject=["e","t","o","n","a","r","i"],angular.module("ep.formly.samples").controller("genericcrud",e),e.$inject=["$scope","logger","$stateParams","$epGenericDataService","epGenSettingsVal","$http","jsonParser"]}(),function(){"use strict";function e(e,t,i){function n(){t.info("Activated Templates")}var o=this;o.submit=function(e){console.log(e)},o.userFields=[{key:"campaigns",type:"ep-grid",templateOptions:{onRegisterApi:""},controller:"formState.uiGridCtrl"}],o.options={formState:{programName:"Ford Campaigns",formName:"Campaign Detail",uiGridCtrl:["$scope",function(e){e.editAction=function(e){t.info("gridController"),console.log(e)},e.to.onRegisterApi=function(e){o.gridApi=e}}]}},i.getData(o.options.formState.programName,"Select Campaigns",{pi_user:o.options.formState.loginUser}).$promise.then(function(e){o.user.campaigns=e.dataRows}),n()}e.$inject=["e","t","o"],angular.module("ep.formly.samples").controller("gridTemplate",e),e.$inject=["$scope","logger","$epGenericDataService"]}(),function(){"use strict";function e(e,t){function i(){t.info("Activated Hours")}var n=this;n.submit=function(e){console.log(e)},n.user={serviceHours:[{WEEK_DAY:"Mon",OPEN_TIME:"08:00 AM",CLOSE_TIME:"07:00 PM",TYPE:"SERVICE"},{WEEK_DAY:"Tue",OPEN_TIME:"08:00 AM",CLOSE_TIME:"07:00 PM",TYPE:"SERVICE"},{WEEK_DAY:"Wed",OPEN_TIME:"08:00 AM",CLOSE_TIME:"07:00 PM",TYPE:"SERVICE"},{WEEK_DAY:"Thu",OPEN_TIME:"08:00 AM",CLOSE_TIME:"07:00 PM",TYPE:"SERVICE"},{WEEK_DAY:"Fri",OPEN_TIME:"08:00 AM",CLOSE_TIME:"07:00 PM",TYPE:"SERVICE"},{WEEK_DAY:"Sat",OPEN_TIME:"08:00 AM",CLOSE_TIME:"07:00 PM",TYPE:"SERVICE"},{WEEK_DAY:"Sun",OPEN_TIME:"Closed",CLOSE_TIME:"Closed",TYPE:"SERVICE"}],salesHours:[{WEEK_DAY:"Mon",OPEN_TIME:"09:00 AM",CLOSE_TIME:"06:00 PM",TYPE:"SALES"},{WEEK_DAY:"Tue",OPEN_TIME:"09:00 AM",CLOSE_TIME:"06:00 PM",TYPE:"SALES"},{WEEK_DAY:"Wed",OPEN_TIME:"09:00 AM",CLOSE_TIME:"06:00 PM",TYPE:"SALES"},{WEEK_DAY:"Thu",OPEN_TIME:"09:00 AM",CLOSE_TIME:"06:00 PM",TYPE:"SALES"},{WEEK_DAY:"Fri",OPEN_TIME:"09:00 AM",CLOSE_TIME:"06:00 PM",TYPE:"SALES"},{WEEK_DAY:"Sun",OPEN_TIME:"Closed",CLOSE_TIME:"Closed",TYPE:"SALES"}]},n.userFields=[{key:"serviceHours",type:"UIhours",id:"SeriveHours",className:"col-sm-8 no-padding table-no-margin-bottom col-sm-4",templateOptions:{label:"Service Hours",ddlminutestep:"10",minutestep:"5",disabled:!1,mousewheel:!0,arrowkeys:!0,hourstype:"SERVICE",readonlyInput:!1}},{key:"salesHours",type:"UIhours",id:"SalesHours",className:"col-sm-8 no-padding table-no-margin-bottom col-sm-4",templateOptions:{label:"Sales Hours",ddlminutestep:"10",minutestep:"5",disabled:!1,hourstype:"SALES",mousewheel:!0,arrowkeys:!0,readonlyInput:!1}},{key:"partsHours",type:"UIhours",id:"PartsHours",className:"col-sm-8 no-padding table-no-margin-bottom col-sm-4",templateOptions:{label:"Parts Hours",ddlminutestep:"10",minutestep:"5",disabled:!1,showMeridian:!1,hourstype:"PARTS",mousewheel:!0,arrowkeys:!0,readonlyInput:!1}}],n.options={formState:{programName:"Ford Campaigns",formName:"Campaign Detail",readOnly:!1}},i()}e.$inject=["e","t"],angular.module("ep.formly.samples").controller("hoursTemplate",e),e.$inject=["$scope","logger"]}(),function(){"use strict";function e(e,t){var i=this;i.user={Cricket:"2016-10-26T15:43:17.000Z",kabadi:"Playing Kabaddi",basketBall:"Playing Basket Ball"},i.userFields=[{template:"<h4 class='no-margin'>What are your hobbies?</h4><hr class='marginTop10'/>"},{key:"Cricket",type:"ep-label",templateOptions:{title:"Playing Cricket",label:"1.",filterString:"date:'MM/dd/yyyy hh:mm'",labelClass:"col-sm-6 col-md-6 col-lg-6 no-horizontal-padding",valueCalss:"col-sm-6 col-md-6 col-lg-6 no-horizontal-padding"},hideExpression:"model.enable"},{key:"kabadi",type:"ep-label",templateOptions:{title:"Playing Kabadi"}},{key:"basketBall",type:"ep-label",templateOptions:{title:"Playing Basket Ball",label:"3."}}]}e.$inject=["e","t"],angular.module("ep.formly.samples").controller("labelTemplate",e),e.$inject=["$scope","logger"]}(),function(){"use strict";function e(e,t){var i=this;i.userFields=[{key:"phone",type:"maskedInput",templateOptions:{required:!0,label:"Phone Number",mask:"(999) 999-9999",pattern:"^\\([2-9][0-9]{2}\\) [0-9]{3}-[0-9]{4}$"},validation:{messages:{required:'"Phone Number is required"',pattern:'"Invalid Phone number"'}}},{key:"date",type:"maskedInput",templateOptions:{label:"Date (MM/DD/YYYY)",mask:"99/99/9999"}}]}e.$inject=["e","t"],angular.module("ep.formly.samples").controller("maskedInputTemplate",e),e.$inject=["$scope","logger"]}(),function(){"use strict";function e(e){var t=this;t.fields=[{template:'<md-button entity="Country" program-name="Olca" text="Country Entity Log"></md-button>'}]}e.$inject=["e"],angular.module("ep.formly.samples").controller("masterDetailSampleController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e,t){var i=this;i.userFields=[{template:"<h4 class='no-margin'>What are your hobbies?</h4><hr class='marginTop10'/>"},{key:"cricket",type:"ep-multicheckbox",templateOptions:{label:"Playing cricket (Default value)"}},{key:"football",type:"ep-multicheckbox",ngModelAttrs:{ngFalseValue:{attribute:"ng-false-value"},ngTrueValue:{attribute:"ng-true-value"}},templateOptions:{label:"Playing football (Custom value)",ngFalseValue:"'False'",ngTrueValue:"'True'"}},{key:"tennis",type:"ep-multicheckbox ",ngModelAttrs:{ngFalseValue:{attribute:"ng-false-value"},ngTrueValue:{attribute:"ng-true-value"}},templateOptions:{label:"Playing tennis (Custom value)",ngFalseValue:0,ngTrueValue:1}}]}e.$inject=["e","t"],angular.module("ep.formly.samples").controller("multicheckboxTemplate",e),e.$inject=["$scope","logger"]}(),function(){"use strict";function e(e,t){function i(){console.log(n.user),n.options.updateInitialValue(),t.info(JSON.stringify(n.user),null,2)}var n=this;n.onSubmit=i,n.user={browsers:{options:[{id:1,name:"Opera",maker:"(Opera Software)",ticked:!0},{id:2,name:"Internet Explorer",maker:"(Microsoft)"},{id:3,name:"Firefox",maker:"(Mozilla Foundation)",ticked:!0},{id:4,name:"Safari",maker:"(Apple)"},{id:5,name:"Chrome",maker:"(Google)"}],selected:[{name:"Firefox",maker:"(Mozilla Foundation)"},{name:"Safari",maker:"(Apple)"}]}},n.userFields=[{key:"browsers",type:"ep-multiselect",templateOptions:{buttonlabel:"name",itemlabel:"name maker",tickproperty:"ticked",outputproperties:"id name"}}],n.originalFields=angular.copy(n.userFields)}e.$inject=["e","t"],angular.module("ep.formly.samples").controller("multiselectTemplate",e),e.$inject=["$scope","logger"]}(),function(){"use strict";function e(e,t){var i=this;i.options={formState:{programName:"GM CARD",formName:"Enrollment Permissions",loginUser:"SampleUser",enrollmentRule:"Cutoff Enrollment",isEnrollmentFieldDisabled:!0}},i.permissions={},i.userFields=[{key:"bindPermission",type:"ep-permission"}],i.originalFields=angular.copy(i.userFields)}e.$inject=["e","t"],angular.module("ep.formly.samples").controller("pagepermissionTemplate",e),e.$inject=["$scope","$epGenericDataService"]}(),function(){"use strict";function e(e,t){function i(){e.info("Activated Templates")}var n=this;n.submit=function(e){console.log(e)},n.user={state:["Bc"],employees:[{name:"200",value:200}]},t(function(){n.user.params={country:["Canada"]}},3e3),n.toggleFormStateDisabled=function(){n.options.formState.readOnly=!n.options.formState.readOnly},n.toggleCountryDisabled=function(){n.options.formState.countryDisabled=!n.options.formState.countryDisabled},n.userFields=[{key:"params.country",type:"ep-picklist",templateOptions:{label:"Country",initKey:"Country",options:[],valueProp:"S_NAME",labelProp:"S_NAME"},expressionProperties:{"templateOptions.disabled":"formState.countryDisabled"}},{key:"state",type:"ep-picklist",templateOptions:{label:"State",initKey:"State",initParams:{},options:[],valueProp:"FULL_NAME",labelProp:"FULL_NAME"},expressionProperties:{"templateOptions.initParams":function(e,t,i){return angular.isDefined(i.model.params)?{country_name:i.model.params.country[0]}:void 0}}},{key:"employees",type:"ep-picklist",templateOptions:{label:"Number of Employees",options:[{name:"100",value:100},{name:"200",value:200},{name:"300",value:300}],moveLeft:"<",moveRight:">"}}],n.actualFormFields=angular.copy(n.userFields),n.options={formState:{programName:"Ford Campaigns",formName:"Campaign Detail",readOnly:!1,countryDisabled:!1}},i()}e.$inject=["e","t"],angular.module("ep.formly.samples").controller("picklistTemplate",e),e.$inject=["logger","$timeout"]}(),function(){"use strict";function e(e,t){var i=this;i.submit=function(){i.myForm.$invalid&&angular.forEach(i.myForm.$error,function(e){angular.forEach(e,function(e){e.$setTouched()})})},i.userFields=[{key:"coffee",type:"ep-radio",templateOptions:{label:"Do you like coffee? (Default Usage)"}},{key:"tea",type:"ep-radio",templateOptions:{required:!0,label:"Do you like tea? (Custom Options)",options:[{name:"Sure",value:"Yes"},{name:"Not at all!",value:"No"}]}},{key:"cold drink",type:"ep-radio",templateOptions:{label:"Do you like cold drink? (Custom Options)",valueProp:"id",labelProp:"title",options:[{id:"Yes",title:"Yes"},{id:"No",title:"No i don't!"}]}},{key:"OnlyOptions",type:"ep-radio",className:"col-sm-12",templateOptions:{label:" ",options:[{name:"Select A",value:"A"},{name:"Select B",value:"B"},{name:"Select C",value:"C"}],required:!0},validation:{messages:{required:function(){return"Select an option."}}}}]}e.$inject=["e","t"],angular.module("ep.formly.samples").controller("radioTemplate",e),e.$inject=["$scope","logger"]}(),function(){"use strict";function e(e,t,i){function n(){o.modelObj={investments:{Rows:[{investmentName:"abc",investmentDate:(new Date).toDateString(),stockIdentifier:"",investmentValue:"11",investors:{Rows:[{a:"Investor A",b:"Investor B"},{a:"Investor C",b:"Investor D"}]}},{investmentName:"haf",investmentDate:(new Date).toDateString(),stockIdentifier:"",investmentValue:"12",investors:{Rows:[{a:"Investor C",b:"Investor D"}]}}]}},o.fields=[{type:"ep-repeat",key:"investments.Rows",templateOptions:{btnText:"Add another investment",fields:[{className:"row",fieldGroup:[{className:"col-xs-4",type:"ep-text",key:"investmentName",templateOptions:{label:"Name of Investment:",required:!0}},{type:"ep-text",key:"investmentDate",className:"col-xs-4",templateOptions:{label:"Date of Investment:",placeholder:"dd/mm/yyyy such as 20/05/2015",dateFormat:"DD, d  MM, yy"}},{type:"ep-text",key:"stockIdentifier",className:"col-xs-4",templateOptions:{label:"Stock Identifier:"}}]},{className:"row",fieldGroup:[{type:"ep-text",className:"col-xs-4",key:"investmentValue",templateOptions:{label:"Value:"},expressionProperties:{"templateOptions.disabled":"!model.stockIdentifier"}},{type:"ep-repeat",className:"col-xs-8",key:"investors.Rows",templateOptions:{fields:[{template:"<div> Investors </div>"},{className:"col-xs-6",type:"ep-text",key:"a",templateOptions:{label:"Investor A: "}},{className:"col-xs-6",type:"ep-text",key:"b",templateOptions:{label:"Investor B: "}}]}}]}]}}],i(function(){o.model=angular.copy(o.modelObj)},100)}var o=this;o.options={},n(),o.originalFields=angular.copy(o.fields)}e.$inject=["e","t","o"],angular.module("ep.formly.samples").controller("repeatTemplate",e),e.$inject=["$scope","logger","$timeout"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"samples",config:{absract:!0,template:'<ui-view class="shuffle-animation"></ui-view>',url:"/samples"}},{state:"samples.Product",config:{url:"/Product",templateUrl:"app/samples/genericcrud.html",controller:"genericcrud",controllerAs:"vm",resolve:{type:["$stateParams",function(e){return e.formName="Product",e.formName}]},title:"GC - Product",settings:{nav:1,menu:{cssState:"active"},icon:"list-alt",mini:{content:'<i class="ace-icon fa fa-list-alt"></i>',buttonColor:"info"}}}},{state:"samples.ProjectNumbers",config:{url:"/ProjectNumbers",templateUrl:"app/samples/genericcrud.html",controller:"genericcrud",controllerAs:"vm",resolve:{type:["$stateParams",function(e){return e.formName="ProjectNumbers",e.formName}]},title:"GC - ProjectNumbers",settings:{nav:2,menu:{cssState:"active"},icon:"list-alt",mini:{content:'<i class="ace-icon fa fa-list-alt"></i>',buttonColor:"info"}}}},{state:"samples.collection",config:{url:"/Collection",templateUrl:"app/samples/genericcrud.html",controller:"genericcrud",controllerAs:"vm",resolve:{type:["$stateParams",function(e){return e.formName="Collection",e.formName}]},title:"GC - Collection",settings:{nav:3,menu:{cssState:"active"},icon:"list-alt",mini:{content:'<i class="ace-icon fa fa-list-alt"></i>',buttonColor:"info"}}}},{state:"samples.dropdown",config:{url:"/dropdown",templateUrl:"app/samples/dropdown.html",controller:"dropdownTemplate",controllerAs:"vm",title:"DropDowns",settings:{nav:4,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-caret-square-o-down"></i>',buttonColor:"success"},icon:"caret-square-o-down"}}},{state:"samples.picklist",config:{url:"/picklist",templateUrl:"app/samples/picklist.html",controller:"picklistTemplate",controllerAs:"vm",title:"Picklist",settings:{nav:5,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-exchange"></i>',buttonColor:"danger"},icon:"exchange"}}},{state:"samples.grid",config:{url:"/grid",templateUrl:"app/samples/grid.html",controller:"gridTemplate",controllerAs:"vm",title:"Grid",settings:{nav:6,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-list-alt"></i>',buttonColor:"purple"},icon:"list-alt"}}},{state:"samples.ckeditor",config:{url:"/ckeditor",templateUrl:"app/samples/ckeditor.html",controller:"CkeditorTemplate",controllerAs:"vm",
title:"Ckeditor",settings:{nav:7,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-list-alt"></i>',buttonColor:"default"},icon:"list-alt"}}},{state:"samples.textbox",config:{url:"/textbox",templateUrl:"app/samples/textboxValidations.html",controller:"textboxTemplate",controllerAs:"vm",title:"Textbox Validations",settings:{nav:8,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-square-o"></i>',buttonColor:"primary"},icon:"square-o"}}},{state:"samples.hours",config:{url:"/hours",templateUrl:"app/samples/hours.html",controller:"hoursTemplate",controllerAs:"vm",title:"Hours",settings:{nav:9,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-clock-o"></i>',buttonColor:"light"},icon:"clock-o"}}},{state:"samples.datepicker",config:{url:"/datepicker",templateUrl:"app/samples/datepicker.html",controller:"datepickerTemplate",controllerAs:"vm",title:"DatePicker",settings:{nav:10,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-calendar"></i>',buttonColor:"warning"},icon:"calendar"}}},{state:"samples.calendarEnrollDates",config:{url:"/calendarEnrollDates",templateUrl:"app/samples/calendarEnrollDates.html",controller:"calendarEnrollDatesTemplate",controllerAs:"vm",title:"Calendar Update",settings:{nav:11,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-calendar"></i>',buttonColor:"info"},icon:"calendar"}}},{state:"samples.multiselect",config:{url:"/multiselect",templateUrl:"app/samples/multiselect.html",controller:"multiselectTemplate",controllerAs:"vm",title:"Multi Select",settings:{nav:12,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-list"></i>',buttonColor:"success"},icon:"list"}}},{state:"samples.permission",config:{url:"/pagepermission",templateUrl:"app/samples/pagepermission.html",controller:"pagepermissionTemplate",controllerAs:"vm",title:"Page Permission",settings:{nav:13,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-square"></i>',buttonColor:"danger"},icon:"square"}}},{state:"samples.check",config:{url:"/check",templateUrl:"app/samples/check.html",controller:"checkTemplate",controllerAs:"vm",title:"Check",settings:{nav:14,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-check-square-o"></i>',buttonColor:"purple"},icon:"check-square-o"}}},{state:"samples.switch",config:{url:"/switch",templateUrl:"app/samples/switch.controller.html",controller:"switchTemplate",controllerAs:"vm",title:"Switch",settings:{nav:15,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-check-square-o"></i>',buttonColor:"default"},icon:"check-square-o"}}},{state:"samples.radio",config:{url:"/radio",templateUrl:"app/samples/radio.html",controller:"radioTemplate",controllerAs:"vm",title:"Radio",settings:{nav:16,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-dot-circle-o"></i>',buttonColor:"primary"},icon:"dot-circle-o"}}},{state:"samples.textarea",config:{url:"/textarea",templateUrl:"app/samples/textarea.html",controller:"textareaTemplate",controllerAs:"vm",title:"Textarea",settings:{nav:17,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-square-o"></i>',buttonColor:"light"},icon:"square-o"}}},{state:"samples.button",config:{url:"/button",templateUrl:"app/samples/button.html",controller:"buttonTemplate",controllerAs:"vm",title:"Button",settings:{nav:18,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-square"></i>',buttonColor:"warning"},icon:"square"}}},{state:"samples.repeat",config:{url:"/repeat",templateUrl:"app/samples/repeat.html",controller:"repeatTemplate",controllerAs:"vm",title:"Repeat",settings:{nav:19,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-repeat"></i>',buttonColor:"info"},icon:"repeat"}}},{state:"samples.maskedInput",config:{url:"/maskedInput",templateUrl:"app/samples/maskedInput.html",controller:"maskedInputTemplate",controllerAs:"vm",title:"MaskedInput",settings:{nav:20,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-square-o"></i>',buttonColor:"success"},icon:"square-o"}}},{state:"samples.autocompletelist",config:{url:"/autocompletelist",templateUrl:"app/samples/autocompleteList.html",controller:"autocompleteListTemplate",controllerAs:"vm",title:"AutoCompleteList",settings:{nav:21,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-caret-square-o-down"></i>',buttonColor:"danger"},icon:"caret-square-o-down"}}},{state:"samples.searchableDropdown",config:{url:"/searchableDropdown",templateUrl:"app/samples/searchableDropdown.html",controller:"searchableDropdownTemplate",controllerAs:"vm",title:"SearchableDropdown",settings:{nav:22,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-caret-square-o-down"></i>',buttonColor:"purple"},icon:"caret-square-o-down"}}},{state:"samples.masterDetail",config:{url:"/masterDetail",templateUrl:"app/samples/masterDetailSample.html",controller:"masterDetailSampleController",controllerAs:"vm",title:"masterDetail",settings:{nav:23,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-caret-square-o-down"></i>',buttonColor:"default"},icon:"caret-square-o-down"}}},{state:"samples.contextButton",config:{url:"/contextButton",templateUrl:"app/samples/contextButtonSample.html",controller:"contextButtonSampleController",controllerAs:"vm",title:"contextButton",settings:{nav:24,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-caret-square-o-down"></i>',buttonColor:"primary"},icon:"caret-square-o-down"}}},{state:"samples.label",config:{url:"/label",templateUrl:"app/samples/label.html",controller:"labelTemplate",controllerAs:"vm",title:"label",settings:{nav:25,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-caret-square-o-down"></i>',buttonColor:"light"},icon:"caret-square-o-down"}}},{state:"samples.filterButton",config:{url:"/filterButton",templateUrl:"app/samples/filterButtonSample.html",controller:"filterButtonSampleController",controllerAs:"vm",title:"filterButton",settings:{nav:26,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-caret-square-o-down"></i>',buttonColor:"warning"},icon:"caret-square-o-down"}}},{state:"samples.collapseExpand",config:{url:"/collapseExpand",templateUrl:"app/samples/collapseExpand.html",controller:"collapseExpandTemplate",controllerAs:"vm",title:"collapseExpand",settings:{nav:27,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-caret-square-o-down"></i>',buttonColor:"info"},icon:"caret-square-o-down"}}},{state:"samples.checkList",config:{url:"/checklist",templateUrl:"app/samples/checklist.html",controller:"checklistTemplate",controllerAs:"vm",title:"Checkbox List",settings:{nav:28,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-check-square-o"></i>',buttonColor:"purple"},icon:"check-square-o"}}},{state:"samples.editabledropdown",config:{url:"/editabledropdown",templateUrl:"app/samples/editableDropdown.html",controller:"editableDropdownTemplate",controllerAs:"vm",title:"Editable Dropdown",settings:{nav:29,menu:{cssState:"active"},mini:{content:'<i class="ace-icon fa fa-check-square-o"></i>',buttonColor:"purple"},icon:"check-square-o"}}}]}e.$inject=["e"],angular.module("ep.formly.samples").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e,t){function i(){e.info("Activated Templates")}var n=this;n.submit=function(e){console.log(e)},n.user={state:"Bc"},t(function(){n.options.formState.employeeOptions=[{name:"100",value:100,state:1},{name:"200",value:200,state:1},{name:"300",value:300,state:1},{name:"400",value:400,state:2},{name:"500",value:500,state:1}],t(function(){n.user.employees=300},1e3)},3e3),n.toggleFormStateDisabled=function(){n.options.formState.readOnly=!n.options.formState.readOnly},n.toggleCountryDisabled=function(){n.options.formState.countryDisabled=!n.options.formState.countryDisabled},n.userFields=[{key:"ProjectNumbers_OBJ",type:"ep-searchableDropdown",id:"id_ProjectNumbers",templateOptions:{actualModel:"ProjectNumbers",label:"Project Numbers",searchableinitKey:"ProjectNumbers",valueProp:"OBJID",labelProp:"PROJECT_CODE",isSelectOptionRequired:!0,searchContains:!0,enableContextButton:!0,contextButtonText:"Update",contextButtonAction:"GET",filter:{column:"PROJECT_CODE",value:""}},expressionProperties:{"templateOptions.disabled":"formState.countryDisabled"},validation:{messages:{required:'"Select Project Numbers"'}}},{key:"country_obj",type:"ep-searchableDropdown",id:"CountryControl",templateOptions:{actualModel:"country",label:"Country",searchableinitKey:"Country",valueProp:"COUNTRY_OBJID",labelProp:"COUNTRY_NAME",searchContains:!0,required:!0,filter:{column:"COUNTRY_OBJID",value:268435637}},expressionProperties:{"templateOptions.disabled":"formState.countryDisabled"},validation:{messages:{required:'"Select Country"'}}},{key:"state_obj",type:"ep-searchableDropdown",templateOptions:{actualModel:"state",label:"State",searchableinitKey:"State",requiresInitParams:!0,valueProp:"STATE_OBJID",labelProp:"STATE_NAME",searchContains:!0,required:!0,width:"500px"},expressionProperties:{"templateOptions.initParams":"model.params.country||form.CountryControl.$dirty?{country_name: model.country}:undefined"}},{key:"Employees_obj",type:"ep-searchableDropdown",templateOptions:{actualModel:"employees",label:"Number of Employees",searchContains:!1,width:"30%",ngChange:"formState.onChange",filter:{column:"state",value:2}},expressionProperties:{"templateOptions.options":"formState.employeeOptions"}}],n.fields=angular.copy(n.userFields),n.options={formState:{employeeOptions:[],programName:"Olca",formName:"ProjectNumbers",readOnly:!1,countryDisabled:!1,loginUser:"ep.admin",onChange:function(e){console.log(e),alert("ngChange Fired!")}}},i()}e.$inject=["e","t"],angular.module("ep.formly.samples").controller("searchableDropdownTemplate",e),e.$inject=["logger","$timeout"]}(),function(){"use strict";function e(e,t){var i=this;i.user={Cricket:1,kabadi:"Yes",basketBall:!0},i.userFields=[{template:"<h4 class='no-margin'>What are your hobbies?</h4><hr class='marginTop10'/>"},{key:"Cricket",type:"ep-switch",templateOptions:{actualModel:"Cricket",label:"Playing Cricket",ngFalseValue:0,ngTrueValue:1}},{key:"kabadi",type:"ep-switch",templateOptions:{actualModel:"kabadi",label:"Palying Kabadi",ngFalseValue:"No",ngTrueValue:"Yes"}},{key:"basketBall",type:"ep-switch",templateOptions:{disabled:!0,required:!0,label:"Palying BAsket Ball"}}]}e.$inject=["e","t"],angular.module("ep.formly.samples").controller("switchTemplate",e),e.$inject=["$scope","logger"]}(),function(){"use strict";function e(e,t){var i=this;i.user={Description:"This is a multiline description. This is a multiline description.This is a multiline description. This is a multiline description.This is a multiline description. This is a multiline description.This is a multiline description. This is a multiline description."},i.userFields=[{key:"Description",type:"ep-textarea",templateOptions:{label:"Description",resize:"none",required:!0,autosize:!1},validation:{messages:{required:'"Description is required"',profane:'"Custom: Profanity detected in communication content. Please revise before continuing."'}}},{key:"Notes",type:"ep-textarea",templateOptions:{label:"Notes",resize:"none"}}]}e.$inject=["e","t"],angular.module("ep.formly.samples").controller("textareaTemplate",e),e.$inject=["$scope","logger"]}(),function(){"use strict";function e(e,t){function i(){t.info("Activated Textbox Validations")}var n=this;n.user={phone:"1111111111"},n.submit=function(e){n.myform.$invalid&&angular.forEach(n.myform.$error,function(e){angular.forEach(e,function(e){e.$setTouched()})}),console.log(e),console.log(n.myForm)},n.userFields=[{key:"phone",type:"ep-text",templateOptions:{label:"Phone",validator:"Phone",required:!0},validation:{messages:{required:'"Phone is required"',pattern:'"Invalid Phone Expected Format : xxx-xxx-xxxx"'}}},{key:"zip",type:"ep-text",templateOptions:{label:"ZIP",validator:"ZIP",required:!0},validation:{messages:{required:'"Zip is required"',pattern:'"Invalid Phone Expected Format : xxxxx-xxxx"'}}},{key:"email",type:"ep-text",templateOptions:{required:!0,label:"Email",validator:"Email"},validation:{messages:{required:'"email is required"',pattern:'"Invalid Email Address"'}}},{key:"URL",type:"ep-text",templateOptions:{label:"URL",validator:"url",required:!0},validation:{messages:{required:'"URL is required"',pattern:'"Invalid URL"'}}},{key:"ipaddress",type:"ep-text",templateOptions:{label:"IP Address",validator:"ip-address",placeholder:"255.255.255.259",required:!0},validation:{messages:{pattern:'"Invalid IP Address"',required:'"IP Address is required"'}}},{key:"price",type:"ep-text",templateOptions:{label:"Price",validator:"price",noOfDecimalPlaces:2,placeholder:"xx.xx"},validation:{messages:{pattern:'"Invalid Price"',required:'"Price is required"'}}},{key:"customipaddress",type:"ep-text",templateOptions:{label:"Custom Format",validator:"Custom",regex:"^(\\(\\d{3}\\) )\\d{3}-\\d{4}$",placeholder:"(999) 999-9999",required:!0},validation:{messages:{pattern:'"Invalid Custom Format"',required:'"Custom Format is required"'}}},{type:"ep-text",key:"minLength",templateOptions:{label:"Any text",minLength:3,maxLength:6,required:!0},validation:{messages:{minlength:'"minimum length of 3 is required"',required:'"Custom Format is required"'}}},{type:"ep-text",defaultValue:.452000000003,templateOptions:{label:"No Of Decimals",validator:"price",noOfDecimalPlaces:2}}],n.originalFields=angular.copy(n.userFields),n.options={formState:{programName:"Ford Campaigns",formName:"Campaign Detail"}},i()}e.$inject=["e","t"],angular.module("ep.formly.samples").controller("textboxTemplate",e),e.$inject=["$scope","logger"]}(),function(){"use strict";function e(e){function t(e,t,o){o.$observe("htImgPerson",function(e){e=i+(e||n),o.$set("src",e)})}var i=e.imageBasePath,n=e.unknownPersonImageSource,o={link:t,restrict:"A"};return o}e.$inject=["e"],angular.module("ep.formly.widgets").directive("htImgPerson",e),e.$inject=["config"]}(),function(){"use strict";function e(){var e={scope:{title:"@",subtitle:"@",rightText:"@",allowCollapse:"@"},templateUrl:"app/widgets/widget-header.html",restrict:"EA"};return e}angular.module("ep.formly.widgets").directive("htWidgetHeader",e)}(),function(){"use strict";function e(e){e.setType({name:"ep-typeahead",templateUrl:"app/templates/autocompleteList/autocompleteList.html",defaultOptions:{ngModelAttrs:{typeahead:{attribute:"typeahead"}},templateOptions:{typeahead:"option[to.valueProp || 'value'] for option in to.options | filter: $viewValue"}},wrapper:["horizontalBootstrapLabel","bootstrapHasError"]})}e.$inject=["e"],angular.module("ep.formly.templates.autocompleteList").run(e),e.$inject=["formlyConfig"]}(),function(){"use strict";angular.module("ep.formly.templates.checklist").run(["formlyConfig",function(e){e.setType({name:"ep-checklist",templateUrl:"app/templates/checklist/checklist.html",wrapper:["horizontalBootstrapLabel","bootstrapHasError"],defaultOptions:{noFormControl:!1,ngModelAttrs:{required:{attribute:"",bound:""}}},controller:["$scope",function(e){function t(t){var i=angular.isArray(e.model[n.key])&&e.model[n.key].length>0&&t;angular.isDefined(e.fc)&&(i||e.fc.$setTouched(),e.fc.$setValidity("required",i))}var i=e.to,n=e.options;if(e.multiCheckbox={checked:[]},e.$watch("model",function(o){var r,a;if(angular.isDefined(e.model)&&angular.isArray(e.model[n.key])){r=e.model[n.key],a=i.valueProp||"value";var s=0;angular.forEach(e.to.options,function(t){e.multiCheckbox.checked[s]=-1!==r.indexOf(t[a]),s+=1}),(e.to.required||n.expressionProperties&&n.expressionProperties["templateOptions.required"])&&t(!0)}},!0),e.$watch("to.options",function(o){var r,a;if(angular.isDefined(e.model)&&angular.isArray(e.model[n.key])){r=e.model[n.key],a=i.valueProp||"value";var s=0;angular.forEach(e.to.options,function(t){e.multiCheckbox.checked[s]=-1!==r.indexOf(t[a]),s+=1}),(e.to.required||n.expressionProperties&&n.expressionProperties["templateOptions.required"])&&t(!0)}},!0),e.setModel=function(){e.model[n.key]=[],angular.forEach(e.multiCheckbox.checked,function(t,o){t&&e.model[n.key].push(i.options[o][i.valueProp||"value"])}),e.to.onChange&&e.to.onChange()},n.expressionProperties&&n.expressionProperties["templateOptions.required"]&&e.$watch(function(){return e.to.required},function(e){t(e)}),e.to.required)var o=e.$watch("fc",function(e){e&&(t(!0),o())})}]})}])}(),function(){"use strict";angular.module("ep.formly.templates.button").run(["formlyConfig",function(e){e.setType({name:"ep-button",templateUrl:"app/templates/button/button.html",defaultOptions:{templateOptions:{btnType:"primary",type:"button"},extras:{skipNgModelAttrsManipulator:!0}},controller:["$scope",function(e){function t(t){return angular.isString(e.to.onClick)?e.$eval(e.to.onClick,{$event:t}):e.to.onClick(t)}e.onClick=t}],wrapper:["horizontalBootstrapLabel","bootstrapHasError"]})}])}(),function(){"use strict";angular.module("ep.formly.templates.ckeditor").run(["formlyConfig",function(e){e.setType({name:"ep-ckeditor",templateUrl:"app/templates/ckeditor/ckeditor.html","extends":"textarea",wrapper:["horizontalBootstrapLabel","bootstrapHasError","ngCkMessages"]}),e.setWrapper({name:"ngCkMessages",template:'<formly-transclude></formly-transclude><div class="col-sm-offset-4  col-sm-8" ng-messages="fc.$error" ng-if="fc.$invalid"><div class="red" ng-repeat="(name, message) in ::options.validation.messages" ng-message="{{::name}}">{{message(fc.$viewValue, fc.$modelValue, this)}} </div></div>'})}])}(),function(){"use strict";angular.module("ep.formly.templates.collapseExpand").run(["formlyConfig",function(e){e.setType({name:"ep-collapseexpand",templateUrl:"app/templates/collapseExpand/collapseExpand.html",defaultOptions:{templateOptions:{btnType:"primary",type:"button"},extras:{skipNgModelAttrsManipulator:!0}},controller:["$scope",function(e){function t(t){e.formOptions.formState[e.to.propertyName]=!e.formOptions.formState[e.to.propertyName]}e.formOptions.formState[e.to.propertyName]=!1,e.onClick=t}]}),e.setWrapper({name:"collapsable",template:'<div ng-class="col-sm-12"><formly-transclude></formly-transclude></div>'})}])}(),function(){"use strict";function e(e,t,i,n,o,r,a,s,l,c,d,u){e.headerMessage=o,e.options=angular.copy(r),e.action=a;var p='{"OBJID" : '+(angular.isUndefined(d)?'""':d)+"}";e.getData=function(){s.getData(r.formState.programName,n,{pi_entity:n,pi_input_xml:JSON.parse(p),pi_uidb_mappingxml:{},pi_action:a,pi_user:r.formState.loginUser}).$promise.then(function(t){t&&t.dataRows&&t.dataRows.length>0?e.modalData=t.dataRows[0]:console.log("No data received for OBJID "+n.objId)})},e.getFieldData=function(){s.getForm(e.options.formState.programName,n,{params:{isDev:l.isDev},pi_user:r.formState.loginUser}).$promise.then(function(t){t&&("GET"===e.action?e.formFields=u.parseJson(t.ModelForm):"LIST"===e.action&&(e.formFields=u.parseJson(t.MainForm)))})},e.getFieldData(),e.getData(),e.cancel=function(){if(this.popupForm.$dirty){var e=window.confirm("Do you want to discard changes");e===!0&&t.dismiss()}else t.dismiss()},e.options.formState.upsertData=function(t,i){e.upsertData(t,i)},e.options.formState.close=function(t,i){e.close(t,i)},e.upsertData=function(i,o){if(e.popupForm.$valid){var a=[];a=e.fetchUIDBMapping(e.formFields),s.setData(r.formState.programName,n,{pi_entity:n,pi_action:angular.isUndefined(i.OBJID)?"INSERT":"UPDATE",pi_input_xml:i,pi_uidb_mappingxml:a,pi_user:r.formState.loginUser}).$promise.then(function(i){i&&i.dataRows&&i.dataRows.length>0&&(e.status=i.dataRows[0].STATUS,e.message=i.dataRows[0].MESSAGE,0===e.status&&(c.success(e.message),t.close(e.modalData)))})}else console.log("invalid form"),e.popupForm.$invalid&&angular.forEach(e.popupForm.$error,function(e){angular.forEach(e,function(e){e.$setTouched()})}),c.warning("Please fill all required fields")},e.close=function(n,o){if(e.popupForm.$dirty){var r="Do you want to discard changes?",a="Confirm",s=!1,l=i.open({templateUrl:"app/templates/genericcrud/confirmation.controller.html",controller:"confirmModalController",controllerAs:"vm",size:"md",resolve:{title:function(){return a},message:function(){return r},hideCancel:function(){return!1},isWarning:function(){return!0},okText:function(){return"Yes"},cancelText:function(){return"No"}}});l.result.then(function(i){s=i,i===!0&&(e.popupForm.$submitted?t.close(n):t.dismiss())},function(e){})}else e.popupForm.$submitted?t.close(n):t.dismiss()},e.fetchUIDBMapping=function(e){var t={};return angular.forEach(e,function(e){angular.isDefined(e)&&angular.isDefined(e.templateOptions)&&angular.isDefined(e.templateOptions.label)&&angular.isDefined(e.key)&&"CREATEDATE"!==e.key&&"CREATOR"!==e.key&&"MODDATE"!==e.key&&"MODIFIER"!==e.key&&(angular.isDefined(e.templateOptions.actualModel)?angular.isDefined(e.templateOptions.actualModelName)?t[e.templateOptions.actualModelName]=e.templateOptions.label:t[e.templateOptions.actualModel]=e.templateOptions.label:angular.isDefined(e.templateOptions.modelNameProperty)?(t[e.templateOptions.modelNameProperty]=e.templateOptions.label,t[e.templateOptions.modelIdProperty]=e.templateOptions.label):t[e.key]=e.templateOptions.label)}),t}}e.$inject=["e","t","o","n","a","r","i","l","s","c","p","d"],angular.module("ep.formly.templates.contextbutton").controller("contextButtonModalController",e),e.$inject=["$scope","$modalInstance","$modal","entity","headerMessage","options","action","$epGenericDataService","epGenSettingsVal","logger","objId","jsonParser"]}(),function(){"use strict";function e(e){function t(e,t,i,n,o){function r(e,i,n,o,r){var a=t.open({templateUrl:"app/templates/contextbutton/contextButtonModal.html",controller:"contextButtonModalController",controllerAs:"cm",size:"lg md sm",backdrop:"static",keyboard:!1,backdropClass:"modal-backdrop fade in",resolve:{entity:function(){return e},headerMessage:function(){return i},options:function(){return n},objId:function(){return o},action:function(){return r}}});a.result.then(function(e){},function(e){console.log("modal-component dismissed at: "+new Date)})}e.openModal=function(){r(e.to.entity,e.to.headerMessage,e.formOptions,e.to.objId,e.to.action)}}e.setType({name:"ep-contextbutton",templateUrl:"app/templates/contextbutton/contextbutton.html",controller:t}),t.$inject=["$scope","$modal","$http","$epGenericDataService","logger"]}e.$inject=["e"],angular.module("ep.formly.templates.contextbutton").run(e),e.$inject=["formlyConfig"]}(),function(){"use strict";function e(e,t){function i(e){return e=e.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),e.replace(/^([A-Z])/,function(e,t){return t?t.toLowerCase():""})}var n=["date-disabled","custom-class","show-weeks","starting-day","init-date","min-mode","max-mode","format-day","format-month","format-year","format-day-header","format-day-title","format-month-title","year-range","shortcut-propagation","datepicker-popup","show-button-bar","current-text","clear-text","close-text","close-on-date-selection","datepicker-append-to-body","required"],o=null,r=function(){var e=new Date,t=e.toString().substr(e.toString().indexOf("GMT")+3,5);return t},a=function(e,t){var i=o("date")(new Date(e),t,r());return i},s=function(e,t,i){var n=!1;if(e.disableAllDatesExcept&&angular.isNumber(e.disableAllDatesExcept))n="day"===i&&t.getDate()!==e.disableAllDatesExcept;else if(e.disableAllDatesExcept&&angular.isArray(e.disableAllDatesExcept)){var o=t.getDate();-1===e.disableAllDatesExcept.indexOf(o)&&(n=angular.isDefined(e.startDate)&&angular.isDefined(e.endDate)?new Date(t.toLocaleDateString())>=new Date(new Date(e.startDate).toLocaleDateString())&&new Date(t.toLocaleDateString())<=new Date(new Date(e.endDate).toLocaleDateString()):angular.isDefined(e.startDate)?new Date(t.toLocaleDateString())>=new Date(new Date(e.startDate).toLocaleDateString()):!angular.isDefined(e.endDate)||new Date(t.toLocaleDateString())<=new Date(new Date(e.endDate).toLocaleDateString()))}return!n&&e.disableWeekends&&(n="day"===i&&(0===t.getDay()||6===t.getDay())),n},l=["datepicker-mode","min-date","max-date"],c={};angular.forEach(n,function(e){c[i(e)]={attribute:e}}),angular.forEach(l,function(e){c[i(e)]={bound:e}}),e.setType({name:"ep-datepicker",templateUrl:"app/templates/datepicker/datepicker.html",wrapper:["horizontalBootstrapLabel","bootstrapHasError","ngsddlMessages"],defaultOptions:{ngModelAttrs:c,templateOptions:{datepickerOptions:{format:"MM/dd/yyyy",initDate:new Date},outputFormat:"MM/dd/yyyy hh:mm:ss a",required:!1}},controller:["$scope","dateParser","$filter",function(e,t,i){e.datepicker={},e.datepicker.opened=!1,o=i,e.actualDate=angular.copy(new Date(e.model[e.options.key])),(angular.isUndefined(e.model[e.options.key])||null===e.model[e.options.key])&&(e.actualDate=""),e.datepicker.open=function(t){e.datepicker.opened=!e.datepicker.opened},e.$watch("actualDate",function(t,i){angular.equals(t,i)||angular.equals(t?t.toLocaleDateString():"",i?i.toLocaleDateString():"")||(angular.isUndefined(e.actualDate)||null===e.actualDate||""===e.actualDate||angular.isUndefined(e.model)?angular.isUndefined(e.model)||(e.model[e.options.key]=""):e.model[e.options.key]=a(new Date(t),e.to.outputFormat))}),e.$watch("model."+e.options.key,function(t,i){angular.equals(t,i)||angular.isUndefined(e.model)||(angular.isUndefined(t)||null===t||""===t?e.actualDate="":e.actualDate=new Date(t))}),e.disabledFunction=function(t,i){return e.to.dateDisabled?s(e.to.dateDisabled,t,i):void 0}}]})}e.$inject=["e","t"],angular.module("ep.formly.templates.datepicker").run(e),e.$inject=["formlyConfig","moment"]}(),function(){"use strict";function e(e){e.setType({name:"ep-editableselect",templateUrl:"app/templates/editableselect/editableselect.html",controller:["$scope","$parse",function(e,t){e.setToModel=function(i){t(e.options.key).assign(e.model,i)}}],wrapper:["horizontalBootstrapLabel","bootstrapHasError","ngMessages"]})}e.$inject=["e"],angular.module("ep.formly.templates.editableselect").run(e),e.$inject=["formlyConfig"]}(),function(){"use strict";function e(e,t,i,n,o,r,a){function s(){e.getListData()}e.headerMessage=i,e.to=o,e.modelObj=n,e.cancel=function(){a.dismiss()},e.search={},e.search[o.idColumn]=angular.isUndefined(n[o.modelIdProperty])||null===n[o.modelIdProperty]?"":angular.copy(n[o.modelIdProperty]),e.search[o.nameColumn]=angular.isUndefined(n[o.modelNameProperty])||null===n[o.modelNameProperty]?"":angular.copy(n[o.modelNameProperty]),e.commonSearch=o.commonSearch,e.sendDataToForm=function(e){a.close({resultData:e,modelObj:n,to:o,options:r})},e.tableData=[],e.$watch("tableData",function(e,t){}),e.cacheKeypair={},e.commonSearch?(e.cacheKeypair[e.to.nameColumn]=e.search[o.commonSearchText],e.cacheKeypair[e.to.idColumn]=e.search[o.commonSearchText]):(e.cacheKeypair[e.to.nameColumn]=e.search[o.nameColumn],e.cacheKeypair[e.to.idColumn]=e.search[o.idColumn]),e.getListData=function(){var i={pageSize:e.to.pageSize,pageNumber:1};e.to.pagination||(i={});var n={useCache:!0,excludeFormName:!0,filter:{contains:e.cacheKeypair},paging:i};t.initData(e.to.programName,e.to.formName,e.to.formName,{},n).$promise.then(function(t){t&&t.length>0?e.tableData=t:e.tableData=void 0})},s(),e.GetData=function(t,i){e.cacheKeypair={};var n=!0;void 0===t?void 0===i?n=!1:0===i.trim().length&&(n=!1):void 0===i&&(void 0===t?n=!1:0===t.trim().length&&(n=!1)),n&&(e.commonSearch?(e.cacheKeypair[e.to.nameColumn]=void 0===i?"":i.trim(),e.cacheKeypair[e.to.idColumn]=void 0===t?"":t.trim()):(e.cacheKeypair[e.to.nameColumn]=void 0===i?"":i.trim(),e.cacheKeypair[e.to.idColumn]=void 0===t?"":t.trim()),s())}}e.$inject=["e","t","o","n","a","r","i"],angular.module("ep.formly.templates.filterbutton").controller("filterButtonModalController",e),e.$inject=["$scope","$epGenericDataService","headerMessage","modelObj","templateOptions","fieldOptions","$modalInstance"]}(),function(){"use strict";function e(e,t,i,n,o){function r(e){e.commonSearch=!0,e.undefinederror=e.to.label.replace(" ","_"),e.fieldname=e.to.label.replace(" ","_"),console.log(e.undefinederror),e[e.undefinederror]=!1,e.GenerateModalPopUp=function(i,n,o,r){var a=t.open({templateUrl:"app/templates/filterButton/filterbutton.modal.html",controller:"filterButtonModalController",controllerAs:"cm",size:"lg md sm",backdrop:"static",keyboard:!1,backdropClass:"modal-backdrop fade in",resolve:{headerMessage:function(){return i},modelObj:function(){return n},templateOptions:function(){return o},fieldOptions:function(){return r}}});a.result.then(function(t){e.model[e.to.modelIdProperty]=t.resultData[e.to.idColumn],e.model[e.to.modelNameProperty]=t.resultData[e.to.nameColumn],e.model[e.options.key]=t.resultData[e.to.objidColumn],e.to.commonSearchText=t.resultData[e.to.nameColumn],e.fc[0].$setValidity("required",!0)},function(){console.log("modal-component dismissed at: "+new Date)})},e.openModal=function(){return e.fc[0].$setValidity("required",!1),void 0===e.model[e.to.modelNameProperty]&&void 0===e.model[e.to.modelIdProperty]?(e[e.undefinederror]=!0,!1):(e[e.undefinederror]=!1,e.to.commonSearch&&(e.to.commonSearchText=e.model[e.to.modelNameProperty]),void e.GenerateModalPopUp(e.to.searchTitle,this.model,this.to,e.formState))},e.onChange=function(){e.fc[0].$setValidity("required",!1)}}e.setType({name:"ep-filterbutton",templateUrl:"app/templates/filterButton/filterbutton.html",defaultOptions:{ngModelAttrs:{ngOptions:{attribute:"ng-options"}},templateOptions:{commonSearch:!1,pagination:!1,pageSize:200}},controller:r,wrapper:["horizontalBootstrapLabel","bootstrapHasError","ngfilterMessages"]}),e.setWrapper({name:"ngfilterMessages",template:'<formly-transclude></formly-transclude><div class="col-sm-offset-4 col-sm-8 red" ng-show="this[undefinederror]" ng-hide="fc[0].$viewValue.trim().length >= 2 || fc[1].$viewValue.trim().length >= 2">Minimum of two characters of Dealer id/name required</div>'}),r.$inject=["$scope"]}e.$inject=["e","t","o","n","a"],angular.module("ep.formly.templates.filterbutton").run(e),e.$inject=["formlyConfig","$modal","$http","$epGenericDataService","logger"]}(),function(){"use strict";function e(e,t,i,n,o,r,a,s){function l(){}var c=this;l(),c.message=t,c.title=i,c.hideCancel=o,c.isWarning=r,c.okText=a,c.cancelText=s,c.messageHtml=function(){return n.trustAsHtml(c.message)},c.close=function(t){e.dismiss(t)},c.ok=function(){e.close(!0)}}e.$inject=["e","t","o","n","a","r","i","l"],angular.module("ep.formly.templates.genericcrud").controller("confirmModalController",e),e.$inject=["$modalInstance","message","title","$sce","hideCancel","isWarning","okText","cancelText"]}(),function(){"use strict";function e(e,t,i,n,o,r,a,s,l,c,d,u,p){function g(){e.dataModel=angular.copy(e.options.formState.parentModel),e.headerMessage=o,"UPDATE"!==a&&"VIEW"!==a||e.getData(),e.getFieldData()}var f=u,m=r.formState.loginUser;e.options=r,e.options.formState.isAdd="INSERT"===a,e.options.formState.isNewRow="INSERT"===a,e.options.formState.upsertData=function(i,o,l){if(l=l||!1,e.popupForm.$valid){var d=[];d=e.fetchUIDBMapping(e.formFields),s.setData(r.formState.programName,r.formState.formName,{pi_entity:r.formState.formName,pi_action:a,pi_input_xml:i,pi_uidb_mappingxml:d,pi_user:r.formState.loginUser}).$promise.then(function(i){i&&i.dataRows&&i.dataRows.length>0&&(e.status=i.dataRows[0].STATUS,e.message=i.dataRows[0].MESSAGE,0===e.status?(angular.isDefined(i.dataRows[0].OBJID)&&(e.dataModel.OBJID=i.dataRows[0].OBJID),"INSERT"!==a||l||(n={OBJID:e.dataModel.OBJID},e.dataModel={},e.getData()),a="UPDATE",e.options.formState.isAdd=!1,c.success(e.message),e.popupForm.$setPristine(!0),e.popupForm.$setSubmitted(!0),l&&t.close(e.dataModel)):1===e.status?f.createException(e.message):f.createException(e.message))},function(e){f.createException(e,{user:m})})}else console.log("invalid form"),e.popupForm.$invalid&&angular.forEach(e.popupForm.$error,function(e){angular.forEach(e,function(e){e.$setTouched()})}),c.warning("Please fill all required fields")},e.options.formState.close=function(n,o,r){if(r=r||!1,e.popupForm.$dirty){var a="Do you want to discard changes?",s="Confirm",l=!1,c=i.open({
templateUrl:"app/templates/genericcrud/confirmation.controller.html",controller:"confirmModalController",controllerAs:"vm",size:"md",resolve:{title:function(){return s},message:function(){return a},hideCancel:function(){return!1},isWarning:function(){return!0},okText:function(){return"Yes"},cancelText:function(){return"No"}}});c.result.then(function(i){l=i,i===!0&&(e.popupForm.$submitted||r?t.close(n):t.dismiss())},function(e){})}else e.popupForm.$submitted||r?t.close(n):t.dismiss()},e.appendObject=function(e,t){return angular.forEach(t,function(t,i){e[i]=t}),e},e.fetchUIDBMapping=function(t){var i={};return angular.forEach(t,function(t){angular.isDefined(t)&&angular.isDefined(t.fieldGroup)?e.appendObject(i,e.fetchUIDBMapping(t.fieldGroup)):angular.isDefined(t)&&angular.isDefined(t.templateOptions)&&angular.isDefined(t.templateOptions.label)&&angular.isDefined(t.key)&&"CREATEDATE"!==t.key&&"CREATOR"!==t.key&&"MODDATE"!==t.key&&"MODIFIER"!==t.key&&(angular.isDefined(t.templateOptions.actualModel)?angular.isDefined(t.templateOptions.actualModelName)?i[t.templateOptions.actualModelName]=t.templateOptions.label:i[t.templateOptions.actualModel]=t.templateOptions.label:angular.isDefined(t.templateOptions.modelNameProperty)?(i[t.templateOptions.modelNameProperty]=t.templateOptions.label,i[t.templateOptions.modelIdProperty]=t.templateOptions.label):i[t.key]=t.templateOptions.label)}),i},e.getData=function(){var t='{"OBJID" : '+(angular.isUndefined(n)?'""':n.OBJID)+"}";s.getData(r.formState.programName,r.formState.formName,{pi_entity:r.formState.formName,pi_input_xml:JSON.parse(t),pi_uidb_mappingxml:{},pi_action:"GET",pi_user:r.formState.loginUser}).$promise.then(function(t){t&&t.dataRows&&t.dataRows.length>0?e.dataModel=t.dataRows[0]:console.log("No data received for OBJID "+n.OBJID)},function(e){console.log(e)})},e.getFieldData=function(){s.getForm(e.options.formState.programName,e.options.formState.formName,{params:{isDev:l.isDev},pi_user:e.options.formState.loginUser}).$promise.then(function(t){t&&(e.formFields=d.parseJson(t.ModelForm))})},e.reset=function(){e.getData()},e.cancel=function(){if(e.popupForm.$dirty){var n="Do you want to discard changes?",o="Confirm",r=!1,a=i.open({templateUrl:"app/templates/genericcrud/confirmation.controller.html",controller:"confirmModalController",controllerAs:"vm",size:"md",resolve:{title:function(){return o},message:function(){return n},hideCancel:function(){return!1},isWarning:function(){return!0},okText:function(){return"Yes"},cancelText:function(){return"No"}}});a.result.then(function(i){r=i,i===!0&&(e.popupForm.$submitted?t.close(e.dataModel):t.dismiss())},function(e){})}else e.popupForm.$submitted?t.close(e.dataModel):t.dismiss()},g()}function t(e,t){return function(i,n){function o(){s=0,l=0,n.css({cursor:"move"}),n=angular.element(document.getElementsByClassName("modal-dialog")),console.log("added directive"),n.css({position:"relative",top:d+"px",left:c+"px"})}function r(e){d=e.screenY-l,c=e.screenX-s,n.css({top:d+"px",left:c+"px"})}function a(){e.unbind("mousemove",r),e.unbind("mouseup",a)}var s=0,l=0,c=0,d=0;t(function(){o()},500),n.on("mousedown",function(t){t.preventDefault(),s=t.screenX-c,l=t.screenY-d,e.on("mousemove",r),e.on("mouseup",a)})}}e.$inject=["e","t","o","n","a","r","i","l","s","c","p","d","m"],t.$inject=["e","t"],angular.module("ep.formly.templates.genericcrud").controller("MsgpopUp",e).directive("modaldraggable",t),e.$inject=["$scope","$modalInstance","$modal","entity","headerMessage","options","action","$epGenericDataService","epGenSettingsVal","logger","jsonParser","exceptionCreatorService","$timeout"],t.$inject=["$document","$timeout"]}(),function(){"use strict";function e(e){e.setType({name:"ep-genericcrud",templateUrl:"app/templates/genericcrud/genericcrud.html",defaultOptions:{templateOptions:{enableFiltering:!0,enableSorting:!0,enableHiding:!1,enableColumnResizing:!0,paginationPageSizes:[15,25,50],paginationPageSize:15,editActionDisplay:"Edit",deleteActionDisplay:"Delete",addActionDisplay:"Add",evenRowBGColor:"#e9e9e9",oddRowBGColor:"#f6f6f6",searchTitle:"Enter your search criteria here",modalSize:"lg"}},controller:["$scope","$modal","$http","$epGenericDataService","logger","$timeout","exceptionCreatorService","$filter",function(e,t,i,n,o,r,a,s){function l(i,n,o,r){var a=t.open({templateUrl:"app/templates/genericcrud/editupdate.html",controller:"MsgpopUp",controllerAs:"cm",size:e.to.modalSize,backdrop:"static",keyboard:!1,backdropClass:"modal-backdrop fade in",resolve:{entity:function(){return i},headerMessage:function(){return n},options:function(){return o},action:function(){return r}}});a.result.then(function(t){e.getGridData()},function(){console.log("modal-component dismissed at: "+new Date)})}var c=a;e.setGridUI=function(){angular.element(".ui-grid-row:nth-child(even) .ui-grid-cell").css("background-color",e.to.evenRowBGColor),angular.element(".ui-grid-row:nth-child(odd) .ui-grid-cell").css("background-color",e.to.oddRowBGColor),angular.element('input[type="text"].ui-grid-filter-input').attr("title",e.to.searchTitle)},e.to.onRegisterApi=function(t){e.gridApi=t,t.core.on.rowsRendered(e,function(t){r(function(){e.setGridUI()})})},e.formState.upsert=function(t,i,n){angular.isDefined(n)&&null!==n&&(e=n),e.action=i,l(t,e.to.editFormHeader?("INSERT"===i?"Add ":"VIEW"===i?"Details":"Edit ")+e.to.editFormHeader:void 0,e.formOptions,i)},e.formState.deleteData=function(i,r,a){angular.isDefined(a)&&null!==a&&(e=a);var s="Are you sure you want to delete?",l="Delete",d=!1,u=t.open({templateUrl:"app/templates/genericcrud/confirmation.controller.html",controller:"confirmModalController",controllerAs:"vm",size:"md",resolve:{title:function(){return l},message:function(){return s},hideCancel:function(){return!1},isWarning:function(){return!0},okText:function(){return"Yes"},cancelText:function(){return"No"}}});u.result.then(function(t){if(d=t,d===!0){var a=[];a=e.fetchUIDBMapping(e.to.columnDefs),n.setData(e.formOptions.formState.programName,e.formOptions.formState.formName,{pi_entity:e.formOptions.formState.formName,pi_action:r,pi_input_xml:i,pi_uidb_mappingxml:a,pi_user:e.formOptions.formState.loginUser}).$promise.then(function(t){t&&t.dataRows&&t.dataRows.length>0&&(e.status=t.dataRows[0].STATUS,e.message=t.dataRows[0].MESSAGE,0===e.status?("DELETE"===r&&e.getGridData(),o.success(e.message)):1===e.status?c.createException(e.message):c.createException(e.message))},function(e){c.createException(e)})}},function(e){})},e.getGridData=function(){n.getData(e.formOptions.formState.programName,e.formOptions.formState.formName,{pi_entity:e.formOptions.formState.formName,pi_input_xml:{childFKName:e.formOptions.formState.childFKName,childFKObjid:e.formOptions.formState.childFKObjid,AddnlFKName:e.formOptions.formState.AddnlFKName,AddnlFKObjid:e.formOptions.formState.AddnlFKObjid},pi_uidb_mappingxml:{},pi_action:"LIST",pi_user:e.formOptions.formState.loginUser}).$promise.then(function(t){t&&t.dataRows&&t.dataRows.length>0?(angular.isDefined(e.formOptions.formState.gridFilterExpression)?e.model[e.options.key]=s("filter")(t.dataRows,e.formOptions.formState.gridFilterExpression):e.model[e.options.key]=t.dataRows,e.setGridUI()):e.model[e.options.key]=[]},function(e){console.log(e)})},e.fetchUIDBMapping=function(e){var t={};return angular.forEach(e,function(e){angular.isDefined(e)&&"ACTION"!==e.field.toUpperCase()&&"CREATEDATE"!==e.field.toUpperCase()&&"CREATOR"!==e.field.toUpperCase()&&"MODDATE"!==e.field.toUpperCase()&&"MODIFIER"!==e.field.toUpperCase()&&(t[e.field]=e.displayName)}),t}}]})}e.$inject=["e"],angular.module("ep.formly.templates.genericcrud").run(e),e.$inject=["formlyConfig"]}(),function(){"use strict";function e(e){e.setType({name:"ep-grid",templateUrl:"app/templates/grid/grid.html",wrapper:["bootstrapLabel","bootstrapHasError"],defaultOptions:{templateOptions:{paginationPageSizes:[25,50,100],paginationPageSize:25,enableFiltering:!0,minRowsToShow:25,enablePagination:!1,enablePaginationControls:!1}}})}e.$inject=["e"],angular.module("ep.formly.templates.grid").run(e),e.$inject=["formlyConfig"]}(),function(){"use strict";var e={minuteStep:15,ddlminuteStep:30,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,disabled:!1,arrowkeys:!0,showSpinners:!0,defaultTime:"12:00 AM",templateUrl:"app/templates/hours/time.html"};angular.module("ep.formly.templates.hours").constant("uitTimepickerConfig",e)}(),function(){"use strict";function e(e,t,i,n,o,r,a){function s(t){null!==e.selectedTime&&""!==e.selectedTime&&"Closed"!==e.selectedTime||(e.selectedTime=b,e.selectedDate=d(e.selectedTime),e.IsValid=!0),e.selectedDate=p(e.selectedDate,t),e.selectedTime=u(e.selectedDate),l()}function l(){e.IsValid?("Closed"!==e.selectedTime&&(e.selectedDate=d(e.selectedTime),e.selectedTime=u(e.selectedDate)),m.$setViewValue(e.selectedTime)):e.selectedTime=null}function c(e){return null===e?"":angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function d(t){if(t){var i=parseInt(t.substr(0,t.indexOf(":"))),n=parseInt(t.substr(t.indexOf(":")+1,t.indexOf(" ")-(t.indexOf(":")+1))),o=t.substr(t.indexOf(" ")+1,t.length-t.indexOf(" ")),r=new Date;return e.showMeridian?r.setHours("AM"===o?12===i?0:i:12===i?i:i+12):r.setHours(i),r.setMinutes(n),r}return g}function u(t){if(t){var i=e.showMeridian?c(t.getHours()>12?t.getHours()-12:0===t.getHours()?t.getHours()+12:t.getHours()):t.getHours(),n=c(t.getMinutes()),o=t.getHours()<12?f[0]:f[1];return i+":"+n+" "+o}return"12:00 AM"}function p(e,t){var i=new Date(e.getTime()+1e3*t),n=new Date(e);return n.setHours(i.getHours(),i.getMinutes(),i.getSeconds()),n}var g=new Date,f=angular.isDefined(i.meridians)?e.$parent.$eval(i.meridians):a.meridians||r.DATETIME_FORMATS.AMPMS,m={$setViewValue:angular.noop},h=a.minuteStep,v=a.ddlminuteStep,b=angular.isDefined(i.defaultTime)?e.$parent.$eval(i.defaultTime):a.defaultTime;e.selectedTime=u(g),e.selectedDate=g,e.expression=new RegExp("^((([0]?[1-9]|1[0-2])(:)[0-5]?[0-9]( )(AM|am|aM|Am|PM|pm|pM|Pm))|Closed)$"),e.IsValid=!1,e.readonlyInput=angular.isDefined(i.readonlyInput)?e.$parent.$eval(i.readonlyInput):a.readonlyInput,e.showMeridian=angular.isDefined(i.showMeridian)?e.$parent.$eval(i.showMeridian):a.showMeridian,h=angular.isDefined(i.minuteStep)?e.$parent.$eval(i.minuteStep):a.minuteStep,v=angular.isDefined(i.ddlminuteStep)?e.$parent.$eval(i.ddlminuteStep):a.ddlminuteStep,this.init=function(t,n){angular.element(n).timepicker({step:v,noneOption:[{label:"Closed",value:"Closed"}],timeFormat:"h:i A",forceRoundTime:!0,className:"scrollbar"}),m=t,m.$render=this.render,m.$formatters.unshift(function(e){return e?e:null});var o=n.eq(0),r=angular.isDefined(i.mousewheel)?e.$parent.$eval(i.mousewheel):a.mousewheel;r&&this.setupMousewheelEvents(o);var s=angular.isDefined(i.arrowkeys)?e.$parent.$eval(i.arrowkeys):a.arrowkeys;s&&this.setupArrowkeyEvents(o)},this.render=function(){var t=m.$viewValue;t||(t=e.selectedTime,m.$setViewValue(e.selectedTime)),e.selectedTime=t,"Closed"!==e.selectedTime&&(e.selectedDate=d(e.selectedTime)),e.IsValid=!0,isNaN(e.selectedDate)&&(m.$setValidity("hours",!1),e.IsValid=!1)},this.setupMousewheelEvents=function(t){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.readonlyInput||e.$apply(i(t)?e.incrementTime():e.decrementTime()),t.preventDefault()})},this.setupArrowkeyEvents=function(t){t.bind("keydown",function(t){e.readonlyInput||(38===t.which?(t.preventDefault(),e.incrementTime(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementTime(),e.$apply()))})},e.incrementTime=function(){s(60*h)},e.decrementTime=function(){s(60*-h)},e.changeTime=function(t){m.$setDirty(),e.IsValid=!0,e.selectedTime=t,l()},e.blur=function(){e.IsValid=e.expression.test(e.selectedTime),m.$setDirty(),e.IsValid?"Closed"!==e.selectedTime&&(e.IsValid=!0,m.$setTouched()):(m.$setViewValue(null),e.IsValid=!1),l()}}e.$inject=["e","t","o","n","a","r","i"],angular.module("ep.formly.templates.hours").controller("UitTimeController",e),e.$inject=["$scope","$element","$attrs","$parse","$log","$locale","uitTimepickerConfig"]}(),function(){"use strict";function e(e){var t={require:["hoursdirective","?^ngModel"],controller:"UitTimeController",controllerAs:"timePicker",scope:{},templateUrl:function(t,i){return i.templateUrl||e.templateUrl},link:function(e,t,i,n){var o=n[0],r=n[1];r&&o.init(r,t.find("input"))}};return t}e.$inject=["e"],angular.module("ep.formly.templates.hours").directive("hoursdirective",e),e.$inject=["uitTimepickerConfig"]}(),function(){"use strict";function e(e){function t(e){return e=e.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),e.replace(/^([A-Z])/,function(e,t){return t?t.toLowerCase():""})}var i=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],n={};n={},angular.forEach(["meridians","readonly-input","disabled","mousewheel","arrowkeys","default-Time"],function(e){n[t(e)]={attribute:e}}),angular.forEach(["hour-step","minute-step","ddlminute-step","show-meridian","ddlhourslist","hours-type"],function(e){n[t(e)]={bound:e}}),!angular.$$csp().noInlineStyle&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),e.setType({name:"UIhours",templateUrl:"app/templates/hours/hours.ui.html",wrapper:["bootstrapLabel","bootstrapHasError"],defaultOptions:{ngModelAttrs:n,templateOptions:{showmeridian:!0,ddlhourslist:[]}},controller:["$scope","$timeout","$parse","logger","$filter",function(e,t,n,o,r){function a(e,t){var i=!1;return angular.forEach(t,function(t){-1!==t.WEEK_DAY.toLowerCase().indexOf(e.toLowerCase())&&(i=!0)}),i}function s(e){var t=-1,n=-1;return angular.forEach(i,function(i,o){t=l(e,i),n=o,t!==n&&(e=c(t,n,e))}),e}function l(e,t){var i=-1;return angular.forEach(e,function(e,n){-1!==e.WEEK_DAY.toLowerCase().indexOf(t.toLowerCase())&&(i=n)}),i}function c(e,t,i){var n=i[e];return i.splice(e,1),i.splice(t,0,n),i}function d(t,i,n){var o=e.model[i][n].TYPE,r="";switch(t){case"openGTclose":r="Open time of "+o+" hours "+e.model[i][n].WEEK_DAY+" cannot be greater than Close time.";break;case"closeLTopen":r="Close time of "+o+" hours "+e.model[i][n].WEEK_DAY+" cannot be less than Open time.";break;case"openR":r="Please select Open time of "+o+" hours for "+e.model[i][n].WEEK_DAY;break;case"closeR":r="Please select Close time of "+o+" hours for "+e.model[i][n].WEEK_DAY}return r}function u(t,i){var n=e.model[h][t].TYPE,o="openlessthanclose"+n+t,r="closegreaterthanopen"+n+t,a="required"+n+t+"OPEN_TIME",s="required"+n+t+"CLOSE_TIME",l="";if(i&&"Closed"!==i){var c=new Date(f(e.model[h][t].OPEN_TIME)),u=new Date(f(e.model[h][t].CLOSE_TIME));e.model[h][t].OPEN_TIME===i&&(c.getTime()>u.getTime()?(l=d("openGTclose",h,t),g(o,l)):(p(o),p(r)),p(a)),e.model[h][t].CLOSE_TIME===i&&(c.getTime()>u.getTime()?(l=d("closeLTopen",h,t),g(r,l)):(p(o),p(r)),p(s))}else i&&"Closed"===i?(p(o),p(r),p(a),p(s)):(e.model[h][t].OPEN_TIME||(l=d("openR",h,t),g(a,l)),e.model[h][t].CLOSE_TIME||(l=d("closeR",h,t),g(s,l)))}function p(t){delete e.form[e.options.id].$error[t],e.form[e.options.id].$setValidity(t,!0),e.form[e.options.id].$setTouched()}function g(t,i){e.form[e.options.id].$error[t]||e.form[e.options.id].$setValidity(t,!1),e.form[e.options.id].$error[t]=i,e.form[e.options.id].$setTouched(),o.warning(i)}function f(e){var t="";if(e){var i=parseInt(e.substr(0,e.indexOf(":"))),n=parseInt(e.substr(e.indexOf(":")+1,e.indexOf(" ")-(e.indexOf(":")+1))),o=e.substr(e.indexOf(" ")+1,e.length-e.indexOf(" ")),r=new Date;return r.setHours("AM"===o?12===i?0:i:12===i?i:i+12),r.setMinutes(n),r}return t}var m=[],h=e.options.key,v=[{WEEK_DAY:"Mon",OPEN_TIME:"12:00 AM",CLOSE_TIME:"12:00 PM",TYPE:e.options.templateOptions.hourstype},{WEEK_DAY:"Tue",OPEN_TIME:"12:00 AM",CLOSE_TIME:"12:00 PM",TYPE:e.options.templateOptions.hourstype},{WEEK_DAY:"Wed",OPEN_TIME:"12:00 AM",CLOSE_TIME:"12:00 PM",TYPE:e.options.templateOptions.hourstype},{WEEK_DAY:"Thu",OPEN_TIME:"12:00 AM",CLOSE_TIME:"12:00 PM",TYPE:e.options.templateOptions.hourstype},{WEEK_DAY:"Fri",OPEN_TIME:"12:00 AM",CLOSE_TIME:"12:00 PM",TYPE:e.options.templateOptions.hourstype},{WEEK_DAY:"Sat",OPEN_TIME:"12:00 AM",CLOSE_TIME:"12:00 PM",TYPE:e.options.templateOptions.hourstype},{WEEK_DAY:"Sun",OPEN_TIME:"12:00 AM",CLOSE_TIME:"12:00 PM",TYPE:e.options.templateOptions.hourstype}];m.push(e.$watch(function(e){return e.model[h]},function(t){t&&0!==t.length&&Array.isArray(t)?t&&7!==t.length&&angular.forEach(i,function(t,i){if(!a(t,e.model[h])){var n={WEEK_DAY:t,OPEN_TIME:"12:00 AM",CLOSE_TIME:"12:00 PM"};e.model[h].splice(i,0,n)}}):e.model[h]=v,e.model[h]=s(e.model[h])})),e.update=function(t,i){var n=e.model[h].indexOf(t);"Closed"===i&&(e.model[h][n].OPEN_TIME!==i&&(e.originalModel[h][n].OPEN_TIME="Closed"),e.model[h][n].CLOSE_TIME!==i&&(e.originalModel[h][n].CLOSE_TIME="Closed")),u(n,i),"Closed"!==i&&null!==i&&(e.model[h][n].OPEN_TIME="Closed"===e.model[h][n].OPEN_TIME?e.model[h][n].CLOSE_TIME:e.model[h][n].OPEN_TIME,e.model[h][n].CLOSE_TIME="Closed"===e.model[h][n].CLOSE_TIME?e.model[h][n].OPEN_TIME:e.model[h][n].CLOSE_TIME)},e.$on("$destroy",function(){for(;m.length;)m.shift()()})}]})}e.$inject=["e"],angular.module("ep.formly.templates.hours").run(e),e.$inject=["formlyConfig"]}(),function(){"use strict";angular.module("ep.formly.templates.label").run(["formlyConfig",function(e){e.setType({name:"ep-label",templateUrl:"app/templates/label/label.html"})}])}(),function(){"use strict";angular.module("ep.formly.templates.maskedInput").run(["formlyConfig",function(e){e.setType({name:"maskedInput","extends":"input",templateUrl:"app/templates/maskedInput/maskedInput.html",wrapper:["horizontalBootstrapLabel","bootstrapHasError","ngMessages"],defaultOptions:{ngModelAttrs:{mask:{attribute:"ui-mask"},maskPlaceholder:{attribute:"ui-mask-placeholder"}},templateOptions:{maskPlaceholder:"",saveOrginalData:!1}},controller:["$scope","$modal","$http","$epGenericDataService","logger","$timeout","exceptionCreatorService",function(e,t,i,n,o,r,a){e.onBlur=function(t){e.to.saveOrginalData&&(e.model[e.options.key]=t.target.value)}}]}),e.setWrapper({name:"ngMessages",template:'<formly-transclude></formly-transclude><div class="col-sm-offset-4  col-sm-8" ng-messages="fc.$error" ng-if="fc.$invalid && fc.$touched"><div class="red" ng-repeat="(name, message) in ::options.validation.messages" ng-message="{{::name}}">{{message(fc.$viewValue, fc.$modelValue, this)}} </div></div>'})}])}(),function(){"use strict";angular.module("ep.formly.templates.masterDetail").run(["formlyConfig",function(e){e.setType({name:"md-button",templateUrl:"app/templates/masterDetail/md.button.html",defaultOptions:{templateOptions:{btnType:"primary",type:"button",modalSize:"md"}},controller:["$scope","$modal",function(e,t){function i(i,n,o,r,a,s,l){var c=t.open({templateUrl:"app/templates/masterDetail/mdButtonModal.html",controller:"mdButtonModalController",size:e.to.modalSize,backdrop:"static",keyboard:!1,backdropClass:"modal-backdrop fade in",resolve:{formName:function(){return i},programmeName:function(){return n},action:function(){return o},options:function(){return r},modalHeader:function(){return a},modalType:function(){return s},formOptions:function(){return l}}});c.result.then(function(e){},function(){console.log("modal-component dismissed at: "+new Date)})}e.buttonOnclick=function(t,n){e.filterOptions={childFKName:e.to.childFKName,childFKObjid:e.to.childFKObjid,ActivityFormName:e.to.ActivityFormName},i(e.to.formName,e.to.programName,e.to.action.toUpperCase(),e.filterOptions,e.to.modalHeader,"Master",e.formOptions)}}],wrapper:["horizontalBootstrapLabel","bootstrapHasError"]})}])}(),function(){"use strict";function e(){function e(e,t,i){}var i={bindToController:!0,controller:t,templateUrl:"app/templates/masterDetail/md.button.directive.html",controllerAs:"md",link:e,restrict:"E",scope:{formName:"@",label:"@",programName:"@",action:"@",options:"@",formOptions:"@",title:"@",modalHeader:"@",cssClass:"@",modalType:"@",ngDisabled:"@",modalSize:"@"}};return i}function t(e,t){function i(e,i,n,o,r,a,s,l){var c=t.open({templateUrl:"app/templates/masterDetail/mdButtonModal.html",controller:"mdButtonModalController",size:s,backdrop:"static",keyboard:!1,backdropClass:"modal-backdrop fade in",resolve:{formName:function(){return e},programmeName:function(){return i},action:function(){return n},options:function(){return o},modalHeader:function(){return r},modalType:function(){return a},formOptions:function(){return l}}});c.result.then(function(e){},function(){console.log("modal-component dismissed at: "+new Date)})}var n=this;e.buttonOnclick=function(e,t){n.modalSize=angular.isDefined(n.modalSize)?n.modalSize:"md",n.options=n.options.replace(/'/g,'"'),i(n.formName,n.programName,n.action,JSON.parse(n.options),n.modalHeader,n.modalType,n.modalSize,JSON.parse(n.formOptions))}}angular.module("ep.formly.templates.masterDetail").directive("mdButton",e),t.$inject=["$scope","$modal"]}(),function(){"use strict";function e(e,t,i,n,o,r,a,s,l,c,d,u,p){e.headerMessage=r,e.setActivityFilter=function(){e.activityLogFilter="",angular.isDefined(o)&&null!==o&&""!==o&&(e.activityLogFilter={childFKName:o.childFKName,childFKObjid:o.childFKObjid,ActivityFormName:o.ActivityFormName})},e.setActivityFilter(),e.options=s,c.getData(t,i,{pi_entity:i,pi_input_xml:e.activityLogFilter,pi_uidb_mappingxml:{},pi_action:n,pi_user:s.formState.loginUser}).$promise.then(function(t){t&&t.dataRows&&t.dataRows.length>0?e.user.formData=t.dataRows:e.user.formData=[]}),e.getFieldData=function(){c.getForm(t,i,{params:{isDev:d.isDev},pi_user:s.formState.loginUser}).$promise.then(function(t){t&&("LIST"===n?e.userFields=p.parseJson(t.MainForm):"GET"===n&&(e.userFields=p.parseJson(t.ModelForm)))})},e.getFieldData(),e.cancel=function(){l.dismiss()},e.close=function(){l.close(!0)},angular.isDefined(s)&&null!==s&&angular.isDefined(s.formState)&&null!==s.formState&&(s.formState.cancelModel=e.cancel,s.formState.closeModel=e.close)}e.$inject=["e","t","o","n","a","r","i","l","s","c","p","d","m"],angular.module("ep.formly.templates.masterDetail").controller("mdButtonModalController",e),e.$inject=["$scope","programmeName","formName","action","options","modalHeader","modalType","formOptions","$modalInstance","$epGenericDataService","epGenSettingsVal","logger","jsonParser"]}(),function(){"use strict";angular.module("ep.formly.templates.multicheck").run(["formlyConfig",function(e){e.setType({name:"ep-multicheckbox",templateUrl:"app/templates/multicheck/multicheck.html",defaultOptions:{ngModelAttrs:{ngFalseValue:{attribute:"ng-false-value"},ngTrueValue:{attribute:"ng-true-value"}},templateOptions:{ngFalseValue:"'No'",ngTrueValue:"'Yes'"}},wrapper:["horizontalBootstrapLabel","bootstrapHasError"]})}])}(),function(){"use strict";angular.module("ep.formly.templates.multiselect").run(["formlyConfig",function(e){function t(e){return e=e.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),e.replace(/^([A-Z])/,function(e,t){return t?t.toLowerCase():""})}var i={};i={},angular.forEach(["button-label","item-label","tick-property","disable-property","selection-mode","orientation","is-disabled","max-labels","max-height","search-property","output-properties","translation","helper-elements"],function(e){i[t(e)]={attribute:e}}),angular.forEach(["hour-step","minute-step","show-meridian"],function(e){i[t(e)]={bound:e}}),e.setType({name:"ep-multiselect",templateUrl:"app/templates/multiselect/multiselect.html",wrapper:["bootstrapLabel","bootstrapHasError"],defaultOptions:{ngModelAttrs:i,templateOptions:{helperelements:"all none reset filter",translation:{selectAll:"Select all",selectNone:"Select none",reset:"Reset",search:"Type here to search...",nothingSelected:"None selected"},buttonlabel:"name",itemlabel:"name maker",tickproperty:"ticked"}}})}])}(),function(){"use strict";function e(e,t){e.setType({name:"ep-permission",templateUrl:"app/templates/pagepermissions/pagePermissions.html",wrapper:["horizontalBootstrapLabel","bootstrapHasError"],defaultOptions:{templateOptions:{enableFiltering:!0,columnDefs:[{field:"PAGE_NAME",displayName:"Page",width:"230"},{field:"ROLE_NAME",displayName:"Role",width:"200"},{field:"ACCESS_TYPE",displayName:"Access",width:"200"},{field:"ACCESS_RULE",displayName:"Access Rule",enableFiltering:!1,enableSorting:!1,width:"200"},{field:"ISEDITABLE",displayName:"Edit",enableFiltering:!1,enableSorting:!1,width:"100",cellTemplate:'<div class="col-xs-12 text-center"><button type="button"class="btn-info"id="{{ row.entity.OBJID }}"ng-click="grid.appScope.editAction(row.entity)"ng-if="row.entity.ISEDITABLE == 1"><span class="glyphicon glyphicon-edit"></span></button></div>'},{field:"ISEDITABLE",displayName:"Delete",enableFiltering:!1,enableSorting:!1,width:"100",cellTemplate:'<div class="col-xs-12 text-center"><button type="button" class="btn-info"id="{{ row.entity.OBJID }}"ng-click="grid.appScope.deleteAction(row.entity)"ng-if="row.entity.ISEDITABLE == 1"><span class="glyphicon glyphicon-remove"></span></button></div>'}],onRegisterApi:""}},controller:["$scope","$epGenericDataService","$filter","logger",function(e,t,i,n){function o(){t.getData(e.formState.programName,e.formState.formName,{pi_program_name:e.formState.programName}).$promise.then(function(t){t.dataRows.length>0&&(e.grid=i("filter")(t.dataRows,{ACCESS_RULE:e.formState.enrollmentRule}),setTimeout(function(){angular.element(".ui-grid").css("height",angular.element(".ui-grid-canvas").height()+90+"px")},500),setTimeout(function(){angular.element(".ui-grid").css("height",angular.element(".ui-grid-canvas").height()+90+"px")},3e3))})}function r(){e.isEditable=!1,e.buttonName="Add Rule",e.editDataOBJID=0,e.role="",e.page="",e.accessRule=e.formState.enrollmentRule,e.access="",angular.element(".ui-grid-row:nth-child(even) .ui-grid-cell").css("background-color","#f3f3f3"),angular.element(".ui-grid-row:nth-child(odd) .ui-grid-cell").css("background-color","#fdfdfd")}e.isEditable=!1,e.editDataOBJID=0,e.buttonName="Add Rule",e.accessRule=e.formState.enrollmentRule,e.isFieldDisabled=e.formState.isEnrollmentFieldDisabled,o(),t.initData(e.formState.programName,e.formState.formName,"PAGELIST",{}).$promise.then(function(t){e.pageOptions=t}),t.initData(e.formState.programName,e.formState.formName,"GBST",{p_listname:"EN_PROGRAM_ROLES",p_parent_elm_Name:"GM CARD"}).$promise.then(function(t){e.roleOptions=t}),t.initData(e.formState.programName,e.formState.formName,"GBST",{p_listname:"EN_PROGRAM_ACCESS_TYPE",p_parent_elm_Name:"GM CARD"}).$promise.then(function(t){e.accessOptions=t}),e.accessRuleOptions=[{OBJID:"Open Enrollment",TITLE:"Open Enrollment"},{OBJID:"Cutoff Enrollment",TITLE:"Cutoff Enrollment"}],e.editAction=function(t){r(),e.isEditable=!0,e.buttonName="Update Rule",e.editDataOBJID=t.OBJID,e.role=t.ROLE_OBJID,e.page=t.PAGE_NAME,e.accessRule=t.ACCESS_RULE,e.access=t.ACCESS_TYPE,angular.element("#"+t.OBJID).parent().parent().siblings().css("background-color","yellow"),angular.element("#"+t.OBJID).parent().parent().css("background-color","yellow")},e.deleteAction=function(i){r(),angular.element("#"+i.OBJID).parent().parent().siblings().css("background-color","yellow"),angular.element("#"+i.OBJID).parent().parent().css("background-color","yellow");var a=window.confirm("Do you want to delete this record?");if(a){var s={pi_delete:1,pi_user:"",pi_ObjId:i.OBJID,pi_program_name:"",pi_role_objid:"",pi_page:"",pi_access_rule:"",pi_access_type:""};t.setData(e.formState.programName,e.formState.formName,s).$promise.then(function(t){e.status=t.dataRows[0].STATUS,e.message=t.dataRows[0].MESSAGE,2===e.status&&(o(),n.success(e.message),r())})}else r()},e.addAction=function(){var i=e.grid;if(e.dataExists=!1,angular.forEach(i,function(t){t.ROLE_OBJID===e.role&&t.PAGE_NAME===e.page&&t.ACCESS_RULE===e.accessRule&&t.OBJID!==e.editDataOBJID&&(e.dataExists=!0)}),e.dataExists)n.warning("Permission for selected Page,Role and Access Rule already exists.");else{var a={pi_delete:0,pi_user:e.formState.loginUser,pi_ObjId:e.editDataOBJID,pi_program_name:e.formState.programName,pi_role_objid:e.role,pi_page:e.page,pi_access_rule:e.accessRule,pi_access_type:e.access};t.setData(e.formState.programName,e.formState.formName,a).$promise.then(function(t){e.status=t.dataRows[0].STATUS,e.message=t.dataRows[0].MESSAGE,2===e.status&&(o(),n.success(e.message),r())})}},e.reset=function(){r()},e.to.onRegisterApi=function(t){e.gridApi=t}}]})}e.$inject=["e","t"],angular.module("ep.formly.templates.pagePermissions").run(e),e.$inject=["formlyConfig","$epGenericDataService"]}(),function(){"use strict";function e(e,t,i,n,o,r,a,s,l,c,d,u){var p=u;e.headerMessage=n,e.options=angular.copy(o),e.action=a;var g='{"OBJID" : '+(angular.isUndefined(r)?'""':r)+"}";e.getData=function(){s.getData(o.formState.programName,i,{pi_entity:i,pi_input_xml:JSON.parse(g),pi_uidb_mappingxml:{},pi_action:a,pi_user:o.formState.loginUser}).$promise.then(function(t){t&&t.dataRows&&t.dataRows.length>0?e.user=t.dataRows[0]:console.log("No data received for OBJID "+i.objId)})},e.getFieldData=function(){s.getForm(e.options.formState.programName,i,{params:{isDev:l.isDev},pi_user:o.formState.loginUser}).$promise.then(function(t){t&&("GET"===e.action?e.formFields=d.parseJson(t.ModelForm):"LIST"===e.action&&(e.formFields=d.parseJson(t.MainForm)))})},e.getFieldData(),e.getData(),e.cancel=function(){if(this.popupForm.$dirty){var e=window.confirm("Do you want to discard changes");e===!0&&t.dismiss()}else t.dismiss()},e.options.formState.upsertData=function(t,i){e.upsertData(t,i)},e.options.formState.close=function(t,i){e.close(t,i)},e.upsertData=function(n,r){if(e.popupForm.$valid){var a=[];a=e.fetchUIDBMapping(e.formFields),s.setData(o.formState.programName,i,{pi_entity:i,pi_action:angular.isUndefined(n.OBJID)?"INSERT":"UPDATE",pi_input_xml:n,pi_uidb_mappingxml:a,pi_user:o.formState.loginUser}).$promise.then(function(i){i&&i.dataRows&&i.dataRows.length>0&&(e.status=i.dataRows[0].STATUS,e.message=i.dataRows[0].MESSAGE,e.OBJID=i.dataRows[0].OBJID,e.refresh=!1,0===e.status?(c.success(e.message),e.refresh=!0,e.popupForm.$setPristine(!0),e.popupForm.$setSubmitted(!0),t.close(n)):1===e.status?p.createException(e.message):p.createException(e.message))},function(e){p.createException(e)})}else console.log("invalid form"),e.popupForm.$invalid&&angular.forEach(e.popupForm.$error,function(e){angular.forEach(e,function(e){e.$setTouched()})}),c.warning("Please fill all required fields")},e.close=function(i,n){if(e.popupForm.$dirty){var o=window.confirm("Do you want to discard changes");o===!0&&t.dismiss()}else t.dismiss()},e.fetchUIDBMapping=function(e){var t={};return angular.forEach(e,function(e){angular.isDefined(e)&&angular.isDefined(e.templateOptions)&&angular.isDefined(e.templateOptions.label)&&angular.isDefined(e.key)&&"CREATEDATE"!==e.key&&"CREATOR"!==e.key&&"MODDATE"!==e.key&&"MODIFIER"!==e.key&&(angular.isDefined(e.templateOptions.actualModel)?angular.isDefined(e.templateOptions.actualModelName)?t[e.templateOptions.actualModelName]=e.templateOptions.label:t[e.templateOptions.actualModel]=e.templateOptions.label:angular.isDefined(e.templateOptions.modelNameProperty)?(t[e.templateOptions.modelNameProperty]=e.templateOptions.label,t[e.templateOptions.modelIdProperty]=e.templateOptions.label):t[e.key]=e.templateOptions.label)}),t}}e.$inject=["e","t","o","n","a","r","i","l","s","c","p","d"],angular.module("ep.formly.templates.contextbutton").controller("contextButtonController",e),e.$inject=["$scope","$modalInstance","entity","headerMessage","options","objId","action","$epGenericDataService","epGenSettingsVal","logger","jsonParser","exceptionCreatorService"]}(),function(){"use strict";function e(e,t,i,n,o){function r(t,i,r){angular.isUndefined(t.formState.programName)&&n.createException("Epsilon Select : Please define programName in formState"),angular.isUndefined(t.formState.formName)&&n.createException("Epsilon Select : Please define formName in formState"),
t.$watch("to.initParams",function(e,i){angular.equals(e,i)||t.getOptions()}),t.$watch("to.refresh",function(e){e&&(t.getOptions(),t.to.refresh=!1)}),t.$watch("to.filterText",function(e,i){angular.equals(e,i)||angular.isDefined(e)&&null!==e&&""!==e&&(t.to.options=o("filter")(t.to.orginalOptions,e))}),t.getOptions=function(){if(angular.isDefined(r.searchableinitKey)&&r.searchableinitKey.length>0&&(!t.to.requiresInitParams||angular.isDefined(t.to.initParams))){var i=angular.copy(t.to.initParams);angular.isObject(i)&&(i.pi_user=t.formState.loginUser),e.initData(t.formState.programName,t.formState.formName,r.searchableinitKey,angular.isObject(i)?i:{pi_user:t.formState.loginUser},angular.isObject(t.to.cachingInfo)?t.to.cachingInfo:{}).$promise.then(function(e){t.to.orginalOptions=e,t.to.options=e,angular.isDefined(t.to.filterText)&&null!==t.to.filterText&&""!==t.to.filterText&&(t.to.options=o("filter")(t.to.orginalOptions,t.to.filterText))},function(e){n.createException(e)})}},t.getOptions()}var a={link:r};return a}e.$inject=["e","t","o","n","a"],angular.module("ep.formly.templates.searchableDropdown").directive("searchableinitKey",e),e.$inject=["$epGenericDataService","$parse","$log","exceptionCreatorService","$filter"]}(),function(){"use strict";function e(e){e.setType({name:"ep-searchableDropdown",templateUrl:"app/templates/searchableDropdown/searchableDropdown.html",defaultOptions:{ngModelAttrs:{ngOptions:{attribute:"ng-options"}},templateOptions:{isSelectOptionRequired:!1,ngOptions:"option[to.labelProp || 'name'] group by option[to.groupProp || 'group'] for option in to.options"}},controller:["$scope","$timeout","$parse","$modal",function(e,t,i,n){function o(t,i,o,r,a){var s=n.open({templateUrl:"app/templates/searchableDropdown/contextButtonModal.html",controller:"contextButtonController",controllerAs:"cm",size:"lg md sm",backdrop:"static",keyboard:!1,backdropClass:"modal-backdrop fade in",resolve:{entity:function(){return t},headerMessage:function(){return i},options:function(){return o},objId:function(){return r},action:function(){return a}}});s.result.then(function(t){t.refresh&&(e.to.refresh=t.refresh,angular.isUndefined(t.OBJID)||(e.model[e.to.actualModel]=t.OBJID))},function(e){console.log("modal-component dismissed at: "+new Date)})}angular.isUndefined(e.to.actualModel)||""===e.to.actualModel||(e.$valueProp=e.to.valueProp||"value",e.$actualGetter=i(e.to.actualModel),e.$actualSetter=e.$actualGetter.assign,e.$modelGetter=i(e.options.key),e.$modelSetter=e.$modelGetter.assign,e.$fireWatch=!1,e.epSwitchClick=function(t){e.fc.$setTouched()},e.epSwitchChange=function(){var n=e.$modelGetter(e.model);if(t(angular.isUndefined(n)||null===n||angular.isUndefined(n[e.$valueProp])?function(){angular.isDefined(e.$actualGetter(e.model))&&null!==e.$actualGetter(e.model)&&e.$apply(function(){e.$actualSetter(e.model,void 0),e.to.updateModel&&e.$eval(e.to.updateModel)})}:function(){(angular.isUndefined(e.$actualGetter(e.model))||null===e.$actualGetter(e.model)||(""+e.$actualGetter(e.model)).toLowerCase()!==(""+n[e.$valueProp]).toLowerCase())&&e.$apply(function(){e.$actualSetter(e.model,n[e.$valueProp]),e.to.updateModel&&e.$eval(e.to.updateModel)})}),angular.isDefined(e.to.ngChange)){var o=i(e.to.ngChange)(e);angular.isFunction(o)&&o(n)}},e.$watch("model."+e.to.actualModel,function(i){(e.$fireWatch||!angular.isUndefined(e.to.options)&&0!==e.to.options.length)&&(e.$fireWatch=!0,t(function(){if(void 0!==e.to.options&&e.to.options.length>0){var t;angular.isUndefined(i)||(t=e.to.options[e.to.options.map(function(t){return(""+t[e.$valueProp]).toLowerCase()}).indexOf((""+i).toLowerCase())],angular.isDefined(e.to.actualModelName)&&angular.isDefined(t)&&(e.model[e.to.actualModelName]=t[e.to.labelProp])),e.$modelGetter(e.model)!==t&&e.$modelSetter(e.model,t)}}))},!0)),e.$watch("to.options",function(i){(e.$fireWatch||!angular.isUndefined(i)&&0!==i.length)&&(e.$fireWatch=!0,t(function(){var t,n=[];!angular.isUndefined(e.to.filter)&&angular.isUndefined(e.model[e.to.actualModel])?(angular.isDefined(e.to.filter.value)&&e.to.filter.value.toString().length>0?(e.to.options.map(function(t){return angular.isDefined(t)&&t[e.to.filter.column].toString()===e.to.filter.value.toString()?(n.push(t),t):void 0}),t=n[0]):t=e.to.options[0],angular.isDefined(t)&&(e.model[e.to.actualModel]=t[e.to.valueProp])):void 0!==i&&i.length>0&&(t=e.to.options[e.to.options.map(function(t){return(""+t[e.$valueProp]).toLowerCase()}).indexOf((""+e.$actualGetter(e.model)).toLowerCase())]),e.$modelGetter(e.model)!==t&&e.$modelSetter(e.model,t)}))}),e.openModal=function(){var t=(angular.isUndefined(e.model[e.to.actualModel])?"Add ":"Edit ")+e.to.searchableinitKey;o(e.to.searchableinitKey,t,e.formOptions,e.model[e.to.actualModel],e.to.contextButtonAction)}}],wrapper:["horizontalBootstrapLabel","bootstrapHasError","ngsddlMessages"]}),e.setWrapper({name:"ngsddlMessages",template:"<formly-transclude></formly-transclude><div class=\"{{(to.label !==  undefined && to.label !== null && options.type !== 'ep-checkbox')?'col-sm-offset-4 col-sm-8':'col-sm-8'}}\""+' ng-messages="fc.$error" ng-if="fc.$invalid && fc.$touched"><div class="red" ng-repeat="(name, message) in ::options.validation.messages" ng-message="{{::name}}">{{message(fc.$viewValue, fc.$modelValue, this)}} </div></div>'})}e.$inject=["e"],angular.module("ep.formly.templates.searchableDropdown").run(e),e.$inject=["formlyConfig"]}(),function(){angular.module("ep.formly.templates.picklist").directive("pickList",function(){return{restrict:"E",replace:!0,transclude:!1,require:"ngModel",scope:{options:"=",ngModel:"=",ngDisabled:"=",required:"@",nameAttr:"@",valueAttr:"@",ngChange:"&",moveLeft:"@",moveRight:"@"},templateUrl:"app/templates/picklist/picklist.directive.html",link:function(e,t,i,n){e.$watchCollection("options",function(){e.applyTranformations()}),e.$watchCollection("ngModel",function(t,i){e.applyTranformations(),(angular.isUndefined(t)||0===t.length)&&e.required?n.$setValidity("required",!1):n.$setValidity("required",!0)}),e.$watch("ngDisabled",function(){e.removeHighlights()})},controller:["$scope","$document","$log","$filter","$timeout",function(e,t,i,n,o){function r(e,t){for(var i=0;i<e.length;i++){if(!angular.isString(t)&&angular.equals(e[i],t))return i;if(angular.isString(t)&&e[i].toLowerCase()===t.toLowerCase())return i}return-1}e.upDisabled=!0,e.downDisabled=!0,e.applyTranformations=function(){e.setSelectedOptions()},e.setSelectedOptions=function(){if(angular.isArray(e.options)&&0!==e.options.length){if(angular.isUndefined(e.ngModel))return void angular.forEach(e.options,function(e){e.$$selected=!1});for(var t=0;t<e.options.length;t++){var i=r(e.ngModel,angular.isUndefined(e.$parent.to.valueProp)?e.options[t]:e.options[t][e.$parent.to.valueProp]);angular.isUndefined(e.ngModel)||-1===i?e.options[t].$$selected=!1:(e.options[t].$$selected=!0,e.options[t].$$sortOrder=i),angular.isUndefined(e.options[t].$$highlight)&&(e.options[t].$$highlight=!1)}}},e.removeHighlights=function(){if(!angular.isUndefined(e.options))for(var t=0;t<e.options.length;t++)e.options[t].$$highlight=!1},e.highlight=function(t,i){if(i.stopPropagation(),!e.ngDisabled){if(!i.ctrlKey&&!i.metaKey)for(var o=n("filter")(e.options,{$$selected:t.$$selected,$$highlight:!0}),r=0;r<o.length;r++)o[r].$$highlight=!1;t.$$highlight=!0}},e.toggleSelect=function(t,i,a){if(!e.ngDisabled){!angular.isUndefined(e.ngModel)&&angular.isArray(e.ngModel)||(e.ngModel=[]),angular.isUndefined(i)||e.highlight(i,a);var s=n("filter")(e.options,{$$selected:!t,$$highlight:!0});if(s.length>0){for(var l=0;l<s.length;l++){var c=s[l];if(angular.isUndefined(e.$parent.to.valueProp)||(c=c[e.$parent.to.valueProp]),t)e.ngModel.push(c);else{var d=r(e.ngModel,c);e.ngModel.splice(d,1)}}e.removeHighlights(),o(function(){e.ngChange()})}}}}]}})}(),function(){"use strict";angular.module("ep.formly.templates.picklist").run(["formlyConfig",function(e){e.setType({name:"ep-picklist",templateUrl:"app/templates/picklist/picklist.html",defaultOptions:{templateOptions:{moveLeft:'<i class="fa fa-arrow-left"></i>',moveRight:'<i class="fa fa-arrow-right"></i>'}},wrapper:["horizontalBootstrapLabel","bootstrapHasError"]})}])}(),function(){"use strict";angular.module("ep.formly.templates.radio").run(["formlyConfig",function(e){e.setType({name:"ep-radio",templateUrl:"app/templates/radio/radio.html","extends":"radio",defaultOptions:{templateOptions:{options:[{name:"Yes",value:"Yes"},{name:"No",value:"No"}]}},wrapper:["horizontalBootstrapLabel","bootstrapHasError","ngMessageRadiobox"]}),e.setWrapper({name:"ngMessageRadiobox",template:'<formly-transclude></formly-transclude><div class=" col-sm-12" ng-messages="fc.$error" ng-if="fc.$touched &&  fc.$invalid"><div class="red radio-inline" ng-repeat="(name, message) in ::options.validation.messages"  ng-message="{{::name}}">{{ message(fc.$viewValue, fc.$modelValue, this)}} </div></div>'})}])}(),function(){"use strict";function e(e){var t;e.setType({name:"ep-repeat",templateUrl:"app/templates/repeat/repeat.html",controller:["$scope","$parse",function(e,i){function n(e){return e=angular.copy(e),o(e),e}function o(e){t++,angular.forEach(e,function(e,i){return e.fieldGroup?void o(e.fieldGroup):(e.templateOptions&&e.templateOptions.fields&&o(e.templateOptions.fields),void(e.id=e.id||e.key+"_"+i+"_"+t+r(0,9999)))})}function r(e,t){return Math.floor(Math.random()*(t-e))+e}e.copyFields=n,i(e.options.key),e.$watch("model."+e.options.key,function(t){e.repeaterArray=t})}],wrapper:["horizontalBootstrapLabel","bootstrapHasError"]})}e.$inject=["e"],angular.module("ep.formly.templates.repeat").run(e),e.$inject=["formlyConfig"]}(),function(){"use strict";function e(e,t,i){function n(t,n,o){angular.isUndefined(t.formState.programName)&&i.error("Epsilon Select : Please define programName in formState"),angular.isUndefined(t.formState.formName)&&i.error("Epsilon Select : Please define formName in formState"),t.$watch("to.initParams",function(e,i){angular.equals(e,i)||t.getOptions()}),t.getOptions=function(){angular.isDefined(o.initKey)&&o.initKey.length>0&&(!t.to.requiresInitParams||angular.isDefined(t.to.initParams))&&e.initData(t.formState.programName,t.formState.formName,o.initKey,angular.isObject(t.to.initParams)?t.to.initParams:{},angular.isObject(t.to.cachingInfo)?t.to.cachingInfo:{}).$promise.then(function(e){t.to.options=e})},t.getOptions()}var o={link:n};return o}e.$inject=["e","t","o"],angular.module("ep.formly.templates.select").directive("initKey",e),e.$inject=["$epGenericDataService","$parse","$log"]}(),function(){"use strict";function e(e){e.setType({name:"ep-select",templateUrl:"app/templates/select/select.html",defaultOptions:{ngModelAttrs:{ngOptions:{attribute:"ng-options"}},templateOptions:{ngOptions:"option[to.labelProp || 'name'] group by option[to.groupProp || 'group'] for option in to.options"}},controller:["$scope","$timeout","$parse",function(e,t,i){angular.isUndefined(e.to.actualModel)||""===e.to.actualModel||(e.$valueProp=e.to.valueProp||"value",e.$actualGetter=i(e.to.actualModel),e.$actualSetter=e.$actualGetter.assign,e.$modelGetter=i(e.options.key),e.$modelSetter=e.$modelGetter.assign,e.$fireWatch=!1,e.epSelectChange=function(){var n=e.$modelGetter(e.model);if(t(angular.isUndefined(n)||null===n||angular.isUndefined(n[e.$valueProp])?function(){angular.isDefined(e.$actualGetter(e.model))&&null!==e.$actualGetter(e.model)&&e.$apply(function(){e.$actualSetter(e.model,void 0)})}:function(){(angular.isUndefined(e.$actualGetter(e.model))||null===e.$actualGetter(e.model)||(""+e.$actualGetter(e.model)).toLowerCase()!==(""+n[e.$valueProp]).toLowerCase())&&e.$apply(function(){e.$actualSetter(e.model,n[e.$valueProp])})}),angular.isDefined(e.to.ngChange)){var o=i(e.to.ngChange)(e);angular.isFunction(o)&&o(n)}},e.$watch("model."+e.to.actualModel,function(i){(e.$fireWatch||!angular.isUndefined(e.to.options)&&0!==e.to.options.length)&&(e.$fireWatch=!0,t(function(){if(void 0!==e.to.options&&e.to.options.length>0){var t;angular.isUndefined(i)||(t=e.to.options[e.to.options.map(function(t){return(""+t[e.$valueProp]).toLowerCase()}).indexOf((""+i).toLowerCase())]),e.$modelGetter(e.model)!==t&&e.$modelSetter(e.model,t)}}))},!0)),e.$watch("to.options",function(i){(e.$fireWatch||!angular.isUndefined(i)&&0!==i.length)&&(e.$fireWatch=!0,t(function(){var t;void 0!==i&&i.length>0&&(t=e.to.options[e.to.options.map(function(t){return(""+t[e.$valueProp]).toLowerCase()}).indexOf((""+e.$actualGetter(e.model)).toLowerCase())],angular.isUndefined(t)&&e.to.required&&(t=i[0],e.$actualSetter(e.model,t[e.$valueProp]))),e.$modelGetter(e.model)!==t&&e.$modelSetter(e.model,t)}))})}],wrapper:["horizontalBootstrapLabel","bootstrapHasError"]})}e.$inject=["e"],angular.module("ep.formly.templates.select").run(e),e.$inject=["formlyConfig"]}(),function(){"use strict";function e(e,t,i){function n(i,n,o,r){r.actualGetter=t(o.actualModel),r.actualSetter=r.actualGetter.assign,r.modelGetter=t(i.options.key),r.modelSetter=r.modelGetter.assign,r.fireWatch=!1,angular.isUndefined(o.ngModel)||""===o.ngModel||i.$watch(o.ngModel,function(t){r.fireWatch&&e(angular.isUndefined(t)||null===t||angular.isUndefined(t[o.valueProp])?function(){angular.isDefined(r.actualGetter(i.model))&&null!==r.actualGetter(i.model)&&i.$apply(function(){r.actualSetter(i.model,void 0)})}:function(){(angular.isUndefined(r.actualGetter(i.model))||null===r.actualGetter(i.model)||(""+r.actualGetter(i.model)).toLowerCase()!==(""+t[o.valueProp]).toLowerCase())&&i.$apply(function(){r.actualSetter(i.model,t[o.valueProp])})})}),angular.isUndefined(o.actualModel)||""===o.actualModel||i.$watch("model."+o.actualModel,function(t){(r.fireWatch||!angular.isUndefined(i.to.options)&&0!==i.to.options.length)&&(r.fireWatch=!0,e(function(){if(void 0!==i.to.options&&i.to.options.length>0){var e;angular.isUndefined(t)||(e=i.to.options[i.to.options.map(function(e){return(""+e[o.valueProp]).toLowerCase()}).indexOf((""+t).toLowerCase())]),r.modelGetter(i.model)!==e&&r.modelSetter(i.model,e)}}))},!0),i.$watch("to.options",function(t){(r.fireWatch||!angular.isUndefined(t)&&0!==t.length)&&(r.fireWatch=!0,e(function(){var e;void 0!==t&&t.length>0&&(e=i.to.options[i.to.options.map(function(e){return(""+e[o.valueProp]).toLowerCase()}).indexOf((""+r.actualGetter(i.model)).toLowerCase())],angular.isUndefined(e)&&i.to.required&&(e=t[0])),r.modelGetter(i.model)!==e&&r.modelSetter(i.model,e)}))})}var o={replace:!0,restrict:"A",require:"ngModel",link:n};return o}e.$inject=["e","t","o"],angular.module("ep.formly.templates.select").directive("actualModel",e),e.$inject=["$timeout","$parse","$filter"]}(),function(){"use strict";angular.module("ep.formly.templates.epswitch").run(["formlyConfig",function(e){e.setType({name:"ep-switch",templateUrl:"app/templates/switch/switch.html",defaultOptions:{ngModelAttrs:{ngFalseValue:{attribute:"ng-false-value"},ngTrueValue:{attribute:"ng-true-value"}},templateOptions:{ngFalseValue:!1,ngTrueValue:!0}},controller:["$scope","$timeout","$parse",function(e,t,i){var n=e.options.key;angular.isUndefined(e.model[e.options.key])||null===e.model[e.options.key]||e.model[e.options.key].toString()!==e.to.ngTrueValue.toString()?(e.actualSwitchModel=!1,(angular.isUndefined(e.model[e.options.key])||null===e.model[e.options.key])&&(e.model[e.options.key]=e.to.ngFalseValue)):e.actualSwitchModel=!0,e.epSwitchChange=function(t){e.actualSwitchModel?e.model[e.options.key]=e.to.ngTrueValue:e.model[e.options.key]=e.to.ngFalseValue},e.$watch("model."+e.options.key,function(t,i){angular.equals(t,i)||(angular.isUndefined(e.model)||angular.isUndefined(e.model[n])||null===e.model[n]||e.model[n].toString()!==e.to.ngTrueValue.toString()?e.actualSwitchModel=!1:e.actualSwitchModel=!0)})}],wrapper:["horizontalBootstrapLabel","bootstrapHasError"]})}])}(),function(){"use strict";angular.module("ep.formly.templates.check").run(["formlyConfig",function(e){e.setType({name:"ep-checkbox",templateUrl:"app/templates/check/check.html","extends":"checkbox",defaultOptions:{ngModelAttrs:{ngFalseValue:{attribute:"ng-false-value"},ngTrueValue:{attribute:"ng-true-value"}},templateOptions:{ngFalseValue:"'No'",ngTrueValue:"'Yes'",label:""}},wrapper:["horizontalBootstrapLabel","bootstrapHasError","ngMessageCheckbox"]}),e.setWrapper({name:"ngMessageCheckbox",template:'<formly-transclude></formly-transclude><div class=" col-sm-12" ng-messages="fc.$error" ng-if="fc.$touched &&  fc.$invalid"><div class="red radio-inline" ng-repeat="(name, message) in ::options.validation.messages"  ng-message="{{::name}}">{{ message(fc.$viewValue, fc.$modelValue, this)}} </div></div>'})}])}(),function(){"use strict";function e(e){function t(e,t,i,n,o,r){function a(){t.setTabs()}t.setTabs=function(){t.tabHide=t.to.isAdd,t.tabs=[];for(var e=0;e<t.to.tabs.length;e++){var i=t.to.tabs[e].childFKColumn?t.model[t.to.tabs[e].childFKColumn]:t.model.OBJID;t.tabs.push({heading:t.to.tabs[e].heading,formName:t.to.tabs[e].formName,programName:t.to.tabs[e].programName,childFKName:t.to.tabs[e].childFKName,childFKObjid:i,options:{formState:{programName:t.to.tabs[e].programName,formName:t.to.tabs[e].formName,childFKName:t.to.tabs[e].childFKName,childFKObjid:i,parentModel:t.to.tabs[e].parentModel,loginUser:t.formState.loginUser}},index:e})}},t.updateTabs=function(){t.tabHide=t.to.isAdd;for(var e=0;e<t.to.tabs.length;e++)t.tabs[e].heading=t.tabs[e].options.formState.heading=t.to.tabs[e].heading,t.tabs[e].formName=t.tabs[e].options.formState.formName=t.to.tabs[e].formName,t.tabs[e].programName=t.tabs[e].options.formState.programName=t.to.tabs[e].programName,t.tabs[e].childFKName=t.tabs[e].options.formState.childFKName=t.to.tabs[e].childFKName,t.tabs[e].childFKObjid=t.tabs[e].options.formState.childFKObjid=t.to.tabs[e].childFKObjid||(t.to.tabs[e].childFKColumn?t.model[t.to.tabs[e].childFKColumn]:t.model.OBJID),t.tabs[e].options.formState.parentModel=t.to.tabs[e].parentModel},t.getinitialData=function(){null!=t.model.OBJID&&(n.getData(t.tabs[0].programName,t.tabs[0].formName,{pi_entity:t.tabs[0].formName,pi_input_xml:{childFKName:t.tabs[0].childFKName,childFKObjid:t.tabs[0].childFKObjid},pi_uidb_mappingxml:{},pi_action:"LIST",pi_user:t.tabs[0].options.formState.loginUser}).$promise.then(function(e){null!=e.dataRows&&""!==e.dataRows&&(t.tabs[0].model.formData=e.dataRows)}),n.getForm(t.tabs[0].programName,t.tabs[0].formName,{params:{isDev:o.isDev},pi_user:t.tabs[0].options.formState.loginUser}).$promise.then(function(e){e&&(t.tabs[0].fields=r.parseJson(e.MainForm))}))},t.$watch("model.OBJID",function(e){angular.isUndefined(e)||""===e?(t.to.isAdd=!0,t.updateTabs()):(t.to.isAdd=!1,t.updateTabs(),t.getinitialData())},!0),t.$watch("to.tabs",function(e){angular.isUndefined(e)||""===e||t.updateTabs()},!0),t.select=function(e,i){null!=i.childFKObjid&&i.active===!0&&(n.getData(i.programName,i.formName,{pi_entity:i.formName,pi_input_xml:{childFKName:i.childFKName,childFKObjid:i.childFKObjid},pi_uidb_mappingxml:{},pi_action:"LIST",pi_user:i.options.formState.loginUser}).$promise.then(function(e){null!=e.dataRows&&""!==e.dataRows&&(t.tabs[i.index].model.formData=e.dataRows)}),n.getForm(i.programName,i.formName,{params:{isDev:o.isDev},pi_user:i.options.formState.loginUser}).$promise.then(function(e){e&&(i.fields=r.parseJson(e.MainForm))}))},a()}t.$inject=["$rootScope","$scope","$http","$epGenericDataService","epGenSettingsVal","jsonParser"],e.setType({name:"bootstrap-tabstrip",templateUrl:"app/templates/tabsStrip/tabsStrip.html",link:function(e,t,i){},controller:t})}e.$inject=["e"],angular.module("ep.formly.templates.tabsStrip").run(e),e.$inject=["formlyConfig"]}(),function(){"use strict";function e(e,t,i){function n(e,t,i,n){var o=i.formatNumber;""!==o.trim()&&n.$formatters.push(function(e){if(angular.isDefined(e)){var t=i.formatNumber;if(""!==t.trim()){var n=parseInt(i.formatNumber),o=parseFloat(Math.round(100*e)/100).toFixed(n);return o}}})}var o={require:"ngModel",link:n};return o}e.$inject=["e","t","o"],angular.module("ep.formly.templates.textbox").directive("formatNumber",e),e.$inject=["$epGenericDataService","$parse","$log"]}(),function(){"use strict";var e=[{name:"phone",pattern:"^[0-9]{3}-[0-9]{3}-[0-9]{4}$",placeholder:"xxx-xxx-xxxx",validationMsg:"Invalid Phone Number. Expected Format : xxx-xxx-xxxx"},{name:"zip",pattern:"^[0-9]{5}(?:[-s][0-9]{4})?$",placeholder:"xxxxx-xxxx",validationMsg:"Invalid Zip. Expected Format : xxxxx-xxxx"},{name:"email",pattern:"^\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$",placeholder:"username@domain.com",validationMsg:"Invalid Email Address"},{name:"ip-address",pattern:"^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$",placeholder:"255.255.255.255",validationMsg:"Invalid IP-Adress"},{name:"integer",pattern:"^[0-9]*$",validationMsg:"Invalid Number"},{name:"url",pattern:"^https?://",placeholder:"http(s)://",validationMsg:"Invalid URL"},{name:"price",pattern:"^\\d+(.\\d{1,2})?$",placeholder:"",validationMsg:"Invalid Price. Expected Format xx.xx"}],t={missingRegex:'ep-text: please specify "regex" in template options when "validator" equals custom.',missingValidators:"Could not find the following validators in the list: "},i={defaultValidators:e,errorMessage:t};angular.module("ep.formly.templates.textbox").constant("templateConfig",i)}(),function(){"use strict";angular.module("ep.formly.templates.textbox").run(["formlyConfig",function(e){e.setType({name:"ep-text",templateUrl:"app/templates/textbox/textbox.html","extends":"input",controller:["$scope","$timeout","$log","$filter","templateConfig",function(e,t,i,n,o){function r(t){angular.isUndefined(e.to.validationMsg)&&angular.isUndefined(e.options.validation.messages.pattern)&&(e.to.validationMsg=t)}function a(){var t,a=n("filter")(o.defaultValidators,{name:e.to.validator.toLowerCase()},!0);return"custom"===e.to.validator.toLowerCase()?(angular.isUndefined(e.to.regex)&&i.error(o.errorMessage.missingRegex),t=e.to.regex):angular.isUndefined(a)||null==a||0===a.length?(i.error(o.errorMessage.missingValidators+e.to.validator),i.error(o.defaultValidators)):(t=a[0].pattern,e.to.placeholder=e.to.placeholder||a[0].placeholder,r(a[0].validationMsg)),t}function s(t){var i=e.$watch("fc",function(n,o){angular.isDefined(e.fc)&&angular.isUndefined(e.fc.$validators.pattern)&&(e.fc.$validators.pattern=function(e,i){var n=e||i;return!(angular.isDefined(n)&&null!=n&&n.length>0)||new RegExp(t).test(n)},e.fc.$validate(),i())})}function l(){var t;angular.isDefined(e.to.validator)&&(t=a()),angular.isDefined(t)&&s(t)}l()}],wrapper:["horizontalBootstrapLabel","bootstrapHasError","ngMessages"]})}])}(),function(){"use strict";angular.module("ep.formly.templates.wordCheck").service("scanner",function(){return function(e,t,i){var n=e.$modelValue;if(t.isNotgentle=!1,n&&"string"==typeof n){for(var o=[],r=n.toLowerCase(),a=0;a<i.length;a++){var s=i[a].toLowerCase(),l=new RegExp("\\b"+s+"\\b");r.match(l)&&-1===o.indexOf(i[a])&&(o.push(i[a]),t.isNotgentle=!0)}return e.$setValidity("profane",!t.isNotgentle),t.badwords=o.join(),!0}e.$setValidity("profane",!t.isNotgentle)}}).directive("wordCheckAttr",["scanner","swearWordsValue","$compile","epGenSettingsVal",function(e,t,i,n){return{restrict:"A",require:"ngModel",link:function(o,r,a,s){if(!angular.isUndefined(n.wordcheck)&&!(n.wordcheck===!1||angular.isDefined(o.to.wordcheck)&&o.to.wordcheck===!1)){var l=t,c=n.wordchecklist;angular.isDefined(c)&&c.length>0&&angular.isArray(c)&&(l=c);var d=angular.element('<pre ng-show="isNotgentle" style="margin: 5px 0;"><code>Words: <span class="red">{{ badwords }}</span></code></pre>');angular.isUndefined(o.options.validation.messages.profane)&&(d=angular.element('<div ng-show="isNotgentle"><pre style="margin: 5px 0;"><code>Words: <span class="red">{{ badwords }}</span></code></pre><span class="red">Profanity detected in communication content. Please revise before continuing.</span></div>')),o.$watch(a.ngModel,function(){e(s,o,l)}),i(d)(o),r.parent(0).append(d)}}}}])}(),function(){"use strict";angular.module("ep.formly.templates.textarea").directive("autosize",["$timeout",function(e){return{link:function(t,i,n){void 0!==window.autosize&&"true"===n.autosize&&(autosize(i),e(function(){autosize.update(i)}))}}}])}(),function(){"use strict";angular.module("ep.formly.templates.textarea").run(["formlyConfig",function(e){e.setType({name:"ep-textarea",templateUrl:"app/templates/textarea/textarea.html","extends":"textarea",defaultOptions:{templateOptions:{autosize:!0,rows:3}},wrapper:["horizontalBootstrapLabel","bootstrapHasError","ngMessages"]})}])}(),function(){"use strict";function e(e){function t(e){return e=e.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),e.replace(/^([A-Z])/,function(e,t){return t?t.toLowerCase():""})}var i=["date-disabled","custom-class","show-weeks","starting-day","init-date","min-mode","max-mode","format-day","format-month","format-year","format-day-header","format-day-title","format-month-title","year-range","shortcut-propagation","datepicker-popup","show-button-bar","current-text","clear-text","close-text","close-on-date-selection","datepicker-append-to-body","required","readonly-input"],n=["datepicker-mode","min-date","max-date","enable-mindate","show-validationsummary","month-length","month-style","enable-previous-month-validation"],o={};angular.forEach(i,function(e){o[t(e)]={attribute:e}}),angular.forEach(n,function(e){o[t(e)]={bound:e}});var r=[{id:1,name:"UPPER CASE"},{id:2,name:"lower case"},{id:3,name:"Title Case"}];e.setType({name:"ep-calendarEnrollDates",templateUrl:"app/templates/calendarEnrollDates/calendarEnrollDates.html",wrapper:["horizontalBootstrapLabel","bootstrapHasError"],defaultOptions:{ngModelAttrs:o,templateOptions:{datepickerOptions:{format:"MM/dd/yyyy",initDate:new Date,enableMindate:!1,monthLength:-1,monthStyle:r[2].id,formatDayTitle:"MMMM",maxMode:"day"},showValidationsummary:!1,required:!1,readonlyInput:!1,enablePreviousMonthValidation:!1}},controller:["$scope","$timeout","$parse","logger","$filter","dateParser",function(e,t,i,n,o,r){function a(t,i,n){var o="PARAM_NAME",r=g(e.model[m],o,i);if(g(e.model[m],o,n),null!==r){var a=new Date(e.model[m][r].PARAM_VALUE),l=(new Date).getFullYear();e.model[m][r].PARAM_VALUE=new Date(a.setFullYear(l)),e.model[m][r].MONTH=s(t,b,v),p(e.model[m][r])}}function s(e,t,i){var n=e;switch(e=-1===i?e:e.slice(0,i),t){case 1:n=e.toUpperCase();break;case 2:n=e.toLowerCase();break;default:n=e}return n}function l(t,i){delete e.form[t].$error[i],e.form[t].$setValidity(i,!0),e.form[t].$setTouched()}function c(t,i,o){e.form[t].$error[i]||e.form[t].$setValidity(i,!1),e.form[t].$setDirty(!0),e.form[t].$error[i]=o,e.form[t].$setTouched(),n.warning(o)}function d(e,t,i,n,o,r){if(i){if(p(t),l(t.PARAM_NAME,o),"group"===n){var a="OPEN"===e?"CLOSE":"OPEN";l(t.PARAM_NAME.replace(e,a),o.replace(e,a))}}else c(t.PARAM_NAME,o,r)}function u(e,t){return t.getMonth()===e}function p(t){if(e.to.datepickerOptions.enableMindate){var i=e.model[m].indexOf(t),n=angular.copy(new Date(t.PARAM_VALUE));11===n.getMonth()&&23!==i&&0!==i&&(n=new Date(n.setYear(n.getFullYear()-1))),23!==i?e.model[m][i+1].MINDATE=n:e.model[m][0].MINDATE=n}}function g(e,t,i){for(var n=0;n<e.length;n++)if(null!==t&&""!==t){if(e[n][t]===i)return n}else if(s(e[n],b,v).toUpperCase()===i.toUpperCase())return n;return null}var f=[],m=e.options.key;e.$watch("options.templateOptions.showValidationsummary",function(){var t=e.options.templateOptions.showValidationsummary;e.showValidationsummary=!!angular.isDefined(t)&&t});var h=["January","February","March","April","May","June","July","August","September","October","November","December"],v=e.to.datepickerOptions.monthLength,b=e.to.datepickerOptions.monthStyle;f.push(e.$watch(function(e){return e.model[m]},function(e){e&&(h[11].toUpperCase().slice(0,3)+"_OPEN",angular.forEach(h,function(e,t){0===t?(a(e,e.toUpperCase().slice(0,3)+"_OPEN",h[11].toUpperCase().slice(0,3)+"_CLOSE"),a(e,e.toUpperCase().slice(0,3)+"_CLOSE",h[t].toUpperCase().slice(0,3)+"_OPEN")):(a(e,e.toUpperCase().slice(0,3)+"_OPEN",h[t-1].toUpperCase().slice(0,3)+"_CLOSE"),a(e,e.toUpperCase().slice(0,3)+"_CLOSE",h[t].toUpperCase().slice(0,3)+"_OPEN"))}))})),e.datepicker={},e.datepicker.opened=!1,e.datepicker.open=function(t,i){void 0!==e.form[i].options&&""!==e.form[i].options||(e.form[i].options={datepickerOpened:!1}),e.form[i].options.datepickerOpened=!e.form[i].options.datepickerOpened},e.update=function(e,t,i){var n="";if(e.PARAM_VALUE){e.PARAM_VALUE.setYear((new Date).getFullYear()),l(e.PARAM_NAME,"required");var o=i.PARAM_VALUE.getMonth()-t.PARAM_VALUE.getMonth()<-10,r=new Date(t.PARAM_VALUE)<new Date(i.PARAM_VALUE)||o,a=0===g(h,"",e.MONTH)?11:g(h,"",e.MONTH)-1;e.PARAM_NAME.indexOf("OPEN")>-1?(n=e.MONTH+" Open date must be before close date.",d("OPEN",e,r,"group",e.PARAM_NAME,n),this.to.enablePreviousMonthValidation&&(n="Select "+e.MONTH+" open date in previous month.",d("OPEN",e,u(a,new Date(t.PARAM_VALUE)),"individual","selectprevious",n))):(n=e.MONTH+" Close date must be after open date.",d("CLOSE",e,r,"group",e.PARAM_NAME,n),this.to.enablePreviousMonthValidation&&(n="Select "+e.MONTH+" close date in previous month.",d("CLOSE",e,u(a,new Date(i.PARAM_VALUE)),"individual","selectprevious",n)))}else this.to.required&&(e.PARAM_NAME.indexOf("OPEN")>-1?(n="Select valid "+e.MONTH+" open date.",c(e.PARAM_NAME,"required",n)):(n="Select valid "+e.MONTH+" close date.",c(e.PARAM_NAME,"required",n)))},e.$on("$destroy",function(){for(;f.length;)f.shift()()})}]})}e.$inject=["e"],angular.module("ep.formly.templates.calendarEnrollDates").run(e),e.$inject=["formlyConfig"]}(),function(){"use strict";function e(e,t,i){function n(n,o,r){i.get("$epGenericDataService"),t.error(n,r),e.error("Error: "+n,o)}function o(i,n,o){t.info(i,o),e.info("Info: "+i,n)}function r(i,n,o){t.success(i,o),e.info("Success: "+i,n)}function a(i,n,o){t.warning(i,o),e.warn("Warning: "+i,n)}var s={showToasts:!0,error:n,info:o,success:r,warning:a,log:e.log};return s}e.$inject=["e","t","o"],angular.module("blocks.logger").factory("logger",e),e.$inject=["$log","toastr","$injector"]}(),function(){"use strict";function e(e,t,i){function n(e,n,r,a){function s(e,n){e.forEach(function(e){e.config.resolve=angular.extend(e.config.resolve||{},o.resolveAlways),t.state(e.state,e.config)}),n&&!g&&(g=!0,i.otherwise(n))}function l(){n.$on("$stateChangeError",function(t,i,n,o,r,s){function l(e){var t=i&&(i.title||i.name||i.loadedTemplateUrl)||"unknown target";return"Error routing to "+t+". "+e.message||e.data||". <br/>"+(e.statusText||"")+": "+(e.status||"")}if(!p){f.errors++,p=!0;var c=l(s);a.warning(c,[i]),e.path("/")}})}function c(){l(),u()}function d(){return r.get()}function u(){n.$on("$stateChangeSuccess",function(e,t,i,r,a){f.changes++,p=!1;var s=o.docTitle+" "+(t.title||"");n.title=s})}var p=!1,g=!1,f={errors:0,changes:0},m={configureStates:s,getStates:d,stateCounts:f};return c(),m}n.$inject=["e","n","r","i"];var o={docTitle:void 0,resolveAlways:{}};e.html5Mode(!0),this.configure=function(e){angular.extend(o,e)},this.$get=n,n.$inject=["$location","$rootScope","$state","logger"]}e.$inject=["e","t","o"],angular.module("blocks.router").provider("routerHelper",e),e.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){e.decorator("$exceptionHandler",o)}function t(){this.config={appErrorPrefix:void 0},this.configure=function(e){this.config.appErrorPrefix=e},this.$get=function(){return{config:this.config}}}function i(e,t,i){function n(n,o,r){i.get("$epGenericDataService"),t.error(n,r),e.error("Error: "+n,o)}function o(i,n,o){t.info(i,o),e.info("Info: "+i,n)}function r(i,n,o){t.success(i,o),e.info("Success: "+i,n)}function a(i,n,o){t.warning(i,o),e.warn("Warning: "+i,n)}var s={showToasts:!0,error:n,info:o,success:r,warning:a,log:e.log};return s}function n(e){function t(t){return function(i){e.error(t,i)}}var i={catcher:t};return i}function o(e,t,i,n){return function(n,o){var r=t.config.appErrorPrefix||"",a={
exception:n,cause:o};n.message=r+n.message,e(n,o),i.error(n.message,a)}}function r(e){function t(e){if(e.data)throw new Error(e.data);if(e.statusText)throw new Error(e.statusText);if("string"==typeof e)throw new Error(e)}return{createException:t}}e.$inject=["e"],i.$inject=["e","t","o"],n.$inject=["e"],r.$inject=["e"];var a=angular.module("epExceptionLogger",[]);a.config(e),e.$inject=["$provide"],a.provider("exceptionHandler",t),a.factory("logger",i),i.$inject=["$log","toastr","$injector"],a.factory("exception",n),n.$inject=["logger"],o.$inject=["$delegate","exceptionHandler","logger","$injector"],a.service("exceptionCreatorService",r),r.$inject=["logger"]}(),function(){"use strict";function e(e){function t(e,t){this.name="EpError",this.message="",this.stack=(new Error).stack,this.user=t.user||"",e.data?this.message=e.data:e.statusText?this.message=e.statusText:"string"==typeof e&&(this.message=e)}function i(e,i){throw i?new t(e,i):new t(e,{user:"no user data passed from the form - please check form controller"})}return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,{createException:i}}e.$inject=["e"],angular.module("blocks.exception").service("exceptionCreatorService",e),e.$inject=["logger"]}(),function(){"use strict";function e(){this.config={appErrorPrefix:void 0},this.configure=function(e){this.config.appErrorPrefix=e},this.$get=function(){return{config:this.config}}}function t(e){e.decorator("$exceptionHandler",i)}function i(e,t,i,n){return function(n,o){var r=t.config.appErrorPrefix||"",a={exception:n,cause:o};n.message=r+n.message,e(n,o),i.error(n.message,a)}}t.$inject=["e"],angular.module("blocks.exception").provider("exceptionHandler",e).config(t),t.$inject=["$provide"],i.$inject=["$delegate","exceptionHandler","logger","$injector"]}(),function(){"use strict";function e(e){function t(t){return function(i){e.error(t,i)}}var i={catcher:t};return i}e.$inject=["e"],angular.module("blocks.exception").factory("exception",e),e.$inject=["logger"]}(),function(){"use strict";function e(e){e.setWrapper([{name:"horizontalBootstrapLabel",templateUrl:"app/templates/wrappers/horizontal.wrapper.html"}])}e.$inject=["e"],angular.module("ep.formly.templates.wrappers").run(e),e.$inject=["formlyConfig"]}(),angular.module("ep.formly.templates").run(["$templateCache",function(e){e.put("app/templates/autocompleteList/autocompleteList.html",'<!-- show-print section is needed when printing the dropdown value -->\r\n<input class="form-control" ng-model="model[options.key]" options="to.options" init-key="{{to.initKey}}" ng-disabled="formState.readOnly||to.disabled" title="{{to.title}}" maxlength="{{to.maxLength}}" word-check-attr>'),e.put("app/templates/checklist/checklist.html",'<div class="radio-group">\r\n  <div ng-repeat="(key, option) in to.options" class="{{ to.directionclass ? to.directionclass:\'checkbox\' }}">\r\n    <label>\r\n      <input type="checkbox" id="{{id + \'_\'+ $index}}" ng-model="multiCheckbox.checked[$index]" ng-change="setModel()" ng-click="to.onclick()" ng-disabled="formState.readOnly || to.disabled || option.disabled">\r\n      {{option[to.labelProp || \'name\']}}\r\n    </label>\r\n  </div>\r\n</div>'),e.put("app/templates/ckeditor/ckeditor.html",'<textarea word-check-attr ckeditor="{{to.ckeditor}}" class="form-control" name="{{ options.key + \' default_name\' || to.name}}" ng-model="model[options.key]" title="{{to.title}}" placeholder="{{to.placeholder}}" ng-disabled="formState.readOnly||to.disabled"></textarea>'),e.put("app/templates/collapseExpand/collapseExpand.html",'<div ng-class="to.divClass">\r\n    <button type="{{::to.type}}" class="btn btn-{{::to.btnType}}" ng-click="onClick($event)" ng-disabled="to.disabled" ng-if="!to.printButton" title="{{to.title}}">\r\n            <span ng-bind-html="to.collapseText" ng-if="!formOptions.formState[to.propertyName]"></span>\r\n            <span ng-bind-html="to.expandText" ng-if="formOptions.formState[to.propertyName]"></span>\r\n    </button>\r\n</div>'),e.put("app/templates/contextbutton/contextButtonModal.html",'<div>\r\n    <div class="modal-header">\r\n        <button type="button" class="close" ng-click="cancel()">&times;</button>\r\n        <h4 class="modal-title" ng-bind-html="headerMessage"></h4>\r\n    </div>\r\n</div>\r\n<div class="modal-body">\r\n     <div class="page-content container-fluid">\r\n          <formly-form model="modalData" fields="formFields" form="popupForm" options="options">\r\n            </formly-form>\r\n     </div>\r\n</div>'),e.put("app/templates/contextbutton/contextbutton.html",'<button type="button" class="btn btn-sm btn-primary" ng-click="openModal(this)"><div ng-bind-html="to.buttonText"></div></button>'),e.put("app/templates/editableselect/editableselect.html",'<style>\r\n    input[name="editable-select"]:disabled {\r\n        background-color: #ffffff !important;\r\n    }\r\n\r\n    .dropdown-menu {\r\n        width: 100%;\r\n        max-height: 200px;\r\n        overflow-y: auto;\r\n    }\r\n\r\n    .dropdown-menu:hover {\r\n        cursor: pointer;\r\n    }\r\n\r\n    .dropdown-menu li {\r\n        padding-left: 10px;\r\n    }\r\n\r\n    .dropdown-menu li:hover {\r\n        background-color: #3875d7;\r\n        color: #fff;\r\n    }\r\n\r\n    .dropdown-button {\r\n        float: right;\r\n        margin-top: -33px;\r\n        width: 36px;\r\n        padding: 8px 12px;\r\n        position: relative;\r\n    }\r\n\r\n    .dropdown div[ng-show="isNotgentle"] {\r\n        position: absolute;\r\n    }\r\n</style>\r\n<div class="dropdown">\r\n    <input name="editable-select" type="{{to.type||\'text\'}}" class="form-control dropdown-toggle editable-select" ng-model="model[options.key]" ng-disabled="formState.readOnly||to.disabled" ng-required="to.required" title="{{to.title}}" min="{{to.min}}" max="{{to.max}}" minlength="{{to.minlength}}" maxlength="{{to.maxlength}}" word-check-attr>\r\n    <span class="input-group-addon dropdown-toggle dropdown-button" data-toggle="dropdown">\r\n        <span class="caret"></span>\r\n    </span>\r\n    <ul class="dropdown-menu" ng-if="!(formState.readOnly||to.disabled)">\r\n        <li ng-repeat="option in to.options" ng-bind="::option[to.labelProp||\'label\']" ng-click="setToModel(option[to.labelProp||\'label\'])">\r\n        </li>\r\n    </ul>\r\n\r\n</div>'),e.put("app/templates/filterButton/filterbutton.html",'<div ng-show="!to.commonSearch">\r\n    <div class="col-sm-3 col-md-3 col-lg-3 no-horizontal-padding">\r\n        <input id="modelId_{{fieldname}}" name="modelId_{{fieldname}}" type="text" ng-minlength="2" ng-change="onChange()" ng-disabled="formState.readOnly || to.disabled" ng-model="model[to.modelIdProperty]" class="form-control">\r\n    </div>\r\n    <div class="col-sm-8 col-md-8 col-lg-8 no-horizontal-padding">\r\n        <input id="modelName_{{fieldname}}" name="modelName_{{fieldname}}" type="text" ng-minlength="2" ng-change="onChange()" ng-disabled="formState.readOnly || to.disabled" ng-model="model[to.modelNameProperty]" class="form-control">\r\n    </div>\r\n    <div class="col-sm-1 col-md-1 col-lg-1 no-horizontal-padding">\r\n        <button type="button" class="btn btn-primary btn-sm" ng-click="openModal()"><span class="glyphicon glyphicon-ok" aria-hidden="true" title="{{to.title}}"></span></button>\r\n    </div>\r\n</div>\r\n<div class="row" ng-if="to.commonSearch">\r\n    <div class="col-md-10 col-lg-10 no-horizontal-padding">\r\n        <input id="modelCommonText" name="modelCommonText" ng-disabled="formState.readOnly || to.disabled" type="text" ng-model="model[to.modelNameProperty]" class="form-control">\r\n    </div>\r\n    <div class="col-md-2 col-lg-2 no-horizontal-padding">\r\n        <button type="button" class="btn btn-primary btn-sm" ng-click="openModal()"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></button>\r\n    </div>\r\n</div>\r\n<div class="col-sm-offset-4 col-sm-8 red" ng-show="fc[0].$invalid && fc[0].$dirty">{{to.label}} is required </div>'),e.put("app/templates/filterButton/filterbutton.modal.html",'<style>\r\n    .table-fixed thead {\r\n  width: 97%;\r\n}\r\n.table-fixed tbody {\r\n  height: 620px;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  width: 100%;\r\n}\r\n.table-fixed thead, .table-fixed tbody, .table-fixed tr, .table-fixed td, .table-fixed th {\r\n  display: block;\r\n}\r\n.table-fixed tbody td, .table-fixed thead > tr> th {\r\n  float: left;\r\n  border-bottom-width: 0;\r\n}\r\n.watermark {\r\n    position: absolute;\r\n    top: 200px;\r\n    opacity: 0.25;\r\n    font-size: 3em;\r\n    width: 100%;\r\n    text-align: center;\r\n    z-index: 1000;\r\n}\r\n</style>\r\n\r\n\r\n\r\n\r\n<div>\r\n    <div class="modal-header">\r\n        <button type="button" class="close" ng-click="cancel()">&times;</button>\r\n        <h4 class="modal-title" ng-bind-html="headerMessage"></h4>\r\n    </div>\r\n</div>\r\n<div class="modal-body">\r\n    <div class="page-content container-fluid">\r\n        <div class="panel panel-info">\r\n            <div class="panel-body">\r\n                <div class="row" ng-show="commonSearch">\r\n                    <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">\r\n                        Filter:\r\n                    </div>\r\n                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">\r\n                        <input type="text" class="form-control" ng-model="to.commonSearchText">\r\n                    </div>\r\n                </div>\r\n                <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10 no-horizontal-padding" style="width:100%" ng-show="!commonSearch">\r\n                    <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">\r\n                        ID:\r\n                    </div>\r\n                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4" style="width:20%">\r\n                        <input type="text" class="form-control" ng-model="search[to.idColumn]" ng-minlength="2">\r\n                    </div>\r\n                    \r\n                    <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">\r\n                        Name:\r\n                    </div>\r\n                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">\r\n                        <input type="text" class="form-control" ng-model="search[to.nameColumn]" ng-minlength="2">\r\n                    </div>\r\n                    <div class="col-sm-1 col-md-1 col-lg-1 no-horizontal-padding">\r\n                        <button type="button" class="btn btn-primary btn-sm" ng-click="GetData(search[to.idColumn], search[to.nameColumn])"><span class="glyphicon glyphicon-ok" aria-hidden="true" title="{{to.title}}"></span></button>\r\n                    </div>\r\n\r\n                </div>\r\n                <br>\r\n                 <div ng-messages="minlength" class="red" ng-if="(((search[to.idColumn] === undefined || \r\n                        search[to.idColumn].trim().length === 0) && search[to.nameColumn].trim().length < 2) || \r\n                        ((search[to.nameColumn] === undefined || search[to.nameColumn].trim().length === 0) && \r\n                        search[to.idColumn].trim().length < 2)) ">Minimum of two characters of Dealer id/name required</div>\r\n            </div>\r\n            <table class="table table-fixed">\r\n                <tr class="row" ng-show="!commonSearch" ng-repeat="entity in tableData | filter:search">\r\n                    <!--<td ng-repeat="(key,val) in entity"><span >{{entity[key]}}</span></td>-->\r\n                    <td class="col-sm-5 col-md-5 col-lg-5"><span style="padding-left:20px">{{entity[to.idColumn]}}</span></td>\r\n                    <td class="col-sm-5 col-md-5 col-lg-5"><span>{{entity[to.nameColumn]}}</span></td>\r\n                    <td class="col-sm-2 col-md-2 col-lg-2">\r\n                        <button type="button" class="btn btn-success btn-sm" ng-click="sendDataToForm(entity)">Use / Done</button>\r\n                    </td>\r\n                </tr>\r\n                <tr ng-show="commonSearch" ng-repeat="entity in tableData | filter:to.commonSearchText">\r\n                    <td ng-repeat="(key,val) in entity"><span>{{entity[key]}}</span></td>\r\n                    <td>\r\n                        <button type="button" class="btn btn-success btn-sm" ng-click="sendDataToForm(entity)">Use / Done</button>\r\n                    </td>\r\n                </tr>\r\n                <tr ng-show="!tableData.length">\r\n                    <td colspan="3">\r\n                        <div class="watermark">\r\n                            No data available\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n        <formly-form model="model" fields="fields" form="popupForm" options="options">\r\n        </formly-form>\r\n    </div>\r\n</div>\r\n'),e.put("app/templates/datepicker/datepicker.html",'<style type="text/css">\r\n    .btn-calendar {\r\n        border-width: 1px !important;\r\n    }\r\n</style>\r\n<div class="input-group">\r\n    <input type="text" id="{{::id}}" name="{{::id}}" ng-model="actualDate" class="form-control" ng-click="datepicker.open($event)" ng-disabled="to.disabled||formState.readOnly" title="{{to.title}}" is-open="datepicker.opened" datepicker-options="to.datepickerOptions" date-disabled="disabledFunction(date,mode)" ng-required="{{to.required}}" placeholder="{{to.datepickerOptions.format}}" datepicker-popup="{{to.datepickerOptions.format}}">        \r\n    <span class="input-group-btn">\r\n            <button type="button" class="btn btn-success btn-calendar" ng-click="datepicker.open($event)" ng-disabled="to.disabled||formState.readOnly">\r\n                    <i class="glyphicon glyphicon-calendar"></i>\r\n            </button>\r\n        </span>\r\n</div>\r\n\r\n'),e.put("app/templates/genericcrud/confirmation.controller.html",'<div class="modal-header">\r\n    <h3 class="modal-title">\r\n        <i ng-show="vm.isWarning" class="fa fa-icon fa-exclamation-triangle red"></i> {{vm.title}} \r\n    </h3>\r\n</div>\r\n<div class="modal-body">\r\n    <div ng-bind-html="vm.messageHtml()"></div>\r\n</div>\r\n<div class="modal-footer">\r\n    <div ng-show="!vm.isWarning">\r\n        <button class="btn btn-success" ng-click="vm.ok()">OK</button>\r\n        <div ng-show="!vm.hideCancel" class="pull-right" style="margin-left: 10px">\r\n            <button class="btn btn-warning" ng-click="vm.close(\'cancel\')">Cancel</button>\r\n        </div>\r\n    </div>\r\n    <div ng-show="vm.isWarning">\r\n        <button class="btn btn-success" ng-click="vm.ok()"><span ng-bind-html="vm.okText"></span></button>\r\n        <div ng-show="!vm.hideCancel" class="pull-right" style="margin-left: 10px">\r\n            <button class="btn btn-warning" ng-click="vm.close(\'cancel\')"><span ng-bind-html="vm.cancelText"></span></button>\r\n        </div>\r\n    </div>   \r\n</div>'),e.put("app/templates/genericcrud/editupdate.html",'<div modaldraggable>\r\n    <div class="modal-header">\r\n        <button type="button" class="close" ng-click="cancel()">&times;</button>\r\n        <h4 class="modal-title" ng-bind-html="headerMessage" ng-if="headerMessage"></h4>\r\n    </div>\r\n</div>\r\n<div class="modal-body">\r\n    <div class="page-content container-fluid">\r\n        <formly-form model="dataModel" fields="formFields" form="popupForm" options="options">\r\n        </formly-form>\r\n    </div>\r\n</div>\r\n'),e.put("app/templates/genericcrud/genericcrud.html",'<div class="col-sm-12">\r\n        <div ui-grid="{ data: model[options.key], \r\n        columnDefs: to.columnDefs,\r\n        enableColumnResizing:to.enableColumnResizing,\r\n        enableHorizontalScrollbar:to.enableHorizontalScrollbar, \r\n        enableVerticalScrollbar:to.enableVerticalScrollbar, \r\n        onRegisterApi: to.onRegisterApi, \r\n        enableFiltering: to.enableFiltering, \r\n        enableHiding:to.enableHiding,\r\n        paginationPageSizes: to.paginationPageSizes, \r\n        paginationPageSize: to.paginationPageSize, \r\n        enablePaginationControls: to.enablePaginationControls}" class="grid" ui-grid-auto-resize ui-grid-pagination ui-grid-resize-columns>\r\n        <div class="watermark" ng-show="!model[options.key].length" show-empty-msg="{{to.showEmptyMsg}}">No data available</div>\r\n    </div>\r\n</div>'),e.put("app/templates/grid/grid.html",'<style>\r\n.ui-grid-viewport .ui-grid-cell-contents {\r\n word-wrap: break-word;\r\n white-space: normal !important;\r\n}\r\n\r\n.ui-grid-row, .ui-grid-cell {\r\n height: auto !important;\r\n}\r\n\r\n.ui-grid-row>div{\r\n display: flex ;\r\n align-content: stretch;\r\n}\r\n</style>\r\n<div ui-grid="{ data: model[options.key], columnDefs: to.columnDefs,enableColumnResizing:true,enableHorizontalScrollbar:2, \r\nonRegisterApi: to.onRegisterApi, enableFiltering: to.enableFiltering, minRowsToShow:to.minRowsToShow, paginationPageSizes: to.paginationPageSizes,\r\n            paginationPageSize: to.paginationPageSize, enablePagination: to.enablePagination, enablePaginationControls: to.enablePaginationControls}" ui-grid-auto-resize ui-grid-pagination>\r\n</div>'),e.put("app/templates/label/label.html",'<div ng-hide="to.hide">\r\n    <label ng-if="to.label" class="col-sm-4 col-md-4 col-lg-4">{{to.label}}</label>\r\n    <label ng-bind="model[options.key] {{to.filterString ? \' | \' + to.filterString : \'\'}}" title="{{to.title}}" class="{{to.label? \'col-sm-8 col-md-8 col-lg-8\' : \'col-sm-12 col-md-12 col-lg-12\'}}"></label>\r\n</div>'),e.put("app/templates/hours/hours.ui.html",'<div class="table table-bordered hidden-print" style="max-width:410px" form="12">\r\n    <table class="table-condensed">\r\n        <thead>\r\n            <th></th>\r\n            <th>\r\n                <label style="height:25px;margin:0;padding:0">Open</label>\r\n            </th>\r\n            <th></th>\r\n            <th>\r\n                <label style="height:25px;margin:0;padding:0">Close</label>\r\n            </th>\r\n        </thead>\r\n        <tbody ng-repeat="n in model[options.key]">\r\n            <tr calss="row">\r\n                <td><span ng-bind="n.WEEK_DAY"></span></td>\r\n                <td>\r\n                    <hoursdirective ng-model="n.OPEN_TIME" readonly-input="formState.readOnly || options.templateOptions.readonlyInput || options.templateOptions.disabled" minute-step="options.templateOptions.minutestep" ng-change="update(n,n.OPEN_TIME)" ddlminute-step="options.templateOptions.ddlminutestep"></hoursdirective>\r\n                </td>\r\n                <td></td>\r\n                <td>\r\n                    <hoursdirective ng-model="n.CLOSE_TIME" readonly-input="formState.readOnly || options.templateOptions.readonlyInput || options.templateOptions.disabled" ng-change="update(n,n.CLOSE_TIME)" minute-step="options.templateOptions.minutestep" ddlminute-step="options.templateOptions.ddlminutestep"></hoursdirective>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>\r\n\r\n<div class="table table-bordered visible-print" style="max-width:210px">\r\n    <table class="table-condensed">\r\n        <thead>\r\n            <th></th>\r\n            <th>\r\n                <label style="height:25px;margin:0;padding:0">Open</label>\r\n            </th>\r\n            <th></th>\r\n            <th>\r\n                <label style="height:25px;margin:0;padding:0">Close</label>\r\n            </th>\r\n        </thead>\r\n        <tbody ng-repeat="n in model[options.key]">\r\n            <tr calss="row">\r\n                <td><span ng-bind="n.WEEK_DAY"></span></td>\r\n                <td>\r\n                    <span ng-bind="n.OPEN_TIME"></span>\r\n                </td>\r\n                <td></td>\r\n                <td>\r\n                    <span ng-bind="n.CLOSE_TIME"></span>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>'),e.put("app/templates/hours/time.html",'<style>\r\n.scrollbar{ height: auto;max-height: 200px;overflow-x: hidden;overflow-y:scroll; min-width: 150px;margin-top: 0px;}\r\n\r\n</style>\r\n<div class="input-group">\r\n    <input type="text" class="form-control" ng-model="selectedTime" ng-readonly="readonlyInput" placeholder="HH:mm" ng-blur="blur()">\r\n</div>'),e.put("app/templates/maskedInput/maskedInput.html",'<input ng-disabled="formState.readOnly || to.disabled" class="form-control" ng-model="model[options.key]" title="{{to.title}}" ng-blur="onBlur($event)" word-check-attr>'),e.put("app/templates/button/button.html",'<div>\r\n    <button type="{{::to.type}}" class="btn btn-{{::to.btnType}}" ng-click="onClick($event)" ng-disabled="to.disabled" ng-if="!to.printButton" title="{{to.title}}">\r\n            <span ng-bind-html="to.text"></span>\r\n    </button>\r\n    <button type="{{::to.type}}" class="btn btn-{{::to.btnType}}" ng-disabled="to.disabled" ng-if="to.printButton" ng-print print-element-id="{{::to.printElementId}}">\r\n            <span ng-bind-html="to.text"></span>\r\n    </button>\r\n</div>'),e.put("app/templates/masterDetail/md.button.directive.html",'<div>\r\n    <button type="button" class="btn btn-primary" ng-class="md.cssClass" ng-click="buttonOnclick(this, $event)" ng-disabled="md.ngDisabled">\r\n        <span ng-bind-html="md.label"></span>\r\n    </button>\r\n</div>'),e.put("app/templates/masterDetail/md.button.html",'<div>\r\n    <button type="{{::to.type}}" class="btn btn-{{::to.btnType}}" ng-disabled="to.disabled" ng-if="!to.printButton" ng-click="buttonOnclick(this, $event)" title="{{to.title}}">\r\n        <span ng-bind-html="to.text"></span>\r\n    </button>\r\n</div>'),e.put("app/templates/masterDetail/mdButtonModal.html",'<div modaldraggable>\r\n    <div class="modal-header">\r\n        <button type="button" class="close" ng-click="cancel()">&times;</button>\r\n        <h4 class="modal-title" ng-bind-html="headerMessage"></h4>\r\n    </div>\r\n</div>\r\n<div class="modal-body">\r\n    <div class="page-content container-fluid">\r\n        <formly-form model="user" fields="userFields" options="options">\r\n        </formly-form>\r\n    </div>\r\n</div>\r\n'),e.put("app/templates/multicheck/multicheck.html",'<div class="radio-group" ng-class="{\'has-error\': options.formControl.$invalid}">\r\n    <div class="radio" ng-repeat="option in to.options">\r\n        <label>\r\n            <input ng-disabled="formState.readOnly || to.disabled || option.disabled" type="checkbox" ng-value="option.value" ng-model="model[$parent.options.key + option.value][option.keyName]"> {{option.name}}\r\n        </label>\r\n    </div>\r\n</div>'),e.put("app/templates/multiselect/multiselect.html",'<isteven-multi-select input-model="model[options.key].options" output-model="model[options.key].selected" button-label="{{to.buttonlabel}}" item-label="{{to.itemlabel}}" tick-property="{{to.tickproperty}}" disable-property="{{to.disableproperty}}" selection-mode="{{to.selectionmode}}" max-labels="{{to.maxlabels}}" max-height="{{to.maxheight}}" is-disabled="to.isdisabled" helper-elements="{{to.helperelements}}" search-property="{{to.searchproperty}}" output-properties="{{to.outputproperties}}" translation="to.translation" orientation="{{to.orientation}}">\r\n</isteven-multi-select>'),e.put("app/templates/repeat/repeat.html",'      	<!--loop through each element in model array-->\r\n      	<div class="{{hideRepeat}}">\r\n          <div class="repeatsection" ng-repeat="element in repeaterArray" ng-init="fields = copyFields(to.fields)">\r\n            <formly-form fields="fields" model="element" form="form">\r\n            </formly-form>\r\n        </div>\r\n      </div>'),e.put("app/templates/pagepermissions/pagePermissions.html",'<style>\r\n    .error-border {\r\n        border: 1px solid red !important;\r\n    }\r\n</style>\r\n<div ng-form="permissionForm">\r\n    <div class="form-group">\r\n        <label class="control-label col-md-2"><span class="red">*</span>Page</label>\r\n        <div class="col-md-3">\r\n            <select class="form-control" name="permissionPage" ng-disabled="isEditable" ng-class="{\'error-border\' : (permissionForm.permissionPage.$error.required && permissionForm.permissionPage.$dirty) }" ng-required="true" ng-options="page.NAME as page.NAME for page in pageOptions" ng-model="page">\r\n                <option value="">---Select Page---</option>\r\n            </select>\r\n        </div>\r\n        <label class="control-label col-md-2"><span class="red">*</span>Role</label>\r\n        <div class="col-md-3">\r\n            <select class="form-control" name="permissionRole" ng-disabled="isEditable" ng-class="{\'error-border\' : (permissionForm.permissionRole.$error.required && permissionForm.permissionRole.$dirty) }" ng-required="true" ng-options="role.OBJID as role.TITLE for role in roleOptions" ng-model="role">\r\n                <option value="">---Select Role---</option>\r\n            </select>\r\n        </div>\r\n    </div>\r\n    <div class="form-group">\r\n        <label class="control-label col-md-2"><span class="red">*</span>Access</label>\r\n        <div class="col-md-3" id="accessDiv">\r\n            <select class="form-control" name="permissionAccess" ng-required="true" ng-class="{\'error-border\' : (permissionForm.permissionAccess.$error.required && permissionForm.permissionAccess.$dirty) }" ng-options="access.TITLE as access.TITLE for access in accessOptions" ng-model="access">\r\n                <option value="">---Select Access---</option>\r\n            </select>\r\n        </div>\r\n        <label class="control-label col-md-2"><span class="red">*</span>Access Rule</label>\r\n        <div class="col-md-3">\r\n            <select class="form-control" name="permissionAccessRule" ng-disabled="isEditable || isFieldDisabled" ng-class="{\'error-border\' : (permissionForm.permissionAccessRule.$error.required && permissionForm.permissionAccessRule.$dirty) }" ng-required="true" ng-options="accessrule.OBJID as accessrule.TITLE for accessrule in accessRuleOptions" ng-model="accessRule">\r\n                <option value="">---Select AccessRule---</option>\r\n            </select>\r\n        </div>\r\n    </div>\r\n    <div class="row" style="margin-bottom:20px">\r\n        <div class="col-md-10 align-right">\r\n            <input type="button" class="btn btn-info" value="{{ buttonName }}" ng-disabled="permissionForm.$invalid" ng-click="addAction()">\r\n            <input type="button" class="btn btn-info" value="Reset" ng-click="reset()">\r\n        </div>\r\n    </div>\r\n    <div class="row">\r\n        <div class="col-md-12">\r\n            <div ui-grid="{ data: grid, columnDefs: to.columnDefs,enableColumnResizing:true,enableVerticalScrollbar:0,enableHorizontalScrollbar:2, onRegisterApi: to.onRegisterApi, enableFiltering: to.enableFiltering}" ui-grid-auto-resize style="height: 900px!important">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),e.put("app/templates/radio/radio.html",'<div class="radio-group">\r\n    <div ng-repeat="(key, option) in to.options" class="radio">\r\n        <label>\r\n                <input ng-disabled="formState.readOnly || to.disabled" type="radio" id="{{id + \'_\'+ $index}}" tabindex="0" ng-value="option[to.valueProp || \'value\']" ng-model="model[options.key]">\r\n                {{option[to.labelProp || \'name\']}}\r\n            </label>\r\n    </div>\r\n</div>'),e.put("app/templates/picklist/picklist.directive.html",'<div class="row">\r\n    <div class="col-sm-5">\r\n        <input type="text" ng-model="unselectedSearch" style="width:100%" placeholder="Search">\r\n        <div class="picklist__container">            \r\n            <ul class="picklist__options">\r\n                <li ng-repeat="option in options|filter:{$$selected:false} |filter:unselectedSearch" class="picklist__item" ng-class="{\'selected\':option.$$highlight, \'disabled\':ngDisabled}" ng-click="highlight(option,$event)" ng-dblclick="toggleSelect(true,option,$event)">\r\n                    <span class="slds-truncate">\r\n        <span>{{option[nameAttr]}}</span>\r\n                    </span>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n    <div class="picklist__button__container">\r\n        <div class="row picklist__button__container__offset"></div>\r\n        <button type="button" ng-click="toggleSelect(true)" ng-disabled="ngDisabled" ng-class="{\'btn-default\':ngDisabled, \'btn-primary\' : !ngDisabled}">\r\n            <p ng-bind-html="moveRight"></p>\r\n        </button>\r\n        <button type="button" ng-click="toggleSelect(false)" ng-disabled="ngDisabled" ng-class="{\'btn-default\':ngDisabled, \'btn-primary\' : !ngDisabled}">            \r\n            <p ng-bind-html="moveLeft"></p>\r\n        </button>\r\n    </div>\r\n    <div class="col-sm-5">\r\n        <input type="text" ng-model="selectedSearch" style="width:100%" placeholder="Search">\r\n        <div class="picklist__container">                        \r\n            <ul class="picklist__options">\r\n                <li ng-repeat="option in options|filter:{$$selected:true}|orderBy:\'$$sortOrder\' |filter:selectedSearch" class="picklist__item" ng-class="{\'selected\':option.$$highlight, \'disabled\':ngDisabled}" ng-click="highlight(option,$event)" ng-dblclick="toggleSelect(false,option,$event)">\r\n                    <span class="slds-truncate">\r\n        <span>{{option[nameAttr]}}</span>\r\n                    </span>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</div>'),e.put("app/templates/picklist/picklist.html",'<style type="text/css">\r\n    .picklist__container {\r\n        border: 1px solid #e4e6e9;\r\n        height: 200px;\r\n        overflow-y: auto;\r\n    }\r\n    \r\n    .picklist__options {\r\n        list-style-type: none;\r\n        margin: 0px;\r\n        padding: 5px;\r\n    }\r\n    \r\n    .picklist__options li:nth-child(even) {\r\n        background-color: #f3f3f3;\r\n    }\r\n\r\n    .picklist__item {\r\n        cursor: pointer;\r\n    }\r\n    \r\n    .picklist__item.disabled {\r\n        cursor: not-allowed;\r\n    }\r\n    \r\n    .picklist__item.selected {\r\n        background-color: #009ddc !important;\r\n        color: white;\r\n    }\r\n    \r\n    .picklist__button__container {\r\n        height: 200px;\r\n        width: 30px;\r\n        margin: 0px;\r\n        padding: 0px;\r\n        float: left;\r\n    }\r\n    \r\n    .picklist__button__container__offset {\r\n        height: 70px;\r\n    }\r\n    \r\n    .picklist__button__container button {\r\n        margin-bottom: 5px;\r\n    }\r\n</style>\r\n\r\n<pick-list ng-model="model[options.key]" ng-disabled="formState.readOnly||to.disabled" name-attr="{{to.labelProp||\'name\'}}" value-attr="{{to.valueProp}}" options="to.options" init-key="{{to.initKey}}" ng-change="to.ngChange" move-left="{{to.moveLeft}}" move-right="{{to.moveRight}}">\r\n</pick-list>'),e.put("app/templates/searchableDropdown/contextButtonModal.html",'<div>\r\n    <div class="modal-header">\r\n        <button type="button" class="close" ng-click="cancel()">&times;</button>\r\n        <h4 class="modal-title" ng-bind-html="headerMessage"></h4>\r\n    </div>\r\n</div>\r\n<div class="modal-body">\r\n     <div class="page-content container-fluid">\r\n          <formly-form model="user" fields="formFields" form="popupForm" options="options">\r\n            </formly-form>\r\n     </div>\r\n</div>'),e.put("app/templates/searchableDropdown/searchableDropdown.html",'<!-- show-print section is needed when printing the dropdown value -->\r\n<div class="{{(to.enableContextButton?\'col-sm-10 col-md-10\':\'col-sm-12 col-md-12\')}} no-horizontal-padding" ng-click="epSwitchClick($event)">\r\n    <select chosen="{width: \'{{to.width?to.width:\'100%\'}}\'}" class="hidden-print col-xs-12 col-sm-12 col-md-12" ng-model="model[options.key]" value-prop="{{to.valueProp||\'value\'}}" options="to.options" searchableinit-key="{{to.searchableinitKey}}" ng-disabled="formState.readOnly||to.disabled" placeholder="--Select Option--" ng-change="epSwitchChange(option)" search-contains="{{to.searchContains}}">\r\n    <option value="" ng-show="to.isSelectOptionRequired">--Select--</option>\r\n</select>\r\n</div>\r\n<div class="col-sm-2 col-md-2 no-horizontal-padding" ng-if="to.enableContextButton">\r\n    <button type="button" class="btn btn-sm btn-primary" ng-click="openModal(this)"><div ng-bind-html="to.contextButtonText"></div></button>\r\n</div>\r\n<div class="visible-print print-select form-control" ng-bind="{{to.actualModel}}"> </div>\r\n<style>\r\n    .no-horizontal-padding\r\n    {\r\n        padding-left:0px;\r\n        padding-right:0px;\r\n    }\r\n</style>'),
e.put("app/templates/select/select.html",'<!-- show-print section is needed when printing the dropdown value -->\r\n<select class="form-control hidden-print" ng-model="model[options.key]" value-prop="{{to.valueProp||\'value\'}}" options="to.options" init-key="{{to.initKey}}" ng-disabled="formState.readOnly||to.disabled" title="{{to.title}}" placeholder="--Select Option--" ng-change="epSelectChange(option)" ng-if="!to.required">\r\n    <option value="">--Select--</option>\r\n</select>\r\n<select class="form-control hidden-print" ng-model="model[options.key]" value-prop="{{to.valueProp||\'value\'}}" options="to.options" init-key="{{to.initKey}}" ng-disabled="formState.readOnly||to.disabled" title="{{to.title}}" placeholder="--Select Option--" ng-change="epSelectChange(option)" ng-if="to.required">\r\n</select>\r\n<div class="visible-print print-select form-control" ng-bind="model.{{to.actualModel}}"> </div>\r\n<!--actual-model="{{to.actualModel}}"-->'),e.put("app/templates/switch/switch.html",'<switch ng-model="actualSwitchModel" ng-disabled="formState.readOnly || to.disabled" ng-change="epSwitchChange(this)" class="blue" title="{{to.title}}"> </switch>\r\n\r\n'),e.put("app/templates/textarea/textarea.html",'<textarea ng-disabled="formState.readOnly || to.disabled" class="form-control" ng-model="model[options.key]" title="{{to.title}}" maxlength="{{to.maxLength}}" minlength="{{to.minLength}}" ng-disabled="formState.readOnly||to.disabled" rows="{{to.rows}}" autosize="{{to.autosize}}" word-check-attr></textarea>'),e.put("app/templates/tabsStrip/tabsStrip.html",'<!--</br>\r\n<uib-tabset active="active">\r\n    <uib-tab ng-repeat="tab in tabs" index="tab.index" select="select($event,tab)" heading="{{tab.heading}}">\r\n        </br>\r\n        <formly-form model="tab.model" fields="tab.fields" options="tab.options" form="tab.form">\r\n        </formly-form>\r\n    </uib-tab>\r\n</uib-tabset>-->\r\n<div style="clear:both"></div>\r\n<tabset ng-hide="tabHide">\r\n    <tab ng-repeat="tab in tabs" ng-click="select($event,tab)" heading="{{tab.heading}}" active="tab.active">\r\n        <br>\r\n        <formly-form model="tab.model" fields="tab.fields" options="tab.options" form="tab.form">\r\n        </formly-form>\r\n        <div style="clear:both"></div>\r\n    </tab>\r\n</tabset>'),e.put("app/templates/textbox/textbox.html",'<input class="form-control" word-check-attr ng-model="model[options.key]" placeholder="{{to.placeholder}}" maxlength="{{to.maxLength}}" minlength="{{to.minLength}}" ng-disabled="formState.readOnly||to.disabled" title="{{to.title}}" format-number="{{to.noOfDecimalPlaces}}">'),e.put("app/templates/wrappers/horizontal.wrapper.html",'<label for="{{::id}}" ng-class="(to.labelCssClass!== undefined && to.labelCssClass !== null)?to.labelCssClass:\'col-md-4\'" ng-if="to.label !== undefined && to.label !== null && options.type !== \'ep-checkbox\'">\r\n   <span class="red">{{to.required ? "*" : ""}}</span> {{to.label}}\r\n</label>\r\n<div ng-class="(to.label !== undefined && to.label !== null && options.type !== \'ep-checkbox\')?((to.fieldCssClass!== undefined && to.fieldCssClass !== null)?to.fieldCssClass:\'col-md-8\'):((to.fieldCssClass!== undefined && to.fieldCssClass !== null)?to.fieldCssClass:\'col-md-12\')">\r\n    <formly-transclude></formly-transclude>\r\n    <div class="red" ng-if="showError">\r\n        <div ng-show="options.formControl.$error.pattern">{{to.validationMsg}}</div>\r\n    </div>\r\n</div>'),e.put("app/templates/check/check.html",'<div class="radio-inline">\r\n    <label>\r\n        <input ng-disabled="formState.readOnly || to.disabled" type="checkbox" class="formly-field-checkbox" ng-model="model[options.key]" title="{{to.title}}"> {{to.label}}\r\n        <span class="red">\r\n            {{to.required ? \'*\' : \'\'}}\r\n        </span>\r\n    </label>\r\n</div>'),e.put("app/templates/calendarEnrollDates/calendarEnrollDates.html",'<style type="text/css">\r\n    .btn-calendar {\r\n        border-width: 1px !important;\r\n    }\r\n    \r\n    .red-border {\r\n        border-color: red !important;\r\n    }\r\n    \r\n    .minWidth {\r\n        min-width: 45px;\r\n    }\r\n    .paddingTB{\r\n        padding:1px 0 1px 0;\r\n    }\r\n</style>\r\n<span class="col-sm-12 col-md-12 col-xs-12"><h2>{{to.title}}</h2></span><br>\r\n<div class="table-bordered hidden-print col-sm-10 col-md-8 col-xs-12" style="max-width:480px; min-width:140px">\r\n    <div class="col-md-12 col-sm-12 col-xs-12">\r\n        <div class="col-md-2 col-sm-2 col-xs-2"></div>\r\n        <div class="col-md-5 col-sm-5 col-xs-5"> <label style="height:25px;margin:0;padding:0">Enrollment Opens</label></div>\r\n        <div class="col-md-5 col-sm-5 col-xs-5"><label style="height:25px;margin:0;padding:0">Enrollment Closes</label></div>\r\n    </div>\r\n    <div ng-repeat="n in model[options.key]" ng-switch on="$index % 2" class="row paddingTB">\r\n        <div class="col-md-12 paddingTB">\r\n            <div ng-switch-when="0" class="col-md-2 col-sm-2 col-xs-2"><span class="red">{{to.required ? \'*\' : \'\'}}</span><span ng-bind="model[options.key][$index].MONTH"></span></div>\r\n            <div ng-switch-when="0" class="col-md-5 col-sm-5 col-xs-5">\r\n                <div class="input-group">\r\n                    <input type="text" name="{{model[options.key][$index].PARAM_NAME}}" ng-model="model[options.key][$index].PARAM_VALUE" class="form-control minWidth {{form[model[options.key][$index].PARAM_NAME].$invalid && form[model[options.key][$index].PARAM_NAME].$dirty && form[model[options.key][$index].PARAM_NAME].$touched?\'red-border\':\'\'}}" ng-disabled="to.disabled||formState.readOnly||to.readonlyInput" title="{{to.title}}" is-open="form[model[options.key][$index].PARAM_NAME].options.datepickerOpened" min-date="model[options.key][$index].MINDATE" datepicker-options="to.datepickerOptions" ng-required="{{to.required}}" ng-blur="update(model[options.key][$index], model[options.key][$index],model[options.key][$index+1])" placeholder="{{to.datepickerOptions.format}}" datepicker-popup="{{to.datepickerOptions.format}}" uib-datepicker-popup="{{to.datepickerOptions.format}}">\r\n                    <span class="input-group-btn">\r\n                            <button type="button" class="btn btn-success btn-calendar" ng-click="datepicker.open($index,model[options.key][$index].PARAM_NAME)" ng-disabled="to.disabled||formState.readOnly||to.readonlyInput">\r\n                                    <i class="glyphicon glyphicon-calendar"></i>\r\n                            </button>\r\n                        </span>\r\n                </div>\r\n            </div>\r\n            <div ng-switch-when="0" class="col-md-5 col-sm-5 col-xs-5">\r\n                <div class="input-group">\r\n                    <input type="text" name="{{model[options.key][$index+1].PARAM_NAME}}" ng-model="model[options.key][$index+1].PARAM_VALUE" class="form-control minWidth {{form[model[options.key][$index+1].PARAM_NAME].$invalid && form[model[options.key][$index+1].PARAM_NAME].$dirty && form[model[options.key][$index+1].PARAM_NAME].$touched?\'red-border\':\'\'}}" ng-disabled="to.disabled||formState.readOnly||to.readonlyInput" title="{{to.title}}" is-open="form[model[options.key][$index+1].PARAM_NAME].options.datepickerOpened" min-date="model[options.key][$index+1].MINDATE" datepicker-options="to.datepickerOptions" ng-required="{{to.required}}" ng-blur="update(model[options.key][$index+1], model[options.key][$index],model[options.key][$index+1])" placeholder="{{to.datepickerOptions.format}}" datepicker-popup="{{to.datepickerOptions.format}}" uib-datepicker-popup="{{to.datepickerOptions.format}}">\r\n                    <span class="input-group-btn">\r\n                            <button type="button" class="btn btn-success btn-calendar" ng-click="datepicker.open($index+1,model[options.key][$index+1].PARAM_NAME)" ng-disabled="to.disabled||formState.readOnly||to.readonlyInput">\r\n                                    <i class="glyphicon glyphicon-calendar"></i>\r\n                            </button>\r\n                        </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div ng-show="showValidationsummary">\r\n            <div class="col-md-2 col-sm-2 col-xs-2"></div>\r\n            <div ng-switch-when="0" class="col-md-10 col-sm-10 col-xs-10">\r\n                <span class="red" ng-show="form[model[options.key][$index].PARAM_NAME].$error[\'required\']!==undefined && form[model[options.key][$index].PARAM_NAME].$error[\'required\']!== null && form[model[options.key][$index].PARAM_NAME].$error[\'required\']!== \'\'">{{form[model[options.key][$index].PARAM_NAME].$error[\'required\']!==undefined && form[model[options.key][$index].PARAM_NAME].$error[\'required\']!== null && form[model[options.key][$index].PARAM_NAME].$error[\'required\']!== \'\'?form[model[options.key][$index].PARAM_NAME].$error[\'required\']:\'\'}}<br></span>\r\n\r\n                <span class="red" ng-show="form[model[options.key][$index].PARAM_NAME].$error[model[options.key][$index].PARAM_NAME]!==undefined && form[model[options.key][$index].PARAM_NAME].$error[model[options.key][$index].PARAM_NAME]!== null && form[model[options.key][$index].PARAM_NAME].$error[model[options.key][$index].PARAM_NAME]!== \'\'">{{form[model[options.key][$index].PARAM_NAME].$error[model[options.key][$index].PARAM_NAME]!==undefined && form[model[options.key][$index].PARAM_NAME].$error[model[options.key][$index].PARAM_NAME]!== null && form[model[options.key][$index].PARAM_NAME].$error[model[options.key][$index].PARAM_NAME]!== \'\'?form[model[options.key][$index].PARAM_NAME].$error[model[options.key][$index].PARAM_NAME]:\'\'}}<br></span>\r\n\r\n                <span class="red" ng-show="form[model[options.key][$index].PARAM_NAME].$error[\'selectprevious\']!==undefined && form[model[options.key][$index].PARAM_NAME].$error[\'selectprevious\']!== null && form[model[options.key][$index].PARAM_NAME].$error[\'selectprevious\']!== \'\'">{{form[model[options.key][$index].PARAM_NAME].$error[\'selectprevious\']!==undefined && form[model[options.key][$index].PARAM_NAME].$error[\'selectprevious\']!== null && form[model[options.key][$index].PARAM_NAME].$error[\'selectprevious\']!== \'\'?form[model[options.key][$index].PARAM_NAME].$error[\'selectprevious\']:\'\'}}<br></span>\r\n\r\n                <span class="red" ng-show="form[model[options.key][$index+1].PARAM_NAME].$error[\'required\']!==undefined && form[model[options.key][$index+1].PARAM_NAME].$error[\'required\']!== null && form[model[options.key][$index+1].PARAM_NAME].$error[\'required\']!== \'\'">{{form[model[options.key][$index+1].PARAM_NAME].$error[\'required\']!==undefined && form[model[options.key][$index+1].PARAM_NAME].$error[\'required\']!== null && form[model[options.key][$index+1].PARAM_NAME].$error[\'required\']!== \'\'?form[model[options.key][$index+1].PARAM_NAME].$error[\'required\']:\'\'}}<br></span>\r\n\r\n                <span class="red" ng-show="form[model[options.key][$index+1].PARAM_NAME].$error[model[options.key][$index+1].PARAM_NAME]!==undefined && form[model[options.key][$index+1].PARAM_NAME].$error[model[options.key][$index+1].PARAM_NAME]!== null && form[model[options.key][$index+1].PARAM_NAME].$error[model[options.key][$index+1].PARAM_NAME]!== \'\'">{{form[model[options.key][$index+1].PARAM_NAME].$error[model[options.key][$index+1].PARAM_NAME]!==undefined && form[model[options.key][$index+1].PARAM_NAME].$error[model[options.key][$index+1].PARAM_NAME]!== null && form[model[options.key][$index+1].PARAM_NAME].$error[model[options.key][$index+1].PARAM_NAME]!== \'\'?form[model[options.key][$index+1].PARAM_NAME].$error[model[options.key][$index+1].PARAM_NAME]:\'\'}}<br></span>\r\n\r\n                <span class="red" ng-show="form[model[options.key][$index+1].PARAM_NAME].$error[\'selectprevious\']!==undefined && form[model[options.key][$index+1].PARAM_NAME].$error[\'selectprevious\']!== null && form[model[options.key][$index+1].PARAM_NAME].$error[\'selectprevious\']!== \'\'">{{form[model[options.key][$index+1].PARAM_NAME].$error[\'selectprevious\']!==undefined && form[model[options.key][$index+1].PARAM_NAME].$error[\'selectprevious\']!== null && form[model[options.key][$index+1].PARAM_NAME].$error[\'selectprevious\']!== \'\'?form[model[options.key][$index+1].PARAM_NAME].$error[\'selectprevious\']:\'\'}}</span>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n')}]),function(e,t){return"function"==typeof define&&define.amd?void define(["angular","ckeditor"],function(e){return t(e)}):t(e)}(angular||null,function(e){var t,i=e.module("ngCkeditor",[]),n=!1;return i.run(["$q","$timeout",function(i,o){function r(){"loaded"==CKEDITOR.status?(n=!0,t.resolve()):r()}if(t=i.defer(),e.isUndefined(CKEDITOR))throw new Error("CKEDITOR not found");CKEDITOR.lang.en={wsc:{btnIgnore:"Ignore",btnIgnoreAll:"Ignore All",btnReplace:"Replace",btnReplaceAll:"Replace All",btnUndo:"Undo",changeTo:"Change to",errorLoading:"Error loading application service host: %s.",ieSpellDownload:"Spell checker not installed. Do you want to download it now?",manyChanges:"Spell check complete: %1 words changed",noChanges:"Spell check complete: No words changed",noMispell:"Spell check complete: No misspellings found",noSuggestions:"- No suggestions -",notAvailable:"Sorry, but service is unavailable now.",notInDic:"Not in dictionary",oneChange:"Spell check complete: One word changed",progress:"Spell check in progress...",title:"Spell Checker",toolbar:"Check Spelling"},undo:{redo:"Redo",undo:"Undo"},toolbar:{toolbarCollapse:"Collapse Toolbar",toolbarExpand:"Expand Toolbar",toolbarGroups:{document:"Document",clipboard:"Clipboard/Undo",editing:"Editing",forms:"Forms",basicstyles:"Basic Styles",paragraph:"Paragraph",links:"Links",insert:"Insert",styles:"Styles",colors:"Colors",tools:"Tools"},toolbars:"Editor toolbars"},table:{border:"Border size",caption:"Caption",cell:{menu:"Cell",insertBefore:"Insert Cell Before",insertAfter:"Insert Cell After",deleteCell:"Delete Cells",merge:"Merge Cells",mergeRight:"Merge Right",mergeDown:"Merge Down",splitHorizontal:"Split Cell Horizontally",splitVertical:"Split Cell Vertically",title:"Cell Properties",cellType:"Cell Type",rowSpan:"Rows Span",colSpan:"Columns Span",wordWrap:"Word Wrap",hAlign:"Horizontal Alignment",vAlign:"Vertical Alignment",alignBaseline:"Baseline",bgColor:"Background Color",borderColor:"Border Color",data:"Data",header:"Header",yes:"Yes",no:"No",invalidWidth:"Cell width must be a number.",invalidHeight:"Cell height must be a number.",invalidRowSpan:"Rows span must be a whole number.",invalidColSpan:"Columns span must be a whole number.",chooseColor:"Choose"},cellPad:"Cell padding",cellSpace:"Cell spacing",column:{menu:"Column",insertBefore:"Insert Column Before",insertAfter:"Insert Column After",deleteColumn:"Delete Columns"},columns:"Columns",deleteTable:"Delete Table",headers:"Headers",headersBoth:"Both",headersColumn:"First column",headersNone:"None",headersRow:"First Row",invalidBorder:"Border size must be a number.",invalidCellPadding:"Cell padding must be a positive number.",invalidCellSpacing:"Cell spacing must be a positive number.",invalidCols:"Number of columns must be a number greater than 0.",invalidHeight:"Table height must be a number.",invalidRows:"Number of rows must be a number greater than 0.",invalidWidth:"Table width must be a number.",menu:"Table Properties",row:{menu:"Row",insertBefore:"Insert Row Before",insertAfter:"Insert Row After",deleteRow:"Delete Rows"},rows:"Rows",summary:"Summary",title:"Table Properties",toolbar:"Table",widthPc:"percent",widthPx:"pixels",widthUnit:"width unit"},stylescombo:{label:"Styles",panelTitle:"Formatting Styles",panelTitle1:"Block Styles",panelTitle2:"Inline Styles",panelTitle3:"Object Styles"},specialchar:{options:"Special Character Options",title:"Select Special Character",toolbar:"Insert Special Character"},sourcearea:{toolbar:"Source"},scayt:{btn_about:"About SCAYT",btn_dictionaries:"Dictionaries",btn_disable:"Disable SCAYT",btn_enable:"Enable SCAYT",btn_langs:"Languages",btn_options:"Options",text_title:"Spell Check As You Type"},removeformat:{toolbar:"Remove Format"},pastetext:{button:"Paste as plain text",title:"Paste as Plain Text"},pastefromword:{confirmCleanup:"The text you want to paste seems to be copied from Word. Do you want to clean it before pasting?",error:"It was not possible to clean up the pasted data due to an internal error",title:"Paste from Word",toolbar:"Paste from Word"},maximize:{maximize:"Maximize",minimize:"Minimize"},magicline:{title:"Insert paragraph here"},list:{bulletedlist:"Insert/Remove Bulleted List",numberedlist:"Insert/Remove Numbered List"},link:{acccessKey:"Access Key",advanced:"Advanced",advisoryContentType:"Advisory Content Type",advisoryTitle:"Advisory Title",anchor:{toolbar:"Anchor",menu:"Edit Anchor",title:"Anchor Properties",name:"Anchor Name",errorName:"Please type the anchor name",remove:"Remove Anchor"},anchorId:"By Element Id",anchorName:"By Anchor Name",charset:"Linked Resource Charset",cssClasses:"Stylesheet Classes",emailAddress:"E-Mail Address",emailBody:"Message Body",emailSubject:"Message Subject",id:"Id",info:"Link Info",langCode:"Language Code",langDir:"Language Direction",langDirLTR:"Left to Right (LTR)",langDirRTL:"Right to Left (RTL)",menu:"Edit Link",name:"Name",noAnchors:"(No anchors available in the document)",noEmail:"Please type the e-mail address",noUrl:"Please type the link URL",other:"<other>",popupDependent:"Dependent (Netscape)",popupFeatures:"Popup Window Features",popupFullScreen:"Full Screen (IE)",popupLeft:"Left Position",popupLocationBar:"Location Bar",popupMenuBar:"Menu Bar",popupResizable:"Resizable",popupScrollBars:"Scroll Bars",popupStatusBar:"Status Bar",popupToolbar:"Toolbar",popupTop:"Top Position",rel:"Relationship",selectAnchor:"Select an Anchor",styles:"Style",tabIndex:"Tab Index",target:"Target",targetFrame:"<frame>",targetFrameName:"Target Frame Name",targetPopup:"<popup window>",targetPopupName:"Popup Window Name",title:"Link",toAnchor:"Link to anchor in the text",toEmail:"E-mail",toUrl:"URL",toolbar:"Link",type:"Link Type",unlink:"Unlink",upload:"Upload"},indent:{indent:"Increase Indent",outdent:"Decrease Indent"},image:{alt:"Alternative Text",border:"Border",btnUpload:"Send it to the Server",button2Img:"Do you want to transform the selected image button on a simple image?",hSpace:"HSpace",img2Button:"Do you want to transform the selected image on a image button?",infoTab:"Image Info",linkTab:"Link",lockRatio:"Lock Ratio",menu:"Image Properties",resetSize:"Reset Size",title:"Image Properties",titleButton:"Image Button Properties",upload:"Upload",urlMissing:"Image source URL is missing.",vSpace:"VSpace",validateBorder:"Border must be a whole number.",validateHSpace:"HSpace must be a whole number.",validateVSpace:"VSpace must be a whole number."},horizontalrule:{toolbar:"Insert Horizontal Line"},format:{label:"Format",panelTitle:"Paragraph Format",tag_address:"Address",tag_div:"Normal (DIV)",tag_h1:"Heading 1",tag_h2:"Heading 2",tag_h3:"Heading 3",tag_h4:"Heading 4",tag_h5:"Heading 5",tag_h6:"Heading 6",tag_p:"Normal",tag_pre:"Formatted"},fakeobjects:{anchor:"Anchor",flash:"Flash Animation",hiddenfield:"Hidden Field",iframe:"IFrame",unknown:"Unknown Object"},elementspath:{eleLabel:"Elements path",eleTitle:"%1 element"},contextmenu:{options:"Context Menu Options"},clipboard:{copy:"Copy",copyError:"Your browser security settings don't permit the editor to automatically execute copying operations. Please use the keyboard for that (Ctrl/Cmd+C).",cut:"Cut",cutError:"Your browser security settings don't permit the editor to automatically execute cutting operations. Please use the keyboard for that (Ctrl/Cmd+X).",paste:"Paste",pasteArea:"Paste Area",pasteMsg:"Please paste inside the following box using the keyboard (<strong>Ctrl/Cmd+V</strong>) and hit OK",securityMsg:"Because of your browser security settings, the editor is not able to access your clipboard data directly. You are required to paste it again in this window.",title:"Paste"},button:{selectedLabel:"%1 (Selected)"},blockquote:{toolbar:"Block Quote"},basicstyles:{bold:"Bold",italic:"Italic",strike:"Strikethrough",subscript:"Subscript",superscript:"Superscript",underline:"Underline"},about:{copy:"Copyright &copy; $1. All rights reserved.",dlgTitle:"About CKEditor",help:"Check $1 for help.",moreInfo:"For licensing information please visit our web site:",title:"About CKEditor",userGuide:"CKEditor User's Guide"},editor:"Rich Text Editor",editorPanel:"Rich Text Editor panel",common:{editorHelp:"Press ALT 0 for help",browseServer:"Browse Server",url:"URL",protocol:"Protocol",upload:"Upload",uploadSubmit:"Send it to the Server",image:"Image",flash:"Flash",form:"Form",checkbox:"Checkbox",radio:"Radio Button",textField:"Text Field",textarea:"Textarea",hiddenField:"Hidden Field",button:"Button",select:"Selection Field",imageButton:"Image Button",notSet:"<not set>",id:"Id",name:"Name",langDir:"Language Direction",langDirLtr:"Left to Right (LTR)",langDirRtl:"Right to Left (RTL)",langCode:"Language Code",longDescr:"Long Description URL",cssClass:"Stylesheet Classes",advisoryTitle:"Advisory Title",cssStyle:"Style",ok:"OK",cancel:"Cancel",close:"Close",preview:"Preview",resize:"Resize",generalTab:"General",advancedTab:"Advanced",validateNumberFailed:"This value is not a number.",confirmNewPage:"Any unsaved changes to this content will be lost. Are you sure you want to load new page?",confirmCancel:"You have changed some options. Are you sure you want to close the dialog window?",options:"Options",target:"Target",targetNew:"New Window (_blank)",targetTop:"Topmost Window (_top)",targetSelf:"Same Window (_self)",targetParent:"Parent Window (_parent)",langDirLTR:"Left to Right (LTR)",langDirRTL:"Right to Left (RTL)",styles:"Style",cssClasses:"Stylesheet Classes",width:"Width",height:"Height",align:"Alignment",alignLeft:"Left",alignRight:"Right",alignCenter:"Center",alignJustify:"Justify",alignTop:"Top",alignMiddle:"Middle",alignBottom:"Bottom",alignNone:"None",invalidValue:"Invalid value.",invalidHeight:"Height must be a number.",invalidWidth:"Width must be a number.",invalidCssLength:'Value specified for the "%1" field must be a positive number with or without a valid CSS measurement unit (px, %, in, cm, mm, em, ex, pt, or pc).',invalidHtmlLength:'Value specified for the "%1" field must be a positive number with or without a valid HTML measurement unit (px or %).',invalidInlineStyle:'Value specified for the inline style must consist of one or more tuples with the format of "name : value", separated by semi-colons.',cssLengthTooltip:"Enter a number for a value in pixels or a number with a valid CSS unit (px, %, in, cm, mm, em, ex, pt, or pc).",unavailable:'%1<span class="cke_accessibility">, unavailable</span>'}},CKEDITOR.disableAutoInline=!0,CKEDITOR.on("loaded",r),o(r,100)}]),i.directive("ckeditor",["$timeout","$q",function(i,o){"use strict";return{restrict:"AC",require:["ngModel","^?form"],scope:!1,link:function(r,a,s,l){var c=l[0],d=l[1]||null,u="<p></p>",p="textarea"==a[0].tagName.toLowerCase(),g=[],f=!1;p||a.attr("contenteditable",!0);var m=function(){var t={toolbar:"full",toolbar_full:[{name:"basicstyles",items:["Bold","Italic","Strike","Underline"]},{name:"paragraph",items:["BulletedList","NumberedList","Blockquote"]},{name:"editing",items:["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"]},{name:"links",items:["Link","Unlink","Anchor"]},{name:"tools",items:["SpellChecker","Maximize"]},"/",{name:"styles",items:["Format","FontSize","TextColor","PasteText","PasteFromWord","RemoveFormat"]},{name:"insert",items:["Image","Table","SpecialChar"]},{name:"forms",items:["Outdent","Indent"]},{name:"clipboard",items:["Undo","Redo"]},{name:"document",items:["PageBreak","Source"]}],disableNativeSpellChecker:!1,uiColor:"#FAFAFA",height:"400px",width:"100%",customConfig:"",stylesSet:!1};t=e.extend(t,r[s.ckeditor]);var n=p?CKEDITOR.replace(a[0],t):CKEDITOR.inline(a[0],t),l=o.defer();a.bind("$destroy",function(){n.destroy(!1)});var m=function(e){var t=n.getData();""==t&&(t=null),i(function(){(e!==!0||t!=c.$viewValue)&&c.$setViewValue(t),e===!0&&d&&d.$setPristine()},0)},h=function(e){if(g.length){var t=g.pop()||u;f=!1,n.setData(t,function(){m(e),f=!0})}};n.on("change",m),n.on("blur",m),n.on("instanceReady",function(){r.$broadcast("ckeditor.ready"),r.$apply(function(){h(!0)}),n.document.on("keyup",m)}),n.on("customConfigLoaded",function(){l.resolve()}),c.$render=function(){g.push(c.$viewValue),f&&h()}};"loaded"==CKEDITOR.status&&(n=!0),n?m():t.promise.then(m)}}}]),i}),function(e){"use strict";function t(){function e(e,n,o){n.on("click",function(){var e=document.getElementById(o.printElementId);e&&t(e)}),window.onafterprint=function(){i.innerHTML=""}}function t(e){var t=e.cloneNode(!0);$(t).find("style").remove(),$(t).find("div[ui-grid]").removeAttr("style"),$.each($(t).find("div[ui-grid]"),function(e,t){var i=$(t).find(".ui-grid-header-cell").length,n=100/i,o=$(t).find(".ui-grid-header-cell, .ui-grid-cell");o.css("width",n+"%")}),i.innerHTML="",i.appendChild(t),window.print()}var i=document.getElementById("printSection");return i||(i=document.createElement("div"),i.id="printSection",document.body.appendChild(i)),{link:e,restrict:"A"}}var i=e.module("ngPrint",[]);i.directive("ngPrint",[t])}(window.angular),function(){var e,t,i,n,o,r,a,s,l,c,d,u,p,g,f,m,h,v,b,y,w,C,_,x,S,E,k,A,$,T,D,P,R,M,O,N,I,F,L,G,j,V,U,H,z,B,q,W,K=[].slice,J={}.hasOwnProperty,Y=function(e,t){function i(){this.constructor=e}for(var n in t)J.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},X=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};for(y={catchupTime:500,initialRate:.03,minTime:500,ghostTime:500,maxProgressPerFrame:10,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},A=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},T=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,b=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==T&&(T=function(e){return setTimeout(e,50)},b=function(e){return clearTimeout(e)}),P=function(e){var t,i;return t=A(),(i=function(){var n;return n=A()-t,n>=33?(t=A(),e(n,function(){return T(i)})):setTimeout(i,33-n)})()},D=function(){var e,t,i;return i=arguments[0],t=arguments[1],e=3<=arguments.length?K.call(arguments,2):[],"function"==typeof i[t]?i[t].apply(i,e):i[t]},w=function(){var e,t,i,n,o,r,a;for(t=arguments[0],n=2<=arguments.length?K.call(arguments,1):[],r=0,a=n.length;a>r;r++)if(i=n[r])for(e in i)J.call(i,e)&&(o=i[e],null!=t[e]&&"object"==typeof t[e]&&null!=o&&"object"==typeof o?w(t[e],o):t[e]=o);return t},m=function(e){var t,i,n,o,r;for(i=t=0,o=0,r=e.length;r>o;o++)n=e[o],i+=Math.abs(n),t++;return i/t},_=function(e,t){var i,n,o;if(null==e&&(e="options"),null==t&&(t=!0),o=document.querySelector("[data-pace-"+e+"]")){if(i=o.getAttribute("data-pace-"+e),!t)return i;try{return JSON.parse(i)}catch(r){return n=r,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",n):void 0}}},a=function(){function e(){}return e.prototype.on=function(e,t,i,n){var o;return null==n&&(n=!1),null==this.bindings&&(this.bindings={}),null==(o=this.bindings)[e]&&(o[e]=[]),this.bindings[e].push({handler:t,ctx:i,once:n})},e.prototype.once=function(e,t,i){return this.on(e,t,i,!0)},e.prototype.off=function(e,t){var i,n,o;if(null!=(null!=(n=this.bindings)?n[e]:void 0)){if(null==t)return delete this.bindings[e];for(i=0,o=[];i<this.bindings[e].length;)this.bindings[e][i].handler===t?o.push(this.bindings[e].splice(i,1)):o.push(i++);return o}},e.prototype.trigger=function(){var e,t,i,n,o,r,a,s,l;if(i=arguments[0],e=2<=arguments.length?K.call(arguments,1):[],null!=(a=this.bindings)?a[i]:void 0){for(o=0,l=[];o<this.bindings[i].length;)s=this.bindings[i][o],n=s.handler,t=s.ctx,r=s.once,n.apply(null!=t?t:this,e),r?l.push(this.bindings[i].splice(o,1)):l.push(o++);return l}},e}(),null==window.Pace&&(window.Pace={}),w(Pace,a.prototype),$=Pace.options=w({},y,window.paceOptions,_()),B=["ajax","document","eventLag","elements"],V=0,H=B.length;H>V;V++)N=B[V],$[N]===!0&&($[N]=y[N]);l=function(e){function t(){return q=t.__super__.constructor.apply(this,arguments)}return Y(t,e),t}(Error),t=function(){function e(){this.progress=0}return e.prototype.getElement=function(){var e;if(null==this.el){if(e=document.querySelector($.target),!e)throw new l;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=e.firstChild?e.insertBefore(this.el,e.firstChild):e.appendChild(this.el)}return this.el},e.prototype.finish=function(){var e;return e=this.getElement(),e.className=e.className.replace("pace-active",""),e.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},e.prototype.update=function(e){return this.progress=e,this.render()},e.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(e){l=e}return this.el=void 0},e.prototype.render=function(){var e,t;return null==document.querySelector($.target)?!1:(e=this.getElement(),e.children[0].style.width=""+this.progress+"%",(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(e.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?t="99":(t=this.progress<10?"0":"",t+=0|this.progress),e.children[0].setAttribute("data-progress",""+t)),this.lastRenderedProgress=this.progress)},e.prototype.done=function(){return this.progress>=100},e}(),s=function(){function e(){this.bindings={}}return e.prototype.trigger=function(e,t){var i,n,o,r,a;if(null!=this.bindings[e]){for(r=this.bindings[e],a=[],n=0,o=r.length;o>n;n++)i=r[n],a.push(i.call(this,t));return a}},e.prototype.on=function(e,t){var i;return null==(i=this.bindings)[e]&&(i[e]=[]),this.bindings[e].push(t)},e}(),j=window.XMLHttpRequest,G=window.XDomainRequest,L=window.WebSocket,C=function(e,t){var i,n,o,r;r=[];for(n in t.prototype)try{o=t.prototype[n],null==e[n]&&"function"!=typeof o?r.push(e[n]=o):r.push(void 0)}catch(a){i=a}return r},E=[],Pace.ignore=function(){var e,t,i;return t=arguments[0],e=2<=arguments.length?K.call(arguments,1):[],E.unshift("ignore"),i=t.apply(null,e),E.shift(),i},Pace.track=function(){var e,t,i;return t=arguments[0],e=2<=arguments.length?K.call(arguments,1):[],E.unshift("track"),i=t.apply(null,e),E.shift(),i},O=function(e){var t;if(null==e&&(e="GET"),"track"===E[0])return"force";if(!E.length&&$.ajax){if("socket"===e&&$.ajax.trackWebSockets)return!0;if(t=e.toUpperCase(),X.call($.ajax.trackMethods,t)>=0)return!0}return!1},c=function(e){function t(){var e,i=this;t.__super__.constructor.apply(this,arguments),e=function(e){var t;return t=e.open,e.open=function(n,o,r){return O(n)&&i.trigger("request",{type:n,url:o,request:e}),t.apply(e,arguments)}},window.XMLHttpRequest=function(t){var i;return i=new j(t),e(i),i};try{C(window.XMLHttpRequest,j)}catch(n){}if(null!=G){window.XDomainRequest=function(){var t;return t=new G,e(t),t};try{C(window.XDomainRequest,G)}catch(n){}}if(null!=L&&$.ajax.trackWebSockets){window.WebSocket=function(e,t){var n;return n=null!=t?new L(e,t):new L(e),
O("socket")&&i.trigger("request",{type:"socket",url:e,protocols:t,request:n}),n};try{C(window.WebSocket,L)}catch(n){}}}return Y(t,e),t}(s),U=null,x=function(){return null==U&&(U=new c),U},M=function(e){var t,i,n,o;for(o=$.ajax.ignoreURLs,i=0,n=o.length;n>i;i++)if(t=o[i],"string"==typeof t){if(-1!==e.indexOf(t))return!0}else if(t.test(e))return!0;return!1},x().on("request",function(t){var i,n,o,r,a;return r=t.type,o=t.request,a=t.url,M(a)?void 0:Pace.running||$.restartOnRequestAfter===!1&&"force"!==O(r)?void 0:(n=arguments,i=$.restartOnRequestAfter||0,"boolean"==typeof i&&(i=0),setTimeout(function(){var t,i,a,s,l,c;if(t="socket"===r?o.readyState<2:0<(s=o.readyState)&&4>s){for(Pace.restart(),l=Pace.sources,c=[],i=0,a=l.length;a>i;i++){if(N=l[i],N instanceof e){N.watch.apply(N,n);break}c.push(void 0)}return c}},i))}),e=function(){function e(){var e=this;this.elements=[],x().on("request",function(){return e.watch.apply(e,arguments)})}return e.prototype.watch=function(e){var t,i,n,o;return n=e.type,t=e.request,o=e.url,M(o)?void 0:(i="socket"===n?new p(t):new g(t),this.elements.push(i))},e}(),g=function(){function e(e){var t,i,n,o,r,a,s=this;if(this.progress=0,null!=window.ProgressEvent)for(i=null,e.addEventListener("progress",function(e){return e.lengthComputable?s.progress=100*e.loaded/e.total:s.progress=s.progress+(100-s.progress)/2}),a=["load","abort","timeout","error"],n=0,o=a.length;o>n;n++)t=a[n],e.addEventListener(t,function(){return s.progress=100});else r=e.onreadystatechange,e.onreadystatechange=function(){var t;return 0===(t=e.readyState)||4===t?s.progress=100:3===e.readyState&&(s.progress=50),"function"==typeof r?r.apply(null,arguments):void 0}}return e}(),p=function(){function e(e){var t,i,n,o,r=this;for(this.progress=0,o=["error","open"],i=0,n=o.length;n>i;i++)t=o[i],e.addEventListener(t,function(){return r.progress=100})}return e}(),n=function(){function e(e){var t,i,n,r;for(null==e&&(e={}),this.elements=[],null==e.selectors&&(e.selectors=[]),r=e.selectors,i=0,n=r.length;n>i;i++)t=r[i],this.elements.push(new o(t))}return e}(),o=function(){function e(e){this.selector=e,this.progress=0,this.check()}return e.prototype.check=function(){var e=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return e.check()},$.elements.checkInterval)},e.prototype.done=function(){return this.progress=100},e}(),i=function(){function e(){var e,t,i=this;this.progress=null!=(t=this.states[document.readyState])?t:100,e=document.onreadystatechange,document.onreadystatechange=function(){return null!=i.states[document.readyState]&&(i.progress=i.states[document.readyState]),"function"==typeof e?e.apply(null,arguments):void 0}}return e.prototype.states={loading:0,interactive:50,complete:100},e}(),r=function(){function e(){var e,t,i,n,o,r=this;this.progress=0,e=0,o=[],n=0,i=A(),t=setInterval(function(){var a;return a=A()-i-50,i=A(),o.push(a),o.length>$.eventLag.sampleCount&&o.shift(),e=m(o),++n>=$.eventLag.minSamples&&e<$.eventLag.lagThreshold?(r.progress=100,clearInterval(t)):r.progress=100*(3/(e+3))},50)}return e}(),u=function(){function e(e){this.source=e,this.last=this.sinceLastUpdate=0,this.rate=$.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=D(this.source,"progress"))}return e.prototype.tick=function(e,t){var i;return null==t&&(t=D(this.source,"progress")),t>=100&&(this.done=!0),t===this.last?this.sinceLastUpdate+=e:(this.sinceLastUpdate&&(this.rate=(t-this.last)/this.sinceLastUpdate),this.catchup=(t-this.progress)/$.catchupTime,this.sinceLastUpdate=0,this.last=t),t>this.progress&&(this.progress+=this.catchup*e),i=1-Math.pow(this.progress/100,$.easeFactor),this.progress+=i*this.rate*e,this.progress=Math.min(this.lastProgress+$.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},e}(),I=null,R=null,h=null,F=null,f=null,v=null,Pace.running=!1,S=function(){return $.restartOnPushState?Pace.restart():void 0},null!=window.history.pushState&&(z=window.history.pushState,window.history.pushState=function(){return S(),z.apply(window.history,arguments)}),null!=window.history.replaceState&&(W=window.history.replaceState,window.history.replaceState=function(){return S(),W.apply(window.history,arguments)}),d={ajax:e,elements:n,document:i,eventLag:r},(k=function(){var e,i,n,o,r,a,s,l;for(Pace.sources=I=[],a=["ajax","elements","document","eventLag"],i=0,o=a.length;o>i;i++)e=a[i],$[e]!==!1&&I.push(new d[e]($[e]));for(l=null!=(s=$.extraSources)?s:[],n=0,r=l.length;r>n;n++)N=l[n],I.push(new N($));return Pace.bar=h=new t,R=[],F=new u})(),Pace.stop=function(){return Pace.trigger("stop"),Pace.running=!1,h.destroy(),v=!0,null!=f&&("function"==typeof b&&b(f),f=null),k()},Pace.restart=function(){return Pace.trigger("restart"),Pace.stop(),Pace.start()},Pace.go=function(){var e;return Pace.running=!0,h.render(),e=A(),v=!1,f=P(function(t,i){var n,o,r,a,s,l,c,d,p,g,f,m,b,y,w,C;for(d=100-h.progress,o=f=0,r=!0,l=m=0,y=I.length;y>m;l=++m)for(N=I[l],g=null!=R[l]?R[l]:R[l]=[],s=null!=(C=N.elements)?C:[N],c=b=0,w=s.length;w>b;c=++b)a=s[c],p=null!=g[c]?g[c]:g[c]=new u(a),r&=p.done,p.done||(o++,f+=p.tick(t));return n=f/o,h.update(F.tick(t,n)),h.done()||r||v?(h.update(100),Pace.trigger("done"),setTimeout(function(){return h.finish(),Pace.running=!1,Pace.trigger("hide")},Math.max($.ghostTime,Math.max($.minTime-(A()-e),0)))):i()})},Pace.start=function(e){w($,e),Pace.running=!0;try{h.render()}catch(t){l=t}return document.querySelector(".pace")?(Pace.trigger("start"),Pace.go()):setTimeout(Pace.start,50)},"function"==typeof define&&define.amd?define(function(){return Pace}):"object"==typeof exports?module.exports=Pace:$.startOnPageLoad&&Pace.start()}.call(this),!function(e,t,i){var n=e.jQuery||e.Zepto||e.ender||e.elo;"undefined"!=typeof module&&module.exports?module.exports=i(n):e[t]=i(n)}(this,"Response",function(e){function t(e){return e===+e}function i(e,t){return function(){return e.apply(t,arguments)}}function n(e,t){var i=this.call();return i>=(e||0)&&(!t||t>=i)}function o(e,t,i){for(var n=[],o=e.length,r=0;o>r;)n[r]=t.call(i,e[r],r++,e);return n}function r(e){return e?l("string"==typeof e?e.split(" "):e):[]}function a(e,t,i){if(null==e)return e;for(var n=e.length,o=0;n>o;)t.call(i||e[o],e[o],o++,e);return e}function s(e,t,i){null==t&&(t=""),null==i&&(i="");for(var n=[],o=e.length,r=0;o>r;r++)null==e[r]||n.push(t+e[r]+i);return n}function l(e,t,i){var n,o,r,a=[],s=0,l=0,c="function"==typeof t,d=!0===i;for(o=e&&e.length,i=d?null:i;o>l;l++)r=e[l],n=c?!t.call(i,r,l,e):t?typeof r!==t:!r,n===d&&(a[s++]=r);return a}function c(e,i){if(null==e||null==i)return e;if("object"==typeof i&&t(i.length))Z.apply(e,l(i,"undefined",!0));else for(var n in i)ie.call(i,n)&&void 0!==i[n]&&(e[n]=i[n]);return e}function d(e,i,n){return null==e?e:("object"==typeof e&&!e.nodeType&&t(e.length)?a(e,i,n):i.call(n||e,e),e)}function u(e){var t=B.devicePixelRatio;return null==e?t||(u(2)?2:u(1.5)?1.5:u(1)?1:0):isFinite(e)?t&&t>0?t>=e:(e="only all and (min--moz-device-pixel-ratio:"+e+")",Ee(e)?!0:Ee(e.replace("-moz-",""))):!1}function p(e){return e.replace(ye,"$1").replace(be,function(e,t){return t.toUpperCase()})}function g(e){return"data-"+(e?e.replace(ye,"$1").replace(ve,"$1-$2").toLowerCase():e)}function f(e){var t;return"string"==typeof e&&e?"false"===e?!1:"true"===e?!0:"null"===e?null:"undefined"===e||(t=+e)||0===t||"NaN"===e?t:e:e}function m(e){return!e||e.nodeType?e:e[0]}function h(e,t,i){var n,o,r,a,s;if(e.attributes)for(n="boolean"==typeof i?/^data-/:n,a=0,s=e.attributes.length;s>a;)(r=e.attributes[a++])&&(o=""+r.name,n&&n.test(o)!==i||null==r.value||t.call(e,r.value,o,r))}function v(e){var t;if(e&&1===e.nodeType)return(t=Y&&e.dataset)?t:(t={},h(e,function(e,i){t[p(i)]=""+e},!0),t)}function b(e,t,i){for(var n in t)ie.call(t,n)&&i(e,n,t[n])}function y(e,t,i){if(e=m(e),e&&e.setAttribute){if(void 0===t&&i===t)return v(e);var n=ne(t)&&g(t[0]);if("object"!=typeof t||n){if(t=n||g(t),!t)return;return void 0===i?(t=e.getAttribute(t),null==t?i:n?f(t):""+t):(e.setAttribute(t,i=""+i),i)}t&&b(e,t,y)}}function w(e,t){t=r(t),d(e,function(e){a(t,function(t){e.removeAttribute(g(t))})})}function C(e){for(var t,i=[],n=0,o=e.length;o>n;)(t=e[n++])&&i.push("["+g(t.replace(he,"").replace(".","\\."))+"]");return i.join()}function _(t){return e(C(r(t)))}function x(){return window.pageXOffset||W.scrollLeft}function S(){return window.pageYOffset||W.scrollTop}function E(e,t){var i=e.getBoundingClientRect?e.getBoundingClientRect():{};return t="number"==typeof t?t||0:0,{top:(i.top||0)-t,left:(i.left||0)-t,bottom:(i.bottom||0)+t,right:(i.right||0)+t}}function k(e,t){var i=E(m(e),t);return!!i&&i.right>=0&&i.left<=ke()}function A(e,t){var i=E(m(e),t);return!!i&&i.bottom>=0&&i.top<=Ae()}function $(e,t){var i=E(m(e),t);return!!i&&i.bottom>=0&&i.top<=Ae()&&i.right>=0&&i.left<=ke()}function T(e){var t={img:1,input:1,source:3,embed:3,track:3,iframe:5,audio:5,video:5,script:5},i=t[e.nodeName.toLowerCase()]||-1;return 4>i?i:null!=e.getAttribute("src")?5:-5}function D(e,t,i){var n;if(!e||null==t)throw new TypeError("@store");return i="string"==typeof i&&i,d(e,function(e){n=i?e.getAttribute(i):0<T(e)?e.getAttribute("src"):e.innerHTML,null==n?w(e,t):y(e,t,n)}),G}function P(e,t){var i=[];return e&&t&&a(r(t),function(t){i.push(y(e,t))},e),i}function R(e,t){return"string"==typeof e&&"function"==typeof t&&(re[e]=t,ae[e]=1),G}function M(e){return J.on("resize",e),G}function O(e,t){var i,n,o=_e.crossover;return"function"==typeof e&&(i=t,t=e,e=i),n=e?""+e+o:o,J.on(n,t),G}function N(e){return d(e,function(e){K(e),M(e)}),G}function I(e){return d(e,function(e){if("object"!=typeof e)throw new TypeError("@create");var t,i=we(j).configure(e),n=i.verge,o=i.breakpoints,r=Ce("scroll"),s=Ce("resize");o.length&&(t=o[0]||o[1]||!1,K(function(){function e(){i.reset(),a(i.$e,function(e,t){i[t].decideValue().updateDOM()}).trigger(l)}function o(){a(i.$e,function(e,t){$(i[t].$e,n)&&i[t].updateDOM()})}var l=_e.allLoaded,c=!!i.lazy;a(i.target().$e,function(e,t){i[t]=we(i).prepareData(e),c&&!$(i[t].$e,n)||i[t].updateDOM()}),i.dynamic&&(i.custom||ue>t)&&M(e,s),c&&(J.on(r,o),i.$e.one(l,function(){J.off(r,o)}))}))}),G}function F(e){return V[U]===G&&(V[U]=H),"function"==typeof e&&e.call(V,G),G}if("function"!=typeof e)try{return void console.warn("response.js aborted due to missing dependency")}catch(L){}var G,j,V=this,U="Response",H=V[U],z="init"+U,B=window,q=document,W=q.documentElement,K=e.domReady||e,J=e(B),Y="undefined"!=typeof DOMStringMap,X=Array.prototype,Q=Object.prototype,Z=X.push,ee=X.concat,te=Q.toString,ie=Q.hasOwnProperty,ne=Array.isArray||function(e){return"[object Array]"===te.call(e)},oe={width:[0,320,481,641,961,1025,1281],height:[0,481],ratio:[1,1.5,2]},re={},ae={},se={all:[]},le=1,ce=screen.width,de=screen.height,ue=ce>de?ce:de,pe=ce+de-ue,ge=function(){return ce},fe=function(){return de},me=/[^a-z0-9_\-\.]/gi,he=/^[\W\s]+|[\W\s]+$|/g,ve=/([a-z])([A-Z])/g,be=/-(.)/g,ye=/^data-(.+)$/,we=Object.create||function(e){function t(){}return t.prototype=e,new t},Ce=function(e,t){return t=t||U,e.replace(he,"")+"."+t.replace(he,"")},_e={allLoaded:Ce("allLoaded"),crossover:Ce("crossover")},xe=B.matchMedia||B.msMatchMedia,Se=xe?i(xe,B):function(){return{}},Ee=xe?function(e){return!!xe.call(B,e).matches}:function(){return!1},ke=function(){var e=W.clientWidth,t=B.innerWidth;return t>e?t:e},Ae=function(){var e=W.clientHeight,t=B.innerHeight;return t>e?t:e},$e=i(n,ke),Te=i(n,Ae),De={band:i(n,ge),wave:i(n,fe)};return j=function(){function t(e){return"string"==typeof e?e.toLowerCase().replace(me,""):""}function i(e,t){return e-t}var n=_e.crossover,d=Math.min;return{$e:0,mode:0,breakpoints:null,prefix:null,prop:"width",keys:[],dynamic:null,custom:0,values:[],fn:0,verge:null,newValue:0,currValue:1,aka:null,lazy:null,i:0,uid:null,reset:function(){for(var e=this.breakpoints,t=e.length,i=0;!i&&t--;)this.fn(e[t])&&(i=t);return i!==this.i&&(J.trigger(n).trigger(this.prop+n),this.i=i||0),this},configure:function(e){c(this,e);var n,u,p,g,f,m=!0,h=this.prop;if(this.uid=le++,null==this.verge&&(this.verge=d(ue,500)),!(this.fn=re[h]))throw new TypeError("@create");if(null==this.dynamic&&(this.dynamic="device"!==h.slice(0,6)),this.custom=ae[h],p=this.prefix?l(o(r(this.prefix),t)):["min-"+h+"-"],g=1<p.length?p.slice(1):0,this.prefix=p[0],u=this.breakpoints,ne(u)){if(a(u,function(e){if(!e&&0!==e)throw"invalid breakpoint";m=m&&isFinite(e)}),m&&u.sort(i),!u.length)throw new TypeError(".breakpoints")}else if(u=oe[h]||oe[h.split("-").pop()],!u)throw new TypeError(".prop");if(this.breakpoints=u,this.keys=s(this.breakpoints,this.prefix),this.aka=null,g){for(f=[],n=g.length;n--;)f.push(s(this.breakpoints,g[n]));this.aka=f,this.keys=ee.apply(this.keys,f)}return se.all=se.all.concat(se[this.uid]=this.keys),this},target:function(){return this.$e=e(C(se[this.uid])),D(this.$e,z),this.keys.push(z),this},decideValue:function(){for(var e=null,t=this.breakpoints,i=t.length,n=i;null==e&&n--;)this.fn(t[n])&&(e=this.values[n]);return this.newValue="string"==typeof e?e:this.values[i],this},prepareData:function(t){if(this.$e=e(t),this.mode=T(t),this.values=P(this.$e,this.keys),this.aka)for(var i=this.aka.length;i--;)this.values=c(this.values,P(this.$e,this.aka[i]));return this.decideValue()},updateDOM:function(){return this.currValue===this.newValue?this:(this.currValue=this.newValue,0<this.mode?this.$e[0].setAttribute("src",this.newValue):null==this.newValue?this.$e.empty&&this.$e.empty():this.$e.html?this.$e.html(this.newValue):(this.$e.empty&&this.$e.empty(),this.$e[0].innerHTML=this.newValue),this)}}}(),re.width=$e,re.height=Te,re["device-width"]=De.band,re["device-height"]=De.wave,re["device-pixel-ratio"]=u,G={deviceMin:function(){return pe},deviceMax:function(){return ue},noConflict:F,create:I,addTest:R,datatize:g,camelize:p,render:f,store:D,access:P,target:_,object:we,crossover:O,action:N,resize:M,ready:K,affix:s,sift:l,dpr:u,deletes:w,scrollX:x,scrollY:S,deviceW:ge,deviceH:fe,device:De,inX:k,inY:A,route:d,merge:c,media:Se,mq:Ee,wave:Te,band:$e,map:o,each:a,inViewport:$,dataset:y,viewportH:Ae,viewportW:ke},K(function(){var t=y(q.body,"responsejs"),i=B.JSON&&JSON.parse||e.parseJSON;t=t&&i?i(t):t,t&&t.create&&I(t.create),W.className=W.className.replace(/(^|\s)(no-)?responsejs(\s|$)/,"$1$3")+" responsejs "}),G}),function(){"use strict";angular.module("ui.grid.i18n",[]),angular.module("ui.grid",["ui.grid.i18n"])}(),function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:!0,LOG_WARN_MESSAGES:!0,LOG_ERROR_MESSAGES:!0,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,TOOLTIP:/title=\"TOOLTIP\"/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CAPSLOCK:20,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512,SELECT:"select",INPUT:"input"},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["","$","","$","","","","","","",""],scrollDirection:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1}})}(),angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(e,t,i,n){var o={priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(t,o,r,a){function s(){var e=t.col.compiledElementFn;e(t,function(e,t){o.append(e)})}if(a&&t.col.compiledElementFn)s();else if(a&&!t.col.compiledElementFn)t.col.getCompiledElementFn().then(function(e){e(t,function(e,t){o.append(e)})});else{var l=t.col.cellTemplate.replace(n.MODEL_COL_FIELD,"row.entity."+i.preEval(t.col.field)).replace(n.COL_FIELD,"grid.getCellValue(row, col)"),c=e(l)(t);o.append(c)}},post:function(e,t,i,o){var r=e.col.getColClass(!1);t.addClass(r);var a,s=function(i){var n=t;a&&(n.removeClass(a),a=null),a=angular.isFunction(e.col.cellClass)?e.col.cellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.cellClass,n.addClass(a)};e.col.cellClass&&s();var l=e.grid.registerDataChangeCallback(s,[n.dataChange.COLUMN,n.dataChange.EDIT]),c=function(i,n){if(i!==n){(a||e.col.cellClass)&&s();var o=e.col.getColClass(!1);o!==r&&(t.removeClass(r),t.addClass(o),r=o)}},d=e.$watch("row",c),u=function(){l(),d()};e.$on("$destroy",u),t.on("$destroy",u)}}}};return o}]),function(){angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(e,t,i){var n={initialize:function(e,t){e.grid=t.grid,t.columnMenuScope=e,e.menuShown=!1},setColMenuItemWatch:function(e){var t=e.$watch("col.menuItems",function(t,i){"undefined"!=typeof t&&t&&angular.isArray(t)?(t.forEach(function(t){"undefined"!=typeof t.context&&t.context||(t.context={}),t.context.col=e.col}),e.menuItems=e.defaultMenuItems.concat(t)):e.menuItems=e.defaultMenuItems});e.$on("$destroy",t)},sortable:function(e){return!!(e.grid.options.enableSorting&&"undefined"!=typeof e.col&&e.col&&e.col.enableSorting)},isActiveSort:function(e,t){return"undefined"!=typeof e.col&&"undefined"!=typeof e.col.sort&&"undefined"!=typeof e.col.sort.direction&&e.col.sort.direction===t},suppressRemoveSort:function(e){return!(!e.col||!e.col.suppressRemoveSort)},hideable:function(e){return"undefined"==typeof e.col||!e.col||!e.col.colDef||e.col.colDef.enableHiding!==!1},getDefaultMenuItems:function(i){return[{title:e.getSafeText("sort.ascending"),icon:"ui-grid-icon-sort-alt-up",action:function(e){e.stopPropagation(),i.sortColumn(e,t.ASC)},shown:function(){return n.sortable(i)},active:function(){return n.isActiveSort(i,t.ASC)}},{title:e.getSafeText("sort.descending"),icon:"ui-grid-icon-sort-alt-down",action:function(e){e.stopPropagation(),i.sortColumn(e,t.DESC)},shown:function(){return n.sortable(i)},active:function(){return n.isActiveSort(i,t.DESC)}},{title:e.getSafeText("sort.remove"),icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),i.unsortColumn()},shown:function(){return n.sortable(i)&&"undefined"!=typeof i.col&&"undefined"!=typeof i.col.sort&&"undefined"!=typeof i.col.sort.direction&&null!==i.col.sort.direction&&!n.suppressRemoveSort(i)}},{title:e.getSafeText("column.hide"),icon:"ui-grid-icon-cancel",shown:function(){return n.hideable(i)},action:function(e){e.stopPropagation(),i.hideColumn()}}]},getColumnElementPosition:function(e,t,n){var o={};return o.left=n[0].offsetLeft,o.top=n[0].offsetTop,o.parentLeft=n[0].offsetParent.offsetLeft,o.offset=0,t.grid.options.offsetLeft&&(o.offset=t.grid.options.offsetLeft),o.height=i.elementHeight(n,!0),o.width=i.elementWidth(n,!0),o},repositionMenu:function(e,t,n,o,r){var a=o[0].querySelectorAll(".ui-grid-menu"),s=t.renderContainer?t.renderContainer:"body",l=(t.grid.renderContainers[s],i.closestElm(r,".ui-grid-render-container")),c=l.getBoundingClientRect().left-e.grid.element[0].getBoundingClientRect().left,d=l.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,u=t.lastMenuWidth?t.lastMenuWidth:e.lastMenuWidth?e.lastMenuWidth:170,p=t.lastMenuPaddingRight?t.lastMenuPaddingRight:e.lastMenuPaddingRight?e.lastMenuPaddingRight:10;if(0!==a.length){var g=a[0].querySelectorAll(".ui-grid-menu-mid");0===g.length||angular.element(g).hasClass("ng-hide")||(u=i.elementWidth(a,!0),e.lastMenuWidth=u,t.lastMenuWidth=u,p=parseInt(i.getStyles(angular.element(a)[0]).paddingRight,10),e.lastMenuPaddingRight=p,t.lastMenuPaddingRight=p)}var f=n.left+c-d+n.parentLeft+n.width-u+p;f<n.offset&&(f=n.offset),o.css("left",f+"px"),o.css("top",n.top+n.height+"px")}};return n}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService",function(e,t,i,n){var o={priority:0,scope:!0,require:"?^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(t,o,r,a){var s=this;n.initialize(t,a),t.defaultMenuItems=n.getDefaultMenuItems(t),t.menuItems=t.defaultMenuItems,n.setColMenuItemWatch(t),t.showMenu=function(e,i,r){t.col=e;var a=n.getColumnElementPosition(t,e,i);t.menuShown?(t.colElement=i,t.colElementPosition=a,t.hideThenShow=!0,t.$broadcast("hide-menu",{originalEvent:r})):(s.shown=t.menuShown=!0,n.repositionMenu(t,e,a,o,i),t.colElement=i,t.colElementPosition=a,t.$broadcast("show-menu",{originalEvent:r}))},t.hideMenu=function(e){t.menuShown=!1,e||t.$broadcast("hide-menu")},t.$on("menu-hidden",function(){t.hideThenShow?(delete t.hideThenShow,n.repositionMenu(t,t.col,t.colElementPosition,o,t.colElement),t.$broadcast("show-menu"),t.menuShown=!0):t.hideMenu(!0)}),t.$on("menu-shown",function(){e(function(){n.repositionMenu(t,t.col,t.colElementPosition,o,t.colElement),delete t.colElementPosition,delete t.columnElement},200)}),t.sortColumn=function(e,i){e.stopPropagation(),t.grid.sortColumn(t.col,i,!0).then(function(){t.grid.refresh(),t.hideMenu()})},t.unsortColumn=function(){t.col.unsort(),t.grid.refresh(),t.hideMenu()},t.hideColumn=function(){t.col.colDef.visible=!1,t.col.visible=!1,t.grid.queueGridRefresh(),t.hideMenu(),t.grid.api.core.notifyDataChange(i.dataChange.COLUMN),t.grid.api.core.raise.columnVisibilityChanged(t.col)}},controller:["$scope",function(e){var t=this;e.$watch("menuItems",function(e,i){t.menuItems=e})}]};return o}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFilter",["$compile","$templateCache",function(e,t){return{compile:function(){return{pre:function(t,i,n,o){t.col.updateFilters=function(n){if(i.children().remove(),n){var o=t.col.filterHeaderTemplate;i.append(e(o)(t))}},t.$on("$destroy",function(){delete t.col.updateFilters})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function(e,t,i,n){var o={priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(e,t,o){return{pre:function(e,t,i,o){var r=n(e.col.footerCellTemplate)(e);t.append(r)},post:function(e,t,n,o){e.grid=o.grid;var r=e.col.getColClass(!1);t.addClass(r);var a,s=function(i){var n=t;a&&(n.removeClass(a),a=null),a=angular.isFunction(e.col.footerCellClass)?e.col.footerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.footerCellClass,n.addClass(a)};e.col.footerCellClass&&s(),e.col.updateAggregationValue();var l=e.grid.registerDataChangeCallback(s,[i.dataChange.COLUMN]);e.grid.api.core.on.rowsRendered(e,e.col.updateAggregationValue),e.$on("$destroy",l)}}}};return o}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,i,n,o){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(e,i){return{pre:function(e,i,o,r){var a=r[0],s=r[1];e.grid=a.grid,e.colContainer=s.colContainer,s.footer=i;var l=e.grid.options.footerTemplate;n.getTemplate(l).then(function(n){var o=angular.element(n),r=t(o)(e);if(i.append(r),s){var a=i[0].getElementsByClassName("ui-grid-footer-viewport")[0];a&&(s.footerViewport=a)}})},post:function(e,t,i,o){var r=o[0],a=o[1];r.grid;n.disableAnimations(t),a.footer=t;var s=t[0].getElementsByClassName("ui-grid-footer-viewport")[0];s&&(a.footerViewport=s)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,i,n,o){return{restrict:"EA",replace:!0,require:"^uiGrid",scope:!0,compile:function(e,i){return{pre:function(e,i,o,r){e.grid=r.grid;var a=e.grid.options.gridFooterTemplate;n.getTemplate(a).then(function(n){var o=angular.element(n),r=t(o)(e);i.append(r)})},post:function(e,t,i,n){}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGroupPanel",["$compile","uiGridConstants","gridUtil",function(e,t,i){var n="ui-grid/ui-grid-group-panel";return{restrict:"EA",replace:!0,require:"?^uiGrid",scope:!1,compile:function(t,o){return{pre:function(t,o,r,a){var s=t.grid.options.groupPanelTemplate||n;i.getTemplate(s).then(function(i){var n=angular.element(i),r=e(n)(t);o.append(r)})},post:function(e,t,i,n){t.bind("$destroy",function(){})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent",function(e,t,i,n,o,r,a){var s=500,l=500,c={priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["?^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function(t,i,n){var o=e(t.col.headerCellTemplate)(t);i.append(o)},post:function(e,i,o,a){var c=a[0],d=a[1];e.grid=c.grid,e.renderContainer=c.grid.renderContainers[d.containerId];var u=e.col.getColClass(!1);i.addClass(u),e.menuShown=!1,e.asc=r.ASC,e.desc=r.DESC;var p,g,f=(angular.element(i[0].querySelectorAll(".ui-grid-header-cell-menu")),angular.element(i[0].querySelectorAll(".ui-grid-cell-contents"))),m=[];e.downFn=function(o){o.stopPropagation(),"undefined"!=typeof o.originalEvent&&void 0!==o.originalEvent&&(o=o.originalEvent),o.button&&0!==o.button||(g=o.pageX,e.mousedownStartTime=(new Date).getTime(),e.mousedownTimeout=t(function(){},s),e.mousedownTimeout.then(function(){e.colMenu&&c.columnMenuScope.showMenu(e.col,i,o)}),c.fireEvent(r.events.COLUMN_HEADER_CLICK,{event:o,columnName:e.col.colDef.name}),e.offAllEvents(),"touchstart"===o.type?(n.on("touchend",e.upFn),n.on("touchmove",e.moveFn)):"mousedown"===o.type&&(n.on("mouseup",e.upFn),n.on("mousemove",e.moveFn)))},e.upFn=function(i){i.stopPropagation(),t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(i.type);var n=(new Date).getTime(),o=n-e.mousedownStartTime;o>s||e.sortable&&e.handleClick(i)},e.moveFn=function(i){var n=i.pageX-g;0!==n&&(t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(i.type))},e.clickFn=function(t){t.stopPropagation(),f.off("click",e.clickFn)},e.offAllEvents=function(){f.off("touchstart",e.downFn),f.off("mousedown",e.downFn),n.off("touchend",e.upFn),n.off("mouseup",e.upFn),n.off("touchmove",e.moveFn),n.off("mousemove",e.moveFn),f.off("click",e.clickFn)},e.onDownEvents=function(i){switch(i){case"touchmove":case"touchend":f.on("click",e.clickFn),f.on("touchstart",e.downFn),t(function(){f.on("mousedown",e.downFn)},l);break;case"mousemove":case"mouseup":f.on("click",e.clickFn),f.on("mousedown",e.downFn),t(function(){f.on("touchstart",e.downFn)},l);break;default:f.on("click",e.clickFn),f.on("touchstart",e.downFn),f.on("mousedown",e.downFn)}};var h=function(t){var n=i;p&&(n.removeClass(p),p=null),p=angular.isFunction(e.col.headerCellClass)?e.col.headerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.headerCellClass,n.addClass(p);var o=e.grid.renderContainers.right?e.grid.renderContainers.right:e.grid.renderContainers.body;e.isLastCol=e.col===o.visibleColumnCache[o.visibleColumnCache.length-1],c.grid.options.enableSorting&&e.col.enableSorting?e.sortable=!0:e.sortable=!1;var a=e.filterable;c.grid.options.enableFiltering&&e.col.enableFiltering?e.filterable=!0:e.filterable=!1,a!==e.filterable&&("undefined"!=typeof e.col.updateFilters&&e.col.updateFilters(e.filterable),e.filterable?(e.col.filters.forEach(function(t,i){m.push(e.$watch("col.filters["+i+"].term",function(e,t){e!==t&&(c.grid.api.core.raise.filterChanged(),c.grid.api.core.notifyDataChange(r.dataChange.COLUMN),c.grid.queueGridRefresh())}))}),e.$on("$destroy",function(){m.forEach(function(e){e()})})):m.forEach(function(e){e()})),e.col.grid.options&&e.col.grid.options.enableColumnMenus!==!1&&e.col.colDef&&e.col.colDef.enableColumnMenu!==!1?e.colMenu=!0:e.colMenu=!1,e.offAllEvents(),(e.sortable||e.colMenu)&&(e.onDownEvents(),e.$on("$destroy",function(){e.offAllEvents()}))};h();var v=e.grid.registerDataChangeCallback(h,[r.dataChange.COLUMN]);e.$on("$destroy",v),e.handleClick=function(t){var i=!1;t.shiftKey&&(i=!0),c.grid.sortColumn(e.col,i).then(function(){c.columnMenuScope&&c.columnMenuScope.hideMenu(),c.grid.refresh()})},e.toggleMenu=function(t){t.stopPropagation(),c.columnMenuScope.menuShown&&c.columnMenuScope.col===e.col?c.columnMenuScope.hideMenu():c.columnMenuScope.showMenu(e.col,i)}}}}};return c}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout","ScrollEvent",function(e,t,i,n,o,r){var a="ui-grid/ui-grid-header",s="ui-grid/ui-grid-no-header";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(e,i){return{pre:function(e,i,o,l){function c(){p.header=p.colContainer.header=i;var e=i[0].getElementsByClassName("ui-grid-header-canvas");e.length>0?p.headerCanvas=p.colContainer.headerCanvas=e[0]:p.headerCanvas=null}function d(e){if(!u.grid.isScrollingHorizontally){var t=n.normalizeScrollLeft(p.headerViewport,u.grid),i=p.colContainer.scrollHorizontal(t),o=new r(u.grid,null,p.colContainer,r.Sources.ViewPortScroll);o.newScrollLeft=t,i>-1&&(o.x={percentage:i}),u.grid.scrollContainers(null,o)}}var u=l[0],p=l[1];e.grid=u.grid,e.colContainer=p.colContainer,c();var g;g=e.grid.options.showHeader?e.grid.options.headerTemplate?e.grid.options.headerTemplate:a:s,n.getTemplate(g).then(function(n){var o=angular.element(n),r=t(o)(e);if(i.replaceWith(r),i=r,c(),p){var a=i[0].getElementsByClassName("ui-grid-header-viewport")[0];a&&(p.headerViewport=a,angular.element(a).on("scroll",d),e.$on("$destroy",function(){angular.element(a).off("scroll",d)}))}e.grid.queueRefresh()})},post:function(e,t,i,o){function r(){var e=s.colContainer.visibleColumnCache,t="",i=0;return e.forEach(function(e){t+=e.getColClassDefinition(),i+=e.drawnWidth}),s.colContainer.canvasWidth=i,t}var a=o[0],s=o[1];a.grid;n.disableAnimations(t),s.header=t;var l=t[0].getElementsByClassName("ui-grid-header-viewport")[0];l&&(s.headerViewport=l),a&&a.grid.registerStyleComputation({priority:15,func:r})}}}}}])}(),function(){angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(e,t,i){var n={initialize:function(e,t){t.gridMenuScope=e,e.grid=t,e.registeredMenuItems=[],e.$on("$destroy",function(){e.grid&&e.grid.gridMenuScope&&(e.grid.gridMenuScope=null),e.grid&&(e.grid=null),e.registeredMenuItems&&(e.registeredMenuItems=null)}),e.registeredMenuItems=[],t.api.registerMethod("core","addToGridMenu",n.addToGridMenu),t.api.registerMethod("core","removeFromGridMenu",n.removeFromGridMenu)},addToGridMenu:function(t,i){angular.isArray(i)?t.gridMenuScope?(t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems?t.gridMenuScope.registeredMenuItems:[],t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems.concat(i)):e.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid"):e.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(t,i){var n=-1;t&&t.gridMenuScope&&t.gridMenuScope.registeredMenuItems.forEach(function(t,o){t.id===i&&(n>-1?e.logError("removeFromGridMenu: found multiple items with the same id, removing only the last"):n=o)}),n>-1&&t.gridMenuScope.registeredMenuItems.splice(n,1)},getMenuItems:function(t){var i=[];return t.grid.options.gridMenuCustomItems&&(angular.isArray(t.grid.options.gridMenuCustomItems)?i=i.concat(t.grid.options.gridMenuCustomItems):e.logError("gridOptions.gridMenuCustomItems must be an array, and is not")),
i=i.concat(t.registeredMenuItems),t.grid.options.gridMenuShowHideColumns!==!1&&(i=i.concat(n.showHideColumns(t))),i.sort(function(e,t){return e.order-t.order}),i},showHideColumns:function(e){var i=[];return e.grid.options.columnDefs&&0!==e.grid.options.columnDefs.length&&0!==e.grid.columns.length?(i.push({title:t.getSafeText("gridMenu.columns"),order:300}),e.grid.options.gridMenuTitleFilter=e.grid.options.gridMenuTitleFilter?e.grid.options.gridMenuTitleFilter:function(e){return e},e.grid.options.columnDefs.forEach(function(t,o){if(t.enableHiding!==!1){var r={icon:"ui-grid-icon-ok",action:function(e){e.stopPropagation(),n.toggleColumnVisibility(this.context.gridCol)},shown:function(){return this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*o};n.setMenuItemTitle(r,t,e.grid),i.push(r),r={icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),n.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!(this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible)},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*o+1},n.setMenuItemTitle(r,t,e.grid),i.push(r)}}),i):i},setMenuItemTitle:function(t,i,n){var o=n.options.gridMenuTitleFilter(i.displayName||i.name||i.field);"string"==typeof o?t.title=o:o.then?(t.title="",o.then(function(e){t.title=e},function(e){t.title=e})):(e.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),t.title="badconfig")},toggleColumnVisibility:function(e){e.colDef.visible=!(e.colDef.visible===!0||void 0===e.colDef.visible),e.grid.refresh(),e.grid.api.core.notifyDataChange(i.dataChange.COLUMN),e.grid.api.core.raise.columnVisibilityChanged(e)}};return n}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService",function(e,t,i){return{priority:0,scope:!0,require:["?^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function(e,t,n,o){var r=o[0];i.initialize(e,r.grid),e.shown=!1,e.toggleMenu=function(){e.shown?(e.$broadcast("hide-menu"),e.shown=!1):(e.menuItems=i.getMenuItems(e),e.$broadcast("show-menu"),e.shown=!0)},e.$on("menu-hidden",function(){e.shown=!1})}}}])}(),function(){angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants",function(e,t,i,n,o,r){var a={priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(e,n,o,a){var s=this;s.showMenu=e.showMenu=function(i,n){e.shown?e.shownMid||(e.shownMid=!0,e.$emit("menu-shown")):(e.shown=!0,t(function(){e.shownMid=!0,e.$emit("menu-shown")}));var o="click";n&&n.originalEvent&&n.originalEvent.type&&"touchstart"===n.originalEvent.type&&(o=n.originalEvent.type),angular.element(document).off("click touchstart",l),t(function(){angular.element(document).on(o,l)})},s.hideMenu=e.hideMenu=function(i,n){e.shown&&(e.shownMid=!1,t(function(){e.shownMid||(e.shown=!1,e.$emit("menu-hidden"))},200)),angular.element(document).off("click touchstart",l)},e.$on("hide-menu",function(t,i){e.hideMenu(t,i)}),e.$on("show-menu",function(t,i){e.showMenu(t,i)});var l=function(){e.shown&&e.$apply(function(){e.hideMenu()})};"undefined"!=typeof e.autoHide&&void 0!==e.autoHide||(e.autoHide=!0),e.autoHide&&angular.element(i).on("resize",l),e.$on("$destroy",function(){angular.element(document).off("click touchstart",l)}),e.$on("$destroy",function(){angular.element(i).off("resize",l)}),a&&e.$on("$destroy",a.grid.api.core.on.scrollBegin(e,l)),e.$on("$destroy",e.$on(r.events.ITEM_DRAGGING,l))},controller:["$scope","$element","$attrs",function(e,t,i){}]};return a}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(e,t,i){var n={priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"=",leaveOpen:"="},require:["?^uiGrid","^uiGridMenu"],templateUrl:"ui-grid/uiGridMenuItem",replace:!0,compile:function(n,o){return{pre:function(i,n,o,r){r[0],r[1];i.templateUrl&&e.getTemplate(i.templateUrl).then(function(e){var o=angular.element(e),r=t(o)(i);n.replaceWith(r)})},post:function(e,t,n,o){var r=o[0];o[1];"undefined"!=typeof e.shown&&null!==e.shown||(e.shown=function(){return!0}),e.itemShown=function(){var t={};return e.context&&(t.context=e.context),"undefined"!=typeof r&&r&&(t.grid=r.grid),e.shown.call(t)},e.itemAction=function(t,i){if(t.stopPropagation(),"function"==typeof e.action){var n={};e.context&&(n.context=e.context),"undefined"!=typeof r&&r&&(n.grid=r.grid),e.action.call(n,t,i),e.leaveOpen||e.$emit("hide-menu")}},e.i18n=i.get()}}}};return n}])}(),function(){"use strict";var e=angular.module("ui.grid");angular.forEach([{tag:"Src",method:"attr"},{tag:"Text",method:"text"},{tag:"Href",method:"attr"},{tag:"Class",method:"addClass"},{tag:"Html",method:"html"},{tag:"Alt",method:"attr"},{tag:"Style",method:"css"},{tag:"Value",method:"attr"},{tag:"Id",method:"attr"},{tag:"Id",directiveName:"IdGrid",method:"attr",appendGridId:!0},{tag:"Title",method:"attr"},{tag:"Label",method:"attr",aria:!0},{tag:"Labelledby",method:"attr",aria:!0},{tag:"Labelledby",directiveName:"LabelledbyGrid",appendGridId:!0,method:"attr",aria:!0}],function(t){var i="uiGridOneBind",n=(t.aria?i+"Aria":i)+(t.directiveName?t.directiveName:t.tag);e.directive(n,["gridUtil",function(e){return{restrict:"A",require:["?uiGrid","?^uiGrid"],link:function(i,o,r,a){var s=function(t){var o;if(i.grid)o=i.grid;else if(i.col&&i.col.grid)o=i.col.grid;else if(!a.some(function(e){return e&&e.grid?(o=e.grid,!0):void 0}))throw e.logError("["+n+"] A valid grid could not be found to bind id. Are you using this directive within the correct scope? Trying to generate id: [gridID]-"+t),new Error("No valid grid could be found");if(o){var r=new RegExp(o.id.toString());r.test(t)||(t=o.id.toString()+"-"+t)}return t},l=i.$watch(r[n],function(e){if(e){if(t.appendGridId){var i=null;angular.forEach(e.split(" "),function(e){i=(i?i+" ":"")+s(e)}),e=i}switch(t.method){case"attr":t.aria?o[t.method]("aria-"+t.tag.toLowerCase(),e):o[t.method](t.tag.toLowerCase(),e);break;case"addClass":if(angular.isObject(e)&&!angular.isArray(e)){var n=[],r=!1;if(angular.forEach(e,function(e,t){null!==e&&"undefined"!=typeof e&&(r=!0,e&&n.push(t))}),!r)return;e=n}if(!e)return;o.addClass(angular.isArray(e)?e.join(" "):e);break;default:o[t.method](e)}l()}})}}}])})}(),function(){"use strict";var e=angular.module("ui.grid");e.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function(e,t,i,n,o){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(e,t,i,n){var o=n[0],r=n[1],a=e.grid=o.grid;if(!e.rowContainerName)throw"No row render container name specified";if(!e.colContainerName)throw"No column render container name specified";if(!a.renderContainers[e.rowContainerName])throw"Row render container '"+e.rowContainerName+"' is not registered.";if(!a.renderContainers[e.colContainerName])throw"Column render container '"+e.colContainerName+"' is not registered.";var s=e.rowContainer=a.renderContainers[e.rowContainerName],l=e.colContainer=a.renderContainers[e.colContainerName];r.containerId=e.containerId,r.rowContainer=s,r.colContainer=l},post:function(e,t,i,r){function a(){var t="",i=u.canvasWidth,n=u.getViewportWidth(),o=d.getCanvasHeight();"body"!==e.containerId&&(o+=c.scrollbarHeight);var r,a,l=d.getViewportHeight();return r=a=u.getHeaderViewportWidth(),t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-canvas { width: "+i+"px; height: "+o+"px; }",t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { width: "+(i+c.scrollbarWidth)+"px; }",t+=f.explicitHeaderCanvasHeight?"\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: "+f.explicitHeaderCanvasHeight+"px; }":"\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: inherit; }",t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-viewport { width: "+n+"px; height: "+l+"px; }",t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-viewport { width: "+r+"px; }",t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-canvas { width: "+(i+c.scrollbarWidth)+"px; }",t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-viewport { width: "+a+"px; }"}var s=r[0],l=r[1],c=s.grid,d=l.rowContainer,u=l.colContainer,p=null,g=null,f=c.renderContainers[e.containerId];t.addClass("ui-grid-render-container-"+e.containerId),n.on.mousewheel(t,function(e){var t=new o(c,d,u,o.Sources.RenderContainerMouseWheel);if(0!==e.deltaY){var i=-1*e.deltaY*e.deltaFactor;p=l.viewport[0].scrollTop,t.verticalScrollLength=d.getVerticalScrollLength();var r=(p+i)/t.verticalScrollLength;0>r?r=0:r>1&&(r=1),t.y={percentage:r,pixels:i}}if(0!==e.deltaX){var a=e.deltaX*e.deltaFactor;g=n.normalizeScrollLeft(l.viewport,c),t.horizontalScrollLength=u.getCanvasWidth()-u.getViewportWidth();var s=(g+a)/t.horizontalScrollLength;0>s?s=0:s>1&&(s=1),t.x={percentage:s,pixels:a}}0!==e.deltaY&&(t.atTop(p)||t.atBottom(p))||0!==e.deltaX&&(t.atLeft(g)||t.atRight(g))||(e.preventDefault(),t.fireThrottledScrollingEvent("",t))}),t.bind("$destroy",function(){t.unbind("keydown"),["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(e){t.unbind(e)})}),s.grid.registerStyleComputation({priority:6,func:a})}}}}}]),e.controller("uiGridRenderContainer",["$scope","gridUtil",function(e,t){}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridRow",["gridUtil",function(e){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(e,t,i,n){function o(){e.row.getRowTemplateFn.then(function(i){var n=e.$new();i(n,function(e,i){s&&(s.remove(),l.$destroy()),t.empty().append(e),s=e,l=n})})}var r=n[0],a=n[1];r.grid;e.grid=r.grid,e.colContainer=a.colContainer;var s,l;o(),e.$watch("row.getRowTemplateFn",function(e,t){e!==t&&o()})},post:function(e,t,i,n){}}}}}])}(),function(){angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(e,t){return{link:function(e,i,n,o){var r=t(i.text(),!0);r&&e.$watch(r,function(e){i.text(e)})}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent","uiGridConstants","$log",function(e,t,i,n){return{replace:!0,scope:{},controllerAs:"Viewport",templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(i,n,o,r){function a(o){var r=n[0].scrollTop,a=e.normalizeScrollLeft(n,m),s=g.scrollVertical(r),l=f.scrollHorizontal(a),c=new t(m,g,f,t.Sources.ViewPortScroll);c.newScrollLeft=a,c.newScrollTop=r,l>-1&&(c.x={percentage:l}),s>-1&&(c.y={percentage:s}),m.scrollContainers(i.$parent.containerId,c)}function s(e){p.prevScrollArgs=e;var t=e.getNewScrollTop(g,p.viewport);n[0].scrollTop=t}function l(t){p.prevScrollArgs=t;var i=t.getNewScrollLeft(f,p.viewport);n[0].scrollLeft=e.denormalizeScrollLeft(p.viewport,i,m)}function c(t){var i=t.getNewScrollLeft(f,p.viewport);p.headerViewport&&(p.headerViewport.scrollLeft=e.denormalizeScrollLeft(p.viewport,i,m))}function d(t){var i=t.getNewScrollLeft(f,p.viewport);p.footerViewport&&(p.footerViewport.scrollLeft=e.denormalizeScrollLeft(p.viewport,i,m))}var u=r[0],p=r[1];i.containerCtrl=p;var g=p.rowContainer,f=p.colContainer,m=u.grid;i.grid=u.grid,i.rowContainer=p.rowContainer,i.colContainer=p.colContainer,p.viewport=n,n.on("scroll",a);i.$parent.bindScrollVertical&&m.addVerticalScrollSync(i.$parent.containerId,s),i.$parent.bindScrollHorizontal&&(m.addHorizontalScrollSync(i.$parent.containerId,l),m.addHorizontalScrollSync(i.$parent.containerId+"header",c),m.addHorizontalScrollSync(i.$parent.containerId+"footer",d))},controller:["$scope",function(e){this.rowStyle=function(t){var i=e.rowContainer,n=e.colContainer,o={};if(0===t&&0!==i.currentTopRow){var r=i.currentTopRow*i.grid.options.rowHeight;o["margin-top"]=r+"px"}return 0!==n.currentFirstColumn&&(n.grid.isRTL()?o["margin-right"]=n.columnOffset+"px":o["margin-left"]=n.columnOffset+"px"),o}}]}}])}(),function(){angular.module("ui.grid").directive("uiGridVisible",function(){return function(e,t,i){e.$watch(i.uiGridVisible,function(e){t[e?"removeClass":"addClass"]("ui-grid-invisible")})}})}(),function(){"use strict";function e(e,t,i,n,o,r){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(e,t,a,s){function l(){t[0].offsetWidth<=0&&m>h?(setTimeout(l,f),h++):i(d)}function c(){angular.element(n).on("resize",p),t.on("$destroy",function(){angular.element(n).off("resize",p)}),e.$watch(function(){return g.hasLeftContainer()},function(e,t){e!==t&&g.refreshCanvas(!0)}),e.$watch(function(){return g.hasRightContainer()},function(e,t){e!==t&&g.refreshCanvas(!0)})}function d(){g.gridWidth=e.gridWidth=o.elementWidth(t),g.canvasWidth=s.grid.gridWidth,g.gridHeight=e.gridHeight=o.elementHeight(t),g.gridHeight<g.options.rowHeight&&g.options.enableMinHeightCheck&&u(),g.refreshCanvas(!0)}function u(){var i=g.options.minRowsToShow*g.options.rowHeight,n=g.options.showHeader?g.options.headerRowHeight:0,a=g.calcFooterHeight(),s=0;g.options.enableHorizontalScrollbar===r.scrollbars.ALWAYS&&(s=o.getScrollbarWidth());var l=0;angular.forEach(g.options.columnDefs,function(e){e.hasOwnProperty("filter")?1>l&&(l=1):e.hasOwnProperty("filters")&&l<e.filters.length&&(l=e.filters.length)});var c=l*n,d=n+i+a+s+c;t.css("height",d+"px"),g.gridHeight=e.gridHeight=o.elementHeight(t)}function p(i){g.gridWidth=e.gridWidth=o.elementWidth(t),g.gridHeight=e.gridHeight=o.elementHeight(t),g.refreshCanvas(!0)}var g=s.grid;s.scrollbars=[],g.element=t;var f=100,m=20,h=0;c(),d(),g.renderingComplete(),l()}}}}}angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","$templateCache","gridClassFactory","$timeout","$parse","$compile",function(e,t,i,n,o,r,a,s,l,c,d){function u(e,t){e&&e!==t&&(g.grid.options.columnDefs=e,g.grid.buildColumns({orderByColumnDefs:!0}).then(function(){g.grid.preCompileCellTemplates(),g.grid.callDataChangeCallbacks(r.dataChange.COLUMN)}))}function p(t){var n=[];g.grid.options.fastWatch&&(t=angular.isString(e.uiGrid.data)?g.grid.appScope[e.uiGrid.data]:e.uiGrid.data),t&&(g.grid.columns.length===(g.grid.rowHeaderColumns?g.grid.rowHeaderColumns.length:0)&&!i.uiGridColumns&&0===g.grid.options.columnDefs.length&&t.length>0&&g.grid.buildColumnDefsFromData(t),(g.grid.options.columnDefs.length>0||t.length>0)&&n.push(g.grid.buildColumns().then(function(){g.grid.preCompileCellTemplates()})),o.all(n).then(function(){g.grid.modifyRows(t).then(function(){g.grid.redrawInPlace(!0),e.$evalAsync(function(){g.grid.refreshCanvas(!0),g.grid.callDataChangeCallbacks(r.dataChange.ROW)})})}))}var g=this;g.grid=s.createGrid(e.uiGrid),g.grid.appScope=g.grid.appScope||e.$parent,t.addClass("grid"+g.grid.id),g.grid.rtl="rtl"===n.getStyles(t[0]).direction,e.grid=g.grid,i.uiGridColumns&&i.$observe("uiGridColumns",function(e){g.grid.options.columnDefs=e,g.grid.buildColumns().then(function(){g.grid.preCompileCellTemplates(),g.grid.refreshCanvas(!0)})});var f=[];g.grid.options.fastWatch?(g.uiGrid=e.uiGrid,angular.isString(e.uiGrid.data)?(f.push(e.$parent.$watch(e.uiGrid.data,p)),f.push(e.$parent.$watch(function(){return g.grid.appScope[e.uiGrid.data]?g.grid.appScope[e.uiGrid.data].length:void 0},p))):(f.push(e.$parent.$watch(function(){return e.uiGrid.data},p)),f.push(e.$parent.$watch(function(){return e.uiGrid.data.length},p))),f.push(e.$parent.$watch(function(){return e.uiGrid.columnDefs},u)),f.push(e.$parent.$watch(function(){return e.uiGrid.columnDefs.length},u))):(angular.isString(e.uiGrid.data)?f.push(e.$parent.$watchCollection(e.uiGrid.data,p)):f.push(e.$parent.$watchCollection(function(){return e.uiGrid.data},p)),f.push(e.$parent.$watchCollection(function(){return e.uiGrid.columnDefs},u)));var m=e.$watch(function(){return g.grid.styleComputations},function(){g.grid.refreshCanvas(!0)});e.$on("$destroy",function(){f.forEach(function(e){e()}),m()}),g.fireEvent=function(t,i){"undefined"!=typeof i&&void 0!==i||(i={}),"undefined"!=typeof i.grid&&void 0!==i.grid||(i.grid=g.grid),e.$broadcast(t,i)},g.innerCompile=function(t){d(t)(e)}}]),angular.module("ui.grid").directive("uiGrid",e),e.$inject=["$compile","$templateCache","$timeout","$window","gridUtil","uiGridConstants"]}(),function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(e){return{restrict:"EA",replace:!0,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(e,t,i,n){function o(){var e=this,t=0;e.visibleColumnCache.forEach(function(e){t+=e.drawnWidth});var i=e.getViewportAdjustment();return t+=i.width}function r(){if("left"===e.side||"right"===e.side){for(var t=s.renderContainers[e.side].visibleColumnCache,i=0,n=0;n<t.length;n++){var o=t[n];i+=o.drawnWidth||o.width||0}return i}}function a(){var i="";if("left"===e.side||"right"===e.side){l=r(),t.attr("style",null);var n=s.renderContainers.body.getViewportHeight();i+=".grid"+s.id+" .ui-grid-pinned-container-"+e.side+", .grid"+s.id+" .ui-grid-pinned-container-"+e.side+" .ui-grid-render-container-"+e.side+" .ui-grid-viewport { width: "+l+"px; height: "+n+"px; } "}return i}var s=n.grid,l=0;t.addClass("ui-grid-pinned-container-"+e.side),"left"!==e.side&&"right"!==e.side||(s.renderContainers[e.side].getViewportWidth=o),s.renderContainers.body.registerViewportAdjuster(function(t){return l=r(),t.width-=l,t.side=e.side,t}),s.registerStyleComputation({priority:15,func:a})}}}}}])}(),function(){angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout","ScrollEvent",function(e,t,i,n,o,r,a,s,l,c,d,u,p,g){function f(){}var m=function(e){function t(e){a.isScrollingVertically=!1,a.api.core.raise.scrollEnd(e),a.scrollDirection=o.scrollDirection.NONE}function i(e){a.isScrollingHorizontally=!1,a.api.core.raise.scrollEnd(e),a.scrollDirection=o.scrollDirection.NONE}var a=this;if(void 0===e||"undefined"==typeof e.id||!e.id)throw new Error("No ID provided. An ID must be given when creating a grid.");if(!/^[_a-zA-Z0-9-]+$/.test(e.id))throw new Error("Grid id '"+e.id+'" is invalid. It must follow CSS selector syntax rules.');a.id=e.id,delete e.id,a.options=r.initialize(e),a.appScope=a.options.appScopeProvider,a.headerHeight=a.options.headerRowHeight,a.footerHeight=a.calcFooterHeight(),a.columnFooterHeight=a.calcColumnFooterHeight(),a.rtl=!1,a.gridHeight=0,a.gridWidth=0,a.columnBuilders=[],a.rowBuilders=[],a.rowsProcessors=[],a.columnsProcessors=[],a.styleComputations=[],a.viewportAdjusters=[],a.rowHeaderColumns=[],a.dataChangeCallbacks={},a.verticalScrollSyncCallBackFns={},a.horizontalScrollSyncCallBackFns={},a.renderContainers={},a.renderContainers.body=new u("body",a),a.cellValueGetterCache={},a.getRowTemplateFn=null,a.rows=[],a.columns=[],a.isScrollingVertically=!1,a.isScrollingHorizontally=!1,a.scrollDirection=o.scrollDirection.NONE,a.disableScrolling=!1;var s=n.debounce(t,a.options.scrollDebounce),d=n.debounce(t,0),p=n.debounce(i,a.options.scrollDebounce),g=n.debounce(i,0);a.flagScrollingVertically=function(e){a.isScrollingVertically||a.isScrollingHorizontally||a.api.core.raise.scrollBegin(e),a.isScrollingVertically=!0,0!==a.options.scrollDebounce&&e.withDelay?s(e):d(e)},a.flagScrollingHorizontally=function(e){a.isScrollingVertically||a.isScrollingHorizontally||a.api.core.raise.scrollBegin(e),a.isScrollingHorizontally=!0,0!==a.options.scrollDebounce&&e.withDelay?p(e):g(e)},a.scrollbarHeight=0,a.scrollbarWidth=0,a.options.enableHorizontalScrollbar===o.scrollbars.ALWAYS&&(a.scrollbarHeight=n.getScrollbarWidth()),a.options.enableVerticalScrollbar===o.scrollbars.ALWAYS&&(a.scrollbarWidth=n.getScrollbarWidth()),a.api=new l(a),a.api.registerMethod("core","refresh",this.refresh),a.api.registerMethod("core","queueGridRefresh",this.queueGridRefresh),a.api.registerMethod("core","refreshRows",this.refreshRows),a.api.registerMethod("core","refreshRows",this.queueRefresh),a.api.registerMethod("core","handleWindowResize",this.handleWindowResize),a.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn),a.api.registerMethod("core","scrollToIfNecessary",function(e,t){return a.scrollToIfNecessary(e,t)}),a.api.registerMethod("core","scrollTo",function(e,t){return a.scrollTo(e,t)}),a.api.registerMethod("core","registerRowsProcessor",this.registerRowsProcessor),a.api.registerMethod("core","registerColumnsProcessor",this.registerColumnsProcessor),a.api.registerMethod("core","sortHandleNulls",c.handleNulls),a.api.registerEvent("core","sortChanged"),a.api.registerEvent("core","columnVisibilityChanged"),a.api.registerMethod("core","notifyDataChange",this.notifyDataChange),a.api.registerMethod("core","clearAllFilters",this.clearAllFilters),a.registerDataChangeCallback(a.columnRefreshCallback,[o.dataChange.COLUMN]),a.registerDataChangeCallback(a.processRowsCallback,[o.dataChange.EDIT]),a.registerDataChangeCallback(a.updateFooterHeightCallback,[o.dataChange.OPTIONS]),a.registerStyleComputation({priority:10,func:a.getFooterStyles})};return m.prototype.calcFooterHeight=function(){if(!this.hasFooter())return 0;var e=0;return this.options.showGridFooter&&(e+=this.options.gridFooterHeight),e+=this.calcColumnFooterHeight()},m.prototype.calcColumnFooterHeight=function(){var e=0;return this.options.showColumnFooter&&(e+=this.options.columnFooterHeight),e},m.prototype.getFooterStyles=function(){var e=".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; }";return e+=" .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }"},m.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter},m.prototype.isRTL=function(){return this.rtl},m.prototype.registerColumnBuilder=function(e){this.columnBuilders.push(e)},m.prototype.buildColumnDefsFromData=function(e){this.options.columnDefs=n.getColumnsFromData(e,this.options.excludeProperties)},m.prototype.registerRowBuilder=function(e){this.rowBuilders.push(e)},m.prototype.registerDataChangeCallback=function(e,t,i){var r=n.nextUid();t||(t=[o.dataChange.ALL]),Array.isArray(t)||n.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+t),this.dataChangeCallbacks[r]={callback:e,types:t,_this:i};var a=this,s=function(){delete a.dataChangeCallbacks[r]};return s},m.prototype.callDataChangeCallbacks=function(e,t){angular.forEach(this.dataChangeCallbacks,function(t,i){-1===t.types.indexOf(o.dataChange.ALL)&&-1===t.types.indexOf(e)&&e!==o.dataChange.ALL||(t._this?t.callback.apply(t._this,this):t.callback(this))},this)},m.prototype.notifyDataChange=function(e){var t=o.dataChange;e===t.ALL||e===t.COLUMN||e===t.EDIT||e===t.ROW||e===t.OPTIONS?this.callDataChangeCallbacks(e):n.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+e)},m.prototype.columnRefreshCallback=function(e){e.buildColumns(),e.queueGridRefresh()},m.prototype.processRowsCallback=function(e){e.queueGridRefresh()},m.prototype.updateFooterHeightCallback=function(e){e.footerHeight=e.calcFooterHeight(),e.columnFooterHeight=e.calcColumnFooterHeight()},m.prototype.getColumn=function(e){var t=this.columns.filter(function(t){return t.colDef.name===e});return t.length>0?t[0]:null},m.prototype.getColDef=function(e){var t=this.options.columnDefs.filter(function(t){return t.name===e});return t.length>0?t[0]:null},m.prototype.assignTypes=function(){var e=this;e.options.columnDefs.forEach(function(t,i){if(!t.type){var o=new a(t,i,e),r=e.rows.length>0?e.rows[0]:null;r?t.type=n.guessType(e.getCellValue(r,o)):t.type="string"}})},m.prototype.isRowHeaderColumn=function(e){return-1!==this.rowHeaderColumns.indexOf(e)},m.prototype.addRowHeaderColumn=function(e){var t=this,i=new a(e,n.nextUid(),t);i.isRowHeader=!0,t.isRTL()?(t.createRightContainer(),i.renderContainer="right"):(t.createLeftContainer(),i.renderContainer="left"),t.columnBuilders[0](e,i,t.options).then(function(){i.enableFiltering=!1,i.enableSorting=!1,i.enableHiding=!1,t.rowHeaderColumns.push(i),t.buildColumns().then(function(){t.preCompileCellTemplates(),t.queueGridRefresh()})})},m.prototype.getOnlyDataColumns=function(){var e=this,t=[];return e.columns.forEach(function(i){-1===e.rowHeaderColumns.indexOf(i)&&t.push(i)}),t},m.prototype.buildColumns=function(t){var i={orderByColumnDefs:!1};angular.extend(i,t);var o,r=this,s=[],l=r.rowHeaderColumns.length;for(o=0;o<r.columns.length;o++)r.getColDef(r.columns[o].name)||(r.columns.splice(o,1),o--);if(r.rowHeaderColumns.forEach(function(e){r.columns.unshift(e)}),r.options.columnDefs.forEach(function(e,t){r.preprocessColDef(e);var i=r.getColumn(e.name);i?i.updateColumnDef(e,!1):(i=new a(e,n.nextUid(),r),r.columns.splice(t+l,0,i)),r.columnBuilders.forEach(function(t){s.push(t.call(r,e,i,r.options))})}),i.orderByColumnDefs){var c=r.columns.slice(0),d=Math.min(r.options.columnDefs.length,r.columns.length);for(o=0;d>o;o++)r.columns[o+l].name!==r.options.columnDefs[o].name?c[o+l]=r.getColumn(r.options.columnDefs[o].name):c[o+l]=r.columns[o+l];r.columns.length=0,Array.prototype.splice.apply(r.columns,[0,0].concat(c))}return e.all(s).then(function(){r.rows.length>0&&r.assignTypes()})},m.prototype.preCompileCellTemplates=function(){var e=this,i=function(i){var n=i.cellTemplate.replace(o.MODEL_COL_FIELD,e.getQualifiedColField(i));n=n.replace(o.COL_FIELD,"grid.getCellValue(row, col)");var r=t(n);i.compiledElementFn=r,i.compiledElementFnDefer&&i.compiledElementFnDefer.resolve(i.compiledElementFn)};this.columns.forEach(function(e){e.cellTemplate?i(e):e.cellTemplatePromise&&e.cellTemplatePromise.then(function(){i(e)})})},m.prototype.getQualifiedColField=function(e){return"row.entity."+n.preEval(e.field)},m.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new u("left",this,{disableColumnOffset:!0}))},m.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new u("right",this,{disableColumnOffset:!0}))},m.prototype.hasLeftContainer=function(){return void 0!==this.renderContainers.left},m.prototype.hasRightContainer=function(){return void 0!==this.renderContainers.right},m.prototype.preprocessColDef=function(e){var t=this;if(!e.field&&!e.name)throw new Error("colDef.name or colDef.field property is required");if(void 0===e.name&&void 0!==e.field){for(var i=e.field,n=2;t.getColumn(i);)i=e.field+n.toString(),n++;e.name=i}},m.prototype.newInN=function(e,t,i,n){for(var o=this,r=[],a=0;a<t.length;a++){for(var s=n?t[a][n]:t[a],l=!1,c=0;c<e.length;c++){var d=i?e[c][i]:e[c];if(o.options.rowEquality(s,d)){l=!0;break}}l||r.push(s)}return r},m.prototype.getRow=function(e,t){var i=this;t="undefined"==typeof t?i.rows:t;var n=t.filter(function(t){return i.options.rowEquality(t.entity,e)});return n.length>0?n[0]:null},m.prototype.modifyRows=function(t){var i=this,n=i.rows.slice(0),o=i.rowHashMap||i.createRowHashMap();i.rowHashMap=i.createRowHashMap(),i.rows.length=0,t.forEach(function(e,t){var r;r=i.options.enableRowHashing?o.get(e):i.getRow(e,n),r||(r=i.processRowBuilders(new s(e,t,i))),i.rows.push(r),i.rowHashMap.put(e,r)}),i.assignTypes();var r=e.when(i.processRowsProcessors(i.rows)).then(function(e){return i.setVisibleRows(e)}),a=e.when(i.processColumnsProcessors(i.columns)).then(function(e){return i.setVisibleColumns(e)});return e.all([r,a])},m.prototype.addRows=function(e){for(var t=this,i=t.rows.length,n=0;n<e.length;n++){var o=t.processRowBuilders(new s(e[n],n+i,t));if(t.options.enableRowHashing){var r=t.rowHashMap.get(o.entity);r&&(r.row=o)}t.rows.push(o)}},m.prototype.processRowBuilders=function(e){var t=this;return t.rowBuilders.forEach(function(i){i.call(t,e,t.options)}),e},m.prototype.registerStyleComputation=function(e){this.styleComputations.push(e)},m.prototype.registerRowsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.rowsProcessors.push({processor:e,priority:t}),this.rowsProcessors.sort(function(e,t){return e.priority-t.priority})},m.prototype.removeRowsProcessor=function(e){var t=-1;this.rowsProcessors.forEach(function(i,n){i.processor===e&&(t=n)}),-1!==t&&this.rowsProcessors.splice(t,1)},m.prototype.processRowsProcessors=function(t){function i(t,o){var a=n.rowsProcessors[t].processor;return e.when(a.call(n,o,n.columns)).then(function(e){if(!e)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+t+" did not return an array";return t++,t<=n.rowsProcessors.length-1?i(t,e):void r.resolve(e)})}var n=this,o=t.slice(0);if(0===n.rowsProcessors.length)return e.when(o);var r=e.defer();return i(0,o),r.promise},m.prototype.setVisibleRows=function(e){var t=this;for(var i in t.renderContainers){var n=t.renderContainers[i];n.canvasHeightShouldUpdate=!0,"undefined"==typeof n.visibleRowCache?n.visibleRowCache=[]:n.visibleRowCache.length=0}for(var o=0;o<e.length;o++){var r=e[o],a="undefined"!=typeof r.renderContainer&&r.renderContainer?r.renderContainer:"body";r.visible&&t.renderContainers[a].visibleRowCache.push(r)}t.api.core.raise.rowsRendered(this.api)},m.prototype.registerColumnsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.columnsProcessors.push({processor:e,priority:t}),this.columnsProcessors.sort(function(e,t){return e.priority-t.priority})},m.prototype.removeColumnsProcessor=function(e){var t=this.columnsProcessors.indexOf(e);"undefined"!=typeof t&&void 0!==t&&this.columnsProcessors.splice(t,1)},m.prototype.processColumnsProcessors=function(t){function i(t,a){var s=n.columnsProcessors[t].processor;return e.when(s.call(n,a,n.rows)).then(function(e){if(!e)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+t+" did not return an array";return t++,t<=n.columnsProcessors.length-1?i(t,o):void r.resolve(o)})}var n=this,o=t.slice(0);if(0===n.columnsProcessors.length)return e.when(o);var r=e.defer();return i(0,o),r.promise},m.prototype.setVisibleColumns=function(e){var t=this;for(var i in t.renderContainers){var n=t.renderContainers[i];n.visibleColumnCache.length=0}for(var o=0;o<e.length;o++){var r=e[o];r.visible&&("undefined"!=typeof r.renderContainer&&r.renderContainer?t.renderContainers[r.renderContainer].visibleColumnCache.push(r):t.renderContainers.body.visibleColumnCache.push(r))}},m.prototype.handleWindowResize=function(e){var t=this;t.gridWidth=n.elementWidth(t.element),t.gridHeight=n.elementHeight(t.element),t.queueRefresh()},m.prototype.queueRefresh=function(){var e=this;return e.refreshCanceller&&p.cancel(e.refreshCanceller),e.refreshCanceller=p(function(){e.refreshCanvas(!0)}),e.refreshCanceller.then(function(){e.refreshCanceller=null;
}),e.refreshCanceller},m.prototype.queueGridRefresh=function(){var e=this;return e.gridRefreshCanceller&&p.cancel(e.gridRefreshCanceller),e.gridRefreshCanceller=p(function(){e.refresh(!0)}),e.gridRefreshCanceller.then(function(){e.gridRefreshCanceller=null}),e.gridRefreshCanceller},m.prototype.updateCanvasHeight=function(){var e=this;for(var t in e.renderContainers)if(e.renderContainers.hasOwnProperty(t)){var i=e.renderContainers[t];i.canvasHeightShouldUpdate=!0}},m.prototype.buildStyles=function(){var e=this;e.customStyles="",e.styleComputations.sort(function(e,t){return null===e.priority?1:null===t.priority?-1:null===e.priority&&null===t.priority?0:e.priority-t.priority}).forEach(function(t){var i=t.func.call(e);angular.isString(i)&&(e.customStyles+="\n"+i)})},m.prototype.minColumnsToRender=function(){var e=this,t=this.getViewportWidth(),i=0,n=0;return e.columns.forEach(function(o,r){if(t>n)n+=o.drawnWidth,i++;else{for(var a=0,s=r;s>=r-i;s--)a+=e.columns[s].drawnWidth;t>a&&i++}}),i},m.prototype.getBodyHeight=function(){var e=this.getViewportHeight();return e},m.prototype.getViewportHeight=function(){var e=this,t=this.gridHeight-this.headerHeight-this.footerHeight,i=e.getViewportAdjustment();return t+=i.height},m.prototype.getViewportWidth=function(){var e=this,t=this.gridWidth,i=e.getViewportAdjustment();return t+=i.width},m.prototype.getHeaderViewportWidth=function(){var e=this.getViewportWidth();return e},m.prototype.addVerticalScrollSync=function(e,t){this.verticalScrollSyncCallBackFns[e]=t},m.prototype.addHorizontalScrollSync=function(e,t){this.horizontalScrollSyncCallBackFns[e]=t},m.prototype.scrollContainers=function(e,t){if(t.y){var i=["body","left","right"];this.flagScrollingVertically(t),"body"===e?i=["left","right"]:"left"===e?i=["body","right"]:"right"===e&&(i=["body","left"]);for(var n=0;n<i.length;n++){var o=i[n];this.verticalScrollSyncCallBackFns[o]&&this.verticalScrollSyncCallBackFns[o](t)}}if(t.x){var r=["body","bodyheader","bodyfooter"];this.flagScrollingHorizontally(t),"body"===e&&(r=["bodyheader","bodyfooter"]);for(var a=0;a<r.length;a++){var s=r[a];this.horizontalScrollSyncCallBackFns[s]&&this.horizontalScrollSyncCallBackFns[s](t)}}},m.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},m.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);"undefined"!=typeof t&&void 0!==t&&this.viewportAdjusters.splice(t,1)},m.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},m.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},m.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},m.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},m.prototype.searchRows=function(e){return d.search(this,e,this.columns)},m.prototype.sortByColumn=function(e){return c.sort(this,e,this.columns)},m.prototype.getCellValue=function(e,t){return"undefined"!=typeof e.entity["$$"+t.uid]?e.entity["$$"+t.uid].rendered:this.options.flatEntityAccess&&"undefined"!=typeof t.field?e.entity[t.field]:(t.cellValueGetterCache||(t.cellValueGetterCache=i(e.getEntityQualifiedColField(t))),t.cellValueGetterCache(e))},m.prototype.getNextColumnSortPriority=function(){var e=this,t=0;return e.columns.forEach(function(e){e.sort&&e.sort.priority&&e.sort.priority>t&&(t=e.sort.priority)}),t+1},m.prototype.resetColumnSorting=function(e){var t=this;t.columns.forEach(function(t){t===e||t.suppressRemoveSort||(t.sort={})})},m.prototype.getColumnSorting=function(){var e,t=this,i=[];return e=t.columns.slice(0),e.sort(c.prioritySort).forEach(function(e){e.sort&&"undefined"!=typeof e.sort.direction&&e.sort.direction&&(e.sort.direction===o.ASC||e.sort.direction===o.DESC)&&i.push(e)}),i},m.prototype.sortColumn=function(t,i,n){var r=this,a=null;if("undefined"==typeof t||!t)throw new Error("No column parameter provided");return"boolean"==typeof i?n=i:a=i,n?t.sort.priority||(t.sort.priority=r.getNextColumnSortPriority()):(r.resetColumnSorting(t),t.sort.priority=0,t.sort.priority=r.getNextColumnSortPriority()),a?t.sort.direction=a:t.sort.direction&&t.sort.direction===o.ASC?t.sort.direction=o.DESC:t.sort.direction&&t.sort.direction===o.DESC?t.colDef&&t.suppressRemoveSort?t.sort.direction=o.ASC:t.sort={}:t.sort.direction=o.ASC,r.api.core.raise.sortChanged(r,r.getColumnSorting()),e.when(t)},m.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api),this.api.core.raise.renderingComplete(this.api)},m.prototype.createRowHashMap=function(){var e=this,t=new f;return t.grid=e,t},m.prototype.refresh=function(t){var i=this,n=i.processRowsProcessors(i.rows).then(function(e){i.setVisibleRows(e)}),o=i.processColumnsProcessors(i.columns).then(function(e){i.setVisibleColumns(e)});return e.all([n,o]).then(function(){i.redrawInPlace(t),i.refreshCanvas(!0)})},m.prototype.refreshRows=function(){var e=this;return e.processRowsProcessors(e.rows).then(function(t){e.setVisibleRows(t),e.redrawInPlace(),e.refreshCanvas(!0)})},m.prototype.refreshCanvas=function(t){var i=this;t&&i.buildStyles();var o=e.defer(),r=[];for(var a in i.renderContainers)if(i.renderContainers.hasOwnProperty(a)){var s=i.renderContainers[a];if(null===s.canvasWidth||isNaN(s.canvasWidth))continue;(s.header||s.headerCanvas)&&(s.explicitHeaderHeight=s.explicitHeaderHeight||null,s.explicitHeaderCanvasHeight=s.explicitHeaderCanvasHeight||null,r.push(s))}return r.length>0?(t&&i.buildStyles(),p(function(){var e,a,s=!1,l=0,c=0,d=function(e,t){return e!==t&&(s=!0),t};for(e=0;e<r.length;e++)if(a=r[e],null!==a.canvasWidth&&!isNaN(a.canvasWidth)){if(a.header){var u=a.headerHeight=d(a.headerHeight,parseInt(n.outerElementHeight(a.header),10)),p=n.getBorderSize(a.header,"top"),g=n.getBorderSize(a.header,"bottom"),f=parseInt(u-p-g,10);f=0>f?0:f,a.innerHeaderHeight=f,!a.explicitHeaderHeight&&f>l&&(l=f)}if(a.headerCanvas){var m=a.headerCanvasHeight=d(a.headerCanvasHeight,parseInt(n.outerElementHeight(a.headerCanvas),10));!a.explicitHeaderCanvasHeight&&m>c&&(c=m)}}for(e=0;e<r.length;e++)a=r[e],l>0&&"undefined"!=typeof a.headerHeight&&null!==a.headerHeight&&(a.explicitHeaderHeight||a.headerHeight<l)&&(a.explicitHeaderHeight=d(a.explicitHeaderHeight,l)),c>0&&"undefined"!=typeof a.headerCanvasHeight&&null!==a.headerCanvasHeight&&(a.explicitHeaderCanvasHeight||a.headerCanvasHeight<c)&&(a.explicitHeaderCanvasHeight=d(a.explicitHeaderCanvasHeight,c));t&&s&&i.buildStyles(),o.resolve()})):p(function(){o.resolve()}),o.promise},m.prototype.redrawInPlace=function(e){var t=this;for(var i in t.renderContainers){var n=t.renderContainers[i];e?(n.adjustRows(n.prevScrollTop,null),n.adjustColumns(n.prevScrollLeft,null)):(n.adjustRows(null,n.prevScrolltopPercentage),n.adjustColumns(null,n.prevScrollleftPercentage))}},m.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&this.renderContainers.left.renderedColumns.length>0},m.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&this.renderContainers.right.renderedColumns.length>0},m.prototype.scrollToIfNecessary=function(t,i){var n=this,o=new g(n,"uiGrid.scrollToIfNecessary"),r=n.renderContainers.body.visibleRowCache,a=n.renderContainers.body.visibleColumnCache,s=n.renderContainers.body.prevScrollTop+n.headerHeight;s=0>s?0:s;var l=n.renderContainers.body.prevScrollLeft,c=n.renderContainers.body.prevScrollTop+n.gridHeight-n.renderContainers.body.headerHeight-n.footerHeight-n.scrollbarWidth,d=n.renderContainers.body.prevScrollLeft+Math.ceil(n.gridWidth);if(null!==t){var u=r.indexOf(t),p=n.renderContainers.body.getCanvasHeight()-n.renderContainers.body.getViewportHeight(),f=(u+1)*n.options.rowHeight;f=0>f?0:f;var m,h;s>f?(m=n.renderContainers.body.prevScrollTop-(s-f),h=m/p,o.y={percentage:h}):f>c&&(m=f-c+n.renderContainers.body.prevScrollTop,h=m/p,o.y={percentage:h})}if(null!==i){for(var v=a.indexOf(i),b=n.renderContainers.body.getCanvasWidth()-n.renderContainers.body.getViewportWidth(),y=0,w=0;v>w;w++){var C=a[w];y+=C.drawnWidth}y=0>y?0:y;var _=y+i.drawnWidth;_=0>_?0:_;var x,S;l>y?(x=n.renderContainers.body.prevScrollLeft-(l-y),S=x/b,S=S>1?1:S,o.x={percentage:S}):_>d&&(x=_-d+n.renderContainers.body.prevScrollLeft,S=x/b,S=S>1?1:S,o.x={percentage:S})}var E=e.defer();if(o.y||o.x){o.withDelay=!1,n.scrollContainers("",o);var k=n.api.core.on.scrollEnd(null,function(){E.resolve(o),k()})}else E.resolve();return E.promise},m.prototype.scrollTo=function(e,t){var i=null,n=null;return null!==e&&"undefined"!=typeof e&&(i=this.getRow(e)),null!==t&&"undefined"!=typeof t&&(n=this.getColumn(t.name?t.name:t.field)),this.scrollToIfNecessary(i,n)},m.prototype.clearAllFilters=function(e,t,i){return void 0===e&&(e=!0),void 0===t&&(t=!1),void 0===i&&(i=!1),this.columns.forEach(function(e){e.filters.forEach(function(e){e.term=void 0,t&&(e.condition=void 0),i&&(e.flags=void 0)})}),e?this.refreshRows():void 0},f.prototype={put:function(e,t){this[this.grid.options.rowIdentity(e)]=t},get:function(e){return this[this.grid.options.rowIdentity(e)]},remove:function(e){var t=this[e=this.grid.options.rowIdentity(e)];return delete this[e],t}},m}])}(),function(){angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow","uiGridGridMenuService",function(e,t,i,n,o,r){function a(e,i,n,o){return t.$on(e,function(e){var t=Array.prototype.slice.call(arguments);t.splice(0,1),i.apply(o?o:n.api,t)})}var s=function(e){this.grid=e,this.listeners=[],this.registerEvent("core","renderingComplete"),this.registerEvent("core","filterChanged"),this.registerMethod("core","setRowInvisible",o.prototype.setRowInvisible),this.registerMethod("core","clearRowInvisible",o.prototype.clearRowInvisible),this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows),this.registerEvent("core","rowsVisibleChanged"),this.registerEvent("core","rowsRendered"),this.registerEvent("core","scrollBegin"),this.registerEvent("core","scrollEnd"),this.registerEvent("core","canvasHeightChanged")};return s.prototype.suppressEvents=function(e,t){var i=this,n=angular.isArray(e)?e:[e],o=i.listeners.filter(function(e){return n.some(function(t){return e.handler===t})});o.forEach(function(e){e.dereg()}),t(),o.forEach(function(e){e.dereg=a(e.eventId,e.handler,i.grid,e._this)})},s.prototype.registerEvent=function(e,n){var o=this;o[e]||(o[e]={});var r=o[e];r.on||(r.on={},r.raise={});var s=o.grid.id+e+n;r.raise[n]=function(){t.$emit.apply(t,[s].concat(Array.prototype.slice.call(arguments)))},r.on[n]=function(t,r,l){if(null!==t&&"undefined"==typeof t.$on)return void i.logError("asked to listen on "+e+".on."+n+" but scope wasn't passed in the input parameters.  It is legitimate to pass null, but you've passed something else, so you probably forgot to provide scope rather than did it deliberately, not registering");var c=a(s,r,o.grid,l),d={handler:r,dereg:c,eventId:s,scope:t,_this:l};o.listeners.push(d);var u=function(){d.dereg();var e=o.listeners.indexOf(d);o.listeners.splice(e,1)};return t&&t.$on("$destroy",function(){u()}),u}},s.prototype.registerEventsFromObject=function(e){var t=this,i=[];angular.forEach(e,function(e,t){var n={name:t,events:[]};angular.forEach(e,function(e,t){n.events.push(t)}),i.push(n)}),i.forEach(function(e){e.events.forEach(function(i){t.registerEvent(e.name,i)})})},s.prototype.registerMethod=function(e,t,n,o){this[e]||(this[e]={});var r=this[e];r[t]=i.createBoundedWrapper(o||this.grid,n)},s.prototype.registerMethodsFromObject=function(e,t){var i=this,n=[];angular.forEach(e,function(e,t){var i={name:t,methods:[]};angular.forEach(e,function(e,t){i.methods.push({name:t,fn:e})}),n.push(i)}),n.forEach(function(e){e.methods.forEach(function(n){i.registerMethod(e.name,n.name,n.fn,t)})})},s}])}(),function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(e,t,i){function n(e,i,o){var r=this;r.grid=o,r.uid=i,r.updateColumnDef(e,!0),n.prototype.hideColumn=function(){this.colDef.visible=!1},r.aggregationValue=void 0,r.updateAggregationValue=function(){if(!r.aggregationType)return void(r.aggregationValue=void 0);var e=0,i=r.grid.getVisibleRows(),n=function(){var e=[];return i.forEach(function(t){var i=r.grid.getCellValue(t,r),n=Number(i);isNaN(n)||e.push(n)}),e};angular.isFunction(r.aggregationType)?r.aggregationValue=r.aggregationType(i,r):r.aggregationType===t.aggregationTypes.count?r.aggregationValue=r.grid.getVisibleRowCount():r.aggregationType===t.aggregationTypes.sum?(n().forEach(function(t){e+=t}),r.aggregationValue=e):r.aggregationType===t.aggregationTypes.avg?(n().forEach(function(t){e+=t}),e/=n().length,r.aggregationValue=e):r.aggregationType===t.aggregationTypes.min?r.aggregationValue=Math.min.apply(null,n()):r.aggregationType===t.aggregationTypes.max?r.aggregationValue=Math.max.apply(null,n()):r.aggregationValue=""},this.getAggregationValue=function(){return r.aggregationValue}}return n.prototype.setPropertyOrDefault=function(e,t,i){var n=this;"undefined"!=typeof e[t]&&e[t]?n[t]=e[t]:"undefined"!=typeof n[t]?n[t]=n[t]:n[t]=i?i:{}},n.prototype.updateColumnDef=function(t,i){var o=this;if(o.colDef=t,void 0===t.name)throw new Error("colDef.name is required for column at index "+o.grid.options.columnDefs.indexOf(t));o.displayName=void 0===t.displayName?e.readableColumnName(t.name):t.displayName;var r="Cannot parse column width '"+t.width+"' for column named '"+t.name+"'";if(e.isNullOrUndefined(o.width)||!angular.isNumber(o.width))if(e.isNullOrUndefined(t.width))o.width="*";else if(angular.isNumber(t.width))o.width=t.width;else if(e.endsWith(t.width,"%")){var a=t.width.replace(/%/g,""),s=parseInt(a,10);if(isNaN(s))throw new Error(r);o.width=t.width}else if(t.width.match(/^(\d+)$/))o.width=parseInt(t.width.match(/^(\d+)$/)[1],10);else{if(!t.width.match(/^\*+$/))throw new Error(r);o.width=t.width}o.minWidth=t.minWidth?t.minWidth:30,o.maxWidth=t.maxWidth?t.maxWidth:9e3,o.field=void 0===t.field?t.name:t.field,"string"!=typeof o.field&&e.logError("Field is not a string, this is likely to break the code, Field is: "+o.field),o.name=t.name,o.displayName=void 0===t.displayName?e.readableColumnName(t.name):t.displayName,o.aggregationType=angular.isDefined(t.aggregationType)?t.aggregationType:null,o.footerCellTemplate=angular.isDefined(t.footerCellTemplate)?t.footerCellTemplate:null,"undefined"==typeof t.cellTooltip||t.cellTooltip===!1?o.cellTooltip=!1:t.cellTooltip===!0?o.cellTooltip=function(e,t){return o.grid.getCellValue(e,t)}:"function"==typeof t.cellTooltip?o.cellTooltip=t.cellTooltip:o.cellTooltip=function(e,t){return t.colDef.cellTooltip},"undefined"==typeof t.headerTooltip||t.headerTooltip===!1?o.headerTooltip=!1:t.headerTooltip===!0?o.headerTooltip=function(e){return e.displayName}:"function"==typeof t.headerTooltip?o.headerTooltip=t.headerTooltip:o.headerTooltip=function(e){return e.colDef.headerTooltip},o.footerCellClass=t.footerCellClass,o.cellClass=t.cellClass,o.headerCellClass=t.headerCellClass,o.cellFilter=t.cellFilter?t.cellFilter:"",o.headerCellFilter=t.headerCellFilter?t.headerCellFilter:"",o.footerCellFilter=t.footerCellFilter?t.footerCellFilter:"",o.visible=e.isNullOrUndefined(t.visible)||t.visible,o.headerClass=t.headerClass,o.enableSorting="undefined"!=typeof t.enableSorting?t.enableSorting:!0,o.sortingAlgorithm=t.sortingAlgorithm,"undefined"==typeof o.suppressRemoveSort&&(o.suppressRemoveSort="undefined"!=typeof t.suppressRemoveSort?t.suppressRemoveSort:!1),o.enableFiltering="undefined"!=typeof t.enableFiltering?t.enableFiltering:!0,o.setPropertyOrDefault(t,"menuItems",[]),i&&o.setPropertyOrDefault(t,"sort");var l=[];t.filter?l.push(t.filter):t.filters?l=t.filters:l.push({}),i?(o.setPropertyOrDefault(t,"filter"),o.setPropertyOrDefault(t,"filters",l)):o.filters.length===l.length&&o.filters.forEach(function(e,t){"undefined"!=typeof l[t].placeholder&&(e.placeholder=l[t].placeholder),"undefined"!=typeof l[t].flags&&(e.flags=l[t].flags),"undefined"!=typeof l[t].type&&(e.type=l[t].type),"undefined"!=typeof l[t].selectOptions&&(e.selectOptions=l[t].selectOptions)}),n.prototype.unsort=function(){this.sort={},o.grid.api.core.raise.sortChanged(o.grid,o.grid.getColumnSorting())}},n.prototype.getColClass=function(e){var i=t.COL_CLASS_PREFIX+this.uid;return e?"."+i:i},n.prototype.isPinnedLeft=function(){return"left"===this.renderContainer},n.prototype.isPinnedRight=function(){return"right"===this.renderContainer},n.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { min-width: "+this.drawnWidth+"px; max-width: "+this.drawnWidth+"px; }"},n.prototype.getRenderContainer=function(){var e=this,t=e.renderContainer;return null!==t&&""!==t&&void 0!==t||(t="body"),e.grid.renderContainers[t]},n.prototype.showColumn=function(){this.colDef.visible=!0},n.prototype.getAggregationText=function(){var e=this;if(e.colDef.aggregationHideLabel)return"";if(e.colDef.aggregationLabel)return e.colDef.aggregationLabel;switch(e.colDef.aggregationType){case t.aggregationTypes.count:return i.getSafeText("aggregation.count");case t.aggregationTypes.sum:return i.getSafeText("aggregation.sum");case t.aggregationTypes.avg:return i.getSafeText("aggregation.avg");case t.aggregationTypes.min:return i.getSafeText("aggregation.min");case t.aggregationTypes.max:return i.getSafeText("aggregation.max");default:return""}},n.prototype.getCellTemplate=function(){var e=this;return e.cellTemplatePromise},n.prototype.getCompiledElementFn=function(){var e=this;return e.compiledElementFnDefer.promise},n}])}(),function(){angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(e,t){return{initialize:function(i){return i.onRegisterApi=i.onRegisterApi||angular.noop(),i.data=i.data||[],i.columnDefs=i.columnDefs||[],i.excludeProperties=i.excludeProperties||["$$hashKey"],i.enableRowHashing=i.enableRowHashing!==!1,i.rowIdentity=i.rowIdentity||function(t){return e.hashKey(t)},i.getRowIdentity=i.getRowIdentity||function(e){return e.$$hashKey},i.flatEntityAccess=i.flatEntityAccess===!0,i.showHeader="undefined"!=typeof i.showHeader?i.showHeader:!0,i.showHeader?i.headerRowHeight="undefined"!=typeof i.headerRowHeight?i.headerRowHeight:30:i.headerRowHeight=0,i.rowHeight=i.rowHeight||30,i.minRowsToShow="undefined"!=typeof i.minRowsToShow?i.minRowsToShow:10,i.showGridFooter=i.showGridFooter===!0,i.showColumnFooter=i.showColumnFooter===!0,i.columnFooterHeight="undefined"!=typeof i.columnFooterHeight?i.columnFooterHeight:30,i.gridFooterHeight="undefined"!=typeof i.gridFooterHeight?i.gridFooterHeight:30,i.columnWidth="undefined"!=typeof i.columnWidth?i.columnWidth:50,i.maxVisibleColumnCount="undefined"!=typeof i.maxVisibleColumnCount?i.maxVisibleColumnCount:200,i.virtualizationThreshold="undefined"!=typeof i.virtualizationThreshold?i.virtualizationThreshold:20,i.columnVirtualizationThreshold="undefined"!=typeof i.columnVirtualizationThreshold?i.columnVirtualizationThreshold:10,i.excessRows="undefined"!=typeof i.excessRows?i.excessRows:4,i.scrollThreshold="undefined"!=typeof i.scrollThreshold?i.scrollThreshold:4,i.excessColumns="undefined"!=typeof i.excessColumns?i.excessColumns:4,i.horizontalScrollThreshold="undefined"!=typeof i.horizontalScrollThreshold?i.horizontalScrollThreshold:2,i.aggregationCalcThrottle="undefined"!=typeof i.aggregationCalcThrottle?i.aggregationCalcThrottle:500,i.wheelScrollThrottle="undefined"!=typeof i.wheelScrollThrottle?i.wheelScrollThrottle:70,i.scrollDebounce="undefined"!=typeof i.scrollDebounce?i.scrollDebounce:300,i.enableSorting=i.enableSorting!==!1,i.enableFiltering=i.enableFiltering===!0,i.enableColumnMenus=i.enableColumnMenus!==!1,i.enableVerticalScrollbar="undefined"!=typeof i.enableVerticalScrollbar?i.enableVerticalScrollbar:t.scrollbars.ALWAYS,i.enableHorizontalScrollbar="undefined"!=typeof i.enableHorizontalScrollbar?i.enableHorizontalScrollbar:t.scrollbars.ALWAYS,i.enableMinHeightCheck=i.enableMinHeightCheck!==!1,i.minimumColumnSize="undefined"!=typeof i.minimumColumnSize?i.minimumColumnSize:10,i.rowEquality=i.rowEquality||function(e,t){return e===t},i.headerTemplate=i.headerTemplate||null,i.footerTemplate=i.footerTemplate||"ui-grid/ui-grid-footer",i.gridFooterTemplate=i.gridFooterTemplate||"ui-grid/ui-grid-grid-footer",i.rowTemplate=i.rowTemplate||"ui-grid/ui-grid-row",i.appScopeProvider=i.appScopeProvider||null,i}}}])}(),function(){angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(e,t){function i(e,t,i){var n=this;n.name=e,n.grid=t,n.visibleRowCache=[],n.visibleColumnCache=[],n.renderedRows=[],n.renderedColumns=[],n.prevScrollTop=0,n.prevScrolltopPercentage=0,n.prevRowScrollIndex=0,n.prevScrollLeft=0,n.prevScrollleftPercentage=0,n.prevColumnScrollIndex=0,n.columnStyles="",n.viewportAdjusters=[],n.canvasHeightShouldUpdate=!0,n.$$canvasHeight=0,i&&angular.isObject(i)&&angular.extend(n,i),t.registerStyleComputation({priority:5,func:function(){return n.updateColumnWidths(),n.columnStyles}})}return i.prototype.reset=function(){this.visibleColumnCache.length=0,this.visibleRowCache.length=0,this.renderedRows.length=0,this.renderedColumns.length=0},i.prototype.containsColumn=function(e){return-1!==this.visibleColumnCache.indexOf(e)},i.prototype.minRowsToRender=function(){for(var e=this,t=0,i=0,n=e.getViewportHeight(),o=e.visibleRowCache.length-1;n>i&&o>=0;o--)i+=e.visibleRowCache[o].height,t++;return t},i.prototype.minColumnsToRender=function(){for(var e=this,t=this.getViewportWidth(),i=0,n=0,o=0;o<e.visibleColumnCache.length;o++){var r=e.visibleColumnCache[o];if(t>n)n+=r.drawnWidth?r.drawnWidth:0,i++;else{for(var a=0,s=o;s>=o-i;s--)a+=e.visibleColumnCache[s].drawnWidth?e.visibleColumnCache[s].drawnWidth:0;t>a&&i++}}return i},i.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},i.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},i.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);"undefined"!=typeof t&&void 0!==t&&this.viewportAdjusters.splice(t,1)},i.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},i.prototype.getMargin=function(e){var t=this,i=0;return t.viewportAdjusters.forEach(function(t){var n=t.call(this,{height:0,width:0});n.side&&n.side===e&&(i+=-1*n.width)}),i},i.prototype.getViewportHeight=function(){var e=this,t=e.headerHeight?e.headerHeight:e.grid.headerHeight,i=e.grid.gridHeight-t-e.grid.footerHeight,n=e.getViewportAdjustment();return i+=n.height},i.prototype.getViewportWidth=function(){var e=this,t=e.grid.gridWidth,i=e.getViewportAdjustment();return t+=i.width},i.prototype.getHeaderViewportWidth=function(){var e=this.getViewportWidth();return e},i.prototype.getCanvasHeight=function(){var e=this;if(!e.canvasHeightShouldUpdate)return e.$$canvasHeight;var t=e.$$canvasHeight;return e.$$canvasHeight=0,e.visibleRowCache.forEach(function(t){e.$$canvasHeight+=t.height}),e.canvasHeightShouldUpdate=!1,e.grid.api.core.raise.canvasHeightChanged(t,e.$$canvasHeight),e.$$canvasHeight},i.prototype.getVerticalScrollLength=function(){return this.getCanvasHeight()-this.getViewportHeight()},i.prototype.getCanvasWidth=function(){var e=this,t=e.canvasWidth;return t},i.prototype.setRenderedRows=function(e){this.renderedRows.length=e.length;for(var t=0;t<e.length;t++)this.renderedRows[t]=e[t]},i.prototype.setRenderedColumns=function(e){this.renderedColumns.length=e.length;for(var t=0;t<e.length;t++)this.renderedColumns[t]=e[t];this.updateColumnOffset()},i.prototype.updateColumnOffset=function(){for(var e=0,t=0;t<this.currentFirstColumn;t++)e+=this.visibleColumnCache[t].drawnWidth;this.columnOffset=e},i.prototype.scrollVertical=function(e){var i=-1;if(e!==this.prevScrollTop){var n=e-this.prevScrollTop;n>0&&(this.grid.scrollDirection=t.scrollDirection.DOWN),0>n&&(this.grid.scrollDirection=t.scrollDirection.UP);var o=this.getVerticalScrollLength();return i=e/o,i>1&&(i=1),0>i&&(i=0),this.adjustScrollVertical(e,i),i}},i.prototype.scrollHorizontal=function(e){var i=-1;if(e!==this.prevScrollLeft){var n=e-this.prevScrollLeft;n>0&&(this.grid.scrollDirection=t.scrollDirection.RIGHT),0>n&&(this.grid.scrollDirection=t.scrollDirection.LEFT);var o=this.canvasWidth-this.getViewportWidth();return i=0!==o?e/o:0,this.adjustScrollHorizontal(e,i),i}},i.prototype.adjustScrollVertical=function(e,t,i){(this.prevScrollTop!==e||i)&&("undefined"!=typeof e&&void 0!==e&&null!==e||(e=(this.getCanvasHeight()-this.getViewportHeight())*t),this.adjustRows(e,t,!1),this.prevScrollTop=e,this.prevScrolltopPercentage=t,this.grid.queueRefresh())},i.prototype.adjustScrollHorizontal=function(e,t,i){(this.prevScrollLeft!==e||i)&&("undefined"!=typeof e&&void 0!==e&&null!==e||(e=(this.getCanvasWidth()-this.getViewportWidth())*t),this.adjustColumns(e,t),this.prevScrollLeft=e,this.prevScrollleftPercentage=t,this.grid.queueRefresh())},i.prototype.adjustRows=function(e,t,i){var n=this,o=n.minRowsToRender(),r=n.visibleRowCache,a=r.length-o;"undefined"!=typeof t&&null!==t||!e||(t=e/n.getVerticalScrollLength());var s=Math.ceil(Math.min(a,a*t));s>a&&(s=a);var l=[];if(r.length>n.grid.options.virtualizationThreshold){if("undefined"!=typeof e&&null!==e){if(!n.grid.suppressParentScrollDown&&n.prevScrollTop<e&&s<n.prevRowScrollIndex+n.grid.options.scrollThreshold&&a>s)return;if(!n.grid.suppressParentScrollUp&&n.prevScrollTop>e&&s>n.prevRowScrollIndex-n.grid.options.scrollThreshold&&a>s)return}var c={},d={};c=Math.max(0,s-n.grid.options.excessRows),d=Math.min(r.length,s+o+n.grid.options.excessRows),l=[c,d]}else{var u=n.visibleRowCache.length;l=[0,Math.max(u,o+n.grid.options.excessRows)]}n.updateViewableRowRange(l),n.prevRowScrollIndex=s},i.prototype.adjustColumns=function(e,t){var i=this,n=i.minColumnsToRender(),o=i.visibleColumnCache,r=o.length-n;"undefined"!=typeof t&&null!==t||!e||(t=e/i.getCanvasWidth());var a=Math.ceil(Math.min(r,r*t));a>r&&(a=r);var s=[];if(o.length>i.grid.options.columnVirtualizationThreshold&&i.getCanvasWidth()>i.getViewportWidth()){var l=Math.max(0,a-i.grid.options.excessColumns),c=Math.min(o.length,a+n+i.grid.options.excessColumns);s=[l,c]}else{var d=i.visibleColumnCache.length;s=[0,Math.max(d,n+i.grid.options.excessColumns)]}i.updateViewableColumnRange(s),i.prevColumnScrollIndex=a},i.prototype.updateViewableRowRange=function(e){var t=this.visibleRowCache.slice(e[0],e[1]);this.currentTopRow=e[0],this.setRenderedRows(t)},i.prototype.updateViewableColumnRange=function(e){var t=this.visibleColumnCache.slice(e[0],e[1]);this.currentFirstColumn=e[0],this.setRenderedColumns(t)},i.prototype.headerCellWrapperStyle=function(){var e=this;if(0!==e.currentFirstColumn){var t=e.columnOffset;return e.grid.isRTL()?{"margin-right":t+"px"}:{"margin-left":t+"px"}}return null},i.prototype.updateColumnWidths=function(){var t=this,i=[],n=0,o=0,r="",a=t.grid.getViewportWidth()-t.grid.scrollbarWidth,s=[];angular.forEach(t.grid.renderContainers,function(e,t){s=s.concat(e.visibleColumnCache)}),s.forEach(function(t,r){var s=0;t.visible&&(angular.isNumber(t.width)?(s=parseInt(t.width,10),o+=s,t.drawnWidth=s):e.endsWith(t.width,"%")?(s=parseInt(parseInt(t.width.replace(/%/g,""),10)/100*a),s>t.maxWidth&&(s=t.maxWidth),s<t.minWidth&&(s=t.minWidth),o+=s,t.drawnWidth=s):angular.isString(t.width)&&-1!==t.width.indexOf("*")&&(n+=t.width.length,i.push(t)))});var l=a-o;if(i.length>0){var c=l/n;i.forEach(function(e){var t=parseInt(e.width.length*c,10);t>e.maxWidth&&(t=e.maxWidth),t<e.minWidth&&(t=e.minWidth),o+=t,e.drawnWidth=t})}for(var d=function(e){e.drawnWidth<e.maxWidth&&u>0&&(e.drawnWidth++,o++,u--,p=!0)},u=a-o,p=!0;u>0&&p;)p=!1,i.forEach(d);var g=function(e){e.drawnWidth>e.minWidth&&f>0&&(e.drawnWidth--,o--,f--,p=!0)},f=o-a;for(p=!0;f>0&&p;)p=!1,i.forEach(g);var m=0;t.visibleColumnCache.forEach(function(e){e.visible&&(m+=e.drawnWidth)}),s.forEach(function(e){r+=e.getColClassDefinition()}),t.canvasWidth=m,this.columnStyles=r},i.prototype.getViewportStyle=function(){var e=this,i={};return e.grid.disableScrolling?(i["overflow-x"]="hidden",i["overflow-y"]="hidden",i):("body"===e.name?(i["overflow-x"]=e.grid.options.enableHorizontalScrollbar===t.scrollbars.NEVER?"hidden":"scroll",e.grid.isRTL()?e.grid.hasLeftContainerColumns()?i["overflow-y"]="hidden":i["overflow-y"]=e.grid.options.enableVerticalScrollbar===t.scrollbars.NEVER?"hidden":"scroll":e.grid.hasRightContainerColumns()?i["overflow-y"]="hidden":i["overflow-y"]=e.grid.options.enableVerticalScrollbar===t.scrollbars.NEVER?"hidden":"scroll"):"left"===e.name?(i["overflow-x"]="hidden",i["overflow-y"]=e.grid.isRTL()?e.grid.options.enableVerticalScrollbar===t.scrollbars.NEVER?"hidden":"scroll":"hidden"):(i["overflow-x"]="hidden",i["overflow-y"]=e.grid.isRTL()?"hidden":e.grid.options.enableVerticalScrollbar===t.scrollbars.NEVER?"hidden":"scroll"),i)},i}])}(),function(){angular.module("ui.grid").factory("GridRow",["gridUtil",function(e){function t(t,i,n){this.grid=n,this.entity=t,this.uid=e.nextUid(),this.visible=!0,this.$$height=n.options.rowHeight}return Object.defineProperty(t.prototype,"height",{get:function(){return this.$$height},set:function(e){e!==this.$$height&&(this.grid.updateCanvasHeight(),this.$$height=e)}}),t.prototype.getQualifiedColField=function(e){return"row."+this.getEntityQualifiedColField(e)},t.prototype.getEntityQualifiedColField=function(t){return e.preEval("entity."+t.field)},t.prototype.setRowInvisible=function(e){e&&e.setThisRowInvisible&&e.setThisRowInvisible("user")},t.prototype.clearRowInvisible=function(e){e&&e.clearThisRowInvisible&&e.clearThisRowInvisible("user")},t.prototype.setThisRowInvisible=function(e,t){this.invisibleReason||(this.invisibleReason={}),this.invisibleReason[e]=!0,this.evaluateRowVisibility(t)},t.prototype.clearThisRowInvisible=function(e,t){"undefined"!=typeof this.invisibleReason&&delete this.invisibleReason[e],this.evaluateRowVisibility(t)},t.prototype.evaluateRowVisibility=function(e){var t=!0;"undefined"!=typeof this.invisibleReason&&angular.forEach(this.invisibleReason,function(e,i){e&&(t=!1)}),"undefined"!=typeof this.visible&&this.visible===t||(this.visible=t,e||(this.grid.queueGridRefresh(),this.grid.api.core.raise.rowsVisibleChanged(this)))},t}])}(),function(){angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(e){function t(t,i,n,o){var r=this;if(!t)throw new Error("grid argument is required");r.grid=t,r.source=o,r.withDelay=!0,r.sourceRowContainer=i,r.sourceColContainer=n,r.newScrollLeft=null,r.newScrollTop=null,r.x=null,r.y=null,r.verticalScrollLength=-9999999,r.horizontalScrollLength=-999999,r.fireThrottledScrollingEvent=e.throttle(function(e){r.grid.scrollContainers(e,r)},r.grid.options.wheelScrollThrottle,{trailing:!0})}return t.prototype.getNewScrollLeft=function(t,i){var n=this;if(!n.newScrollLeft){var o,r=t.getCanvasWidth()-t.getViewportWidth(),a=e.normalizeScrollLeft(i,n.grid);if("undefined"!=typeof n.x.percentage&&void 0!==n.x.percentage)o=n.x.percentage;else{if("undefined"==typeof n.x.pixels||void 0===n.x.pixels)throw new Error("No percentage or pixel value provided for scroll event X axis");o=n.x.percentage=(a+n.x.pixels)/r}return Math.max(0,o*r)}return n.newScrollLeft},t.prototype.getNewScrollTop=function(e,t){var i=this;if(!i.newScrollTop){var n,o=e.getVerticalScrollLength(),r=t[0].scrollTop;if("undefined"!=typeof i.y.percentage&&void 0!==i.y.percentage)n=i.y.percentage;else{if("undefined"==typeof i.y.pixels||void 0===i.y.pixels)throw new Error("No percentage or pixel value provided for scroll event Y axis");n=i.y.percentage=(r+i.y.pixels)/o}return Math.max(0,n*o)}return i.newScrollTop},t.prototype.atTop=function(e){return this.y&&(0===this.y.percentage||this.verticalScrollLength<0)&&0===e},t.prototype.atBottom=function(e){return this.y&&(1===this.y.percentage||0===this.verticalScrollLength)&&e>0},t.prototype.atLeft=function(e){
return this.x&&(0===this.x.percentage||this.horizontalScrollLength<0)&&0===e},t.prototype.atRight=function(e){return this.x&&(1===this.x.percentage||0===this.horizontalScrollLength)&&e>0},t.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99},t}])}(),function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(e,t,i,n,o,r,a,s){var l={createGrid:function(n){n="undefined"!=typeof n?n:{},n.id=e.newId();var o=new r(n);if(o.options.rowTemplate){var a=t.defer();o.getRowTemplateFn=a.promise,e.getTemplate(o.options.rowTemplate).then(function(e){var t=i(e);a.resolve(t)},function(e){throw new Error("Couldn't fetch/use row template '"+o.options.rowTemplate+"'")})}return o.registerColumnBuilder(l.defaultColumnBuilder),o.registerRowBuilder(l.rowTemplateAssigner),o.registerRowsProcessor(function(e){return e.forEach(function(e){e.evaluateRowVisibility(!0)},50),e}),o.registerColumnsProcessor(function(e){return e.forEach(function(e){e.visible=!0}),e},50),o.registerColumnsProcessor(function(e){return e.forEach(function(e){e.colDef.visible===!1&&(e.visible=!1)}),e},50),o.registerRowsProcessor(o.searchRows,100),o.options.externalSort&&angular.isFunction(o.options.externalSort)?o.registerRowsProcessor(o.options.externalSort,200):o.registerRowsProcessor(o.sortByColumn,200),o},defaultColumnBuilder:function(i,n,r){var a=[],s=function(t,r,s,l,c){i[t]?n[r]=i[t]:n[r]=s,a.push(e.getTemplate(n[r]).then(function(e){var i="cellTooltip"===c?"col.cellTooltip(row,col)":"col.headerTooltip(col)";c&&n[c]===!1?e=e.replace(o.TOOLTIP,""):c&&n[c]&&(e=e.replace(o.TOOLTIP,'title="{{'+i+' CUSTOM_FILTERS }}"')),l?n[t]=e.replace(o.CUSTOM_FILTERS,n[l]?"|"+n[l]:""):n[t]=e},function(e){throw new Error("Couldn't fetch/use colDef."+t+" '"+i[t]+"'")}))};return s("cellTemplate","providedCellTemplate","ui-grid/uiGridCell","cellFilter","cellTooltip"),n.cellTemplatePromise=a[0],s("headerCellTemplate","providedHeaderCellTemplate","ui-grid/uiGridHeaderCell","headerCellFilter","headerTooltip"),s("footerCellTemplate","providedFooterCellTemplate","ui-grid/uiGridFooterCell","footerCellFilter"),s("filterHeaderTemplate","providedFilterHeaderTemplate","ui-grid/ui-grid-filter"),n.compiledElementFnDefer=t.defer(),t.all(a)},rowTemplateAssigner:function(n){var o=this;if(n.rowTemplate){var r=t.defer();n.getRowTemplateFn=r.promise,e.getTemplate(n.rowTemplate).then(function(e){var t=i(e);r.resolve(t)},function(e){throw new Error("Couldn't fetch/use row template '"+n.rowTemplate+"'")})}else n.rowTemplate=o.options.rowTemplate,n.getRowTemplateFn=o.getRowTemplateFn;return n.getRowTemplateFn}};return l}])}(),function(){function e(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var t=angular.module("ui.grid");t.service("rowSearcher",["gridUtil","uiGridConstants",function(t,i){var n=i.filter.CONTAINS,o={};return o.getTerm=function(e){if("undefined"==typeof e.term)return e.term;var t=e.term;return"string"==typeof t&&(t=t.trim()),t},o.stripTerm=function(t){var i=o.getTerm(t);return"string"==typeof i?e(i.replace(/(^\*|\*$)/g,"")):i},o.guessCondition=function(e){if("undefined"==typeof e.term||!e.term)return n;var t=o.getTerm(e);if(/\*/.test(t)){var i="";e.flags&&e.flags.caseSensitive||(i+="i");var r=t.replace(/(\\)?\*/g,function(e,t){return t?e:"[\\s\\S]*?"});return new RegExp("^"+r+"$",i)}return n},o.setupFilters=function(e){for(var n=[],r=e.length,a=0;r>a;a++){var s=e[a];if(s.noTerm||!t.isNullOrUndefined(s.term)){var l={},c="";s.flags&&s.flags.caseSensitive||(c+="i"),t.isNullOrUndefined(s.term)||(l.term=o.stripTerm(s)),s.condition?l.condition=s.condition:l.condition=o.guessCondition(s),l.flags=angular.extend({caseSensitive:!1,date:!1},s.flags),l.condition===i.filter.STARTS_WITH&&(l.startswithRE=new RegExp("^"+l.term,c)),l.condition===i.filter.ENDS_WITH&&(l.endswithRE=new RegExp(l.term+"$",c)),l.condition===i.filter.CONTAINS&&(l.containsRE=new RegExp(l.term,c)),l.condition===i.filter.EXACT&&(l.exactRE=new RegExp("^"+l.term+"$",c)),n.push(l)}}return n},o.runColumnFilter=function(e,t,n,o){var r=typeof o.condition,a=o.term,s=e.getCellValue(t,n);if(o.condition instanceof RegExp)return o.condition.test(s);if("function"===r)return o.condition(a,s,t,n);if(o.startswithRE)return o.startswithRE.test(s);if(o.endswithRE)return o.endswithRE.test(s);if(o.containsRE)return o.containsRE.test(s);if(o.exactRE)return o.exactRE.test(s);if(o.condition===i.filter.NOT_EQUAL){var l=new RegExp("^"+a+"$");return!l.exec(s)}if("number"==typeof s&&"string"==typeof a){var c=parseFloat(a.replace(/\\\./,".").replace(/\\\-/,"-"));isNaN(c)||(a=c)}return o.flags.date===!0&&(s=new Date(s),a=new Date(a.replace(/\\/g,""))),o.condition===i.filter.GREATER_THAN?s>a:o.condition===i.filter.GREATER_THAN_OR_EQUAL?s>=a:o.condition===i.filter.LESS_THAN?a>s:o.condition===i.filter.LESS_THAN_OR_EQUAL?a>=s:!0},o.searchColumn=function(e,t,i,n){if(e.options.useExternalFiltering)return!0;for(var r=n.length,a=0;r>a;a++){var s=n[a],l=o.runColumnFilter(e,t,i,s);if(!l)return!1}return!0},o.search=function(e,i,n){if(i){if(!e.options.enableFiltering)return i;for(var r=[],a=n.length,s=function(e){var i=!1;return e.forEach(function(e){(!t.isNullOrUndefined(e.term)&&""!==e.term||e.noTerm)&&(i=!0)}),i},l=0;a>l;l++){var c=n[l];"undefined"!=typeof c.filters&&s(c.filters)&&r.push({col:c,filters:o.setupFilters(c.filters)})}if(r.length>0){for(var d=function(e,t,i,n){t.visible&&!o.searchColumn(e,t,i,n)&&(t.visible=!1)},u=function(e,t){for(var n=i.length,o=0;n>o;o++)d(e,i[o],t.col,t.filters)},p=r.length,g=0;p>g;g++)u(e,r[g]);e.api.core.raise.rowsVisibleChanged&&e.api.core.raise.rowsVisibleChanged()}return i}},o}])}(),function(){var e=angular.module("ui.grid");e.service("rowSorter",["$parse","uiGridConstants",function(e,t){var i="("+t.CURRENCY_SYMBOLS.map(function(e){return"\\"+e}).join("|")+")?",n=(new RegExp("^[-+]?"+i+"[\\d,.]+"+i+"%?$"),{colSortFnCache:{}});return n.guessSortFn=function(e){switch(e){case"number":return n.sortNumber;case"numberStr":return n.sortNumberStr;case"boolean":return n.sortBool;case"string":return n.sortAlpha;case"date":return n.sortDate;case"object":return n.basicSort;default:throw new Error("No sorting function found for type:"+e)}},n.handleNulls=function(e,t){if(!e&&0!==e&&e!==!1||!t&&0!==t&&t!==!1){if(!e&&0!==e&&e!==!1&&!t&&0!==t&&t!==!1)return 0;if(!e&&0!==e&&e!==!1)return 1;if(!t&&0!==t&&t!==!1)return-1}return null},n.basicSort=function(e,t){var i=n.handleNulls(e,t);return null!==i?i:e===t?0:t>e?-1:1},n.sortNumber=function(e,t){var i=n.handleNulls(e,t);return null!==i?i:e-t},n.sortNumberStr=function(e,t){var i=n.handleNulls(e,t);if(null!==i)return i;var o,r,a=!1,s=!1;return o=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(o)&&(a=!0),r=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(r)&&(s=!0),a&&s?0:a?1:s?-1:o-r},n.sortAlpha=function(e,t){var i=n.handleNulls(e,t);if(null!==i)return i;var o=e.toString().toLowerCase(),r=t.toString().toLowerCase();return o===r?0:r>o?-1:1},n.sortDate=function(e,t){var i=n.handleNulls(e,t);if(null!==i)return i;e instanceof Date||(e=new Date(e)),t instanceof Date||(t=new Date(t));var o=e.getTime(),r=t.getTime();return o===r?0:r>o?-1:1},n.sortBool=function(e,t){var i=n.handleNulls(e,t);return null!==i?i:e&&t?0:e||t?e?1:-1:0},n.getSortFn=function(e,t,i){var o;return n.colSortFnCache[t.colDef.name]?o=n.colSortFnCache[t.colDef.name]:void 0!==t.sortingAlgorithm?(o=t.sortingAlgorithm,n.colSortFnCache[t.colDef.name]=t.sortingAlgorithm):(o=n.guessSortFn(t.colDef.type),o?n.colSortFnCache[t.colDef.name]=o:o=n.sortAlpha),o},n.prioritySort=function(e,t){return void 0!==e.sort.priority&&void 0!==t.sort.priority?e.sort.priority<t.sort.priority?-1:e.sort.priority===t.sort.priority?0:1:e.sort.priority||0===e.sort.priority?-1:t.sort.priority||0===t.sort.priority?1:0},n.sort=function(e,i,o){if(i){if(e.options.useExternalSorting)return i;var r=[];if(o.forEach(function(e){!e.sort||e.sort.ignoreSort||!e.sort.direction||e.sort.direction!==t.ASC&&e.sort.direction!==t.DESC||r.push(e)}),r=r.sort(n.prioritySort),0===r.length)return i;var a,s,l=function(e,t){e.entity.$$uiGridIndex=t};i.forEach(l);var c=i.slice(0),d=function(i,o){for(var l,d=0,u=0;0===d&&u<r.length;){a=r[u],s=r[u].sort.direction,l=n.getSortFn(e,a,c);var p=e.getCellValue(i,a),g=e.getCellValue(o,a);d=l(p,g),u++}return 0===d?i.entity.$$uiGridIndex-o.entity.$$uiGridIndex:s===t.ASC?d:0-d},u=i.sort(d),p=function(e,t){delete e.entity.$$uiGridIndex};return i.forEach(p),u}},n}])}(),function(){function e(e){var t=e;return"undefined"!=typeof t.length&&t.length&&(t=e[0]),t.ownerDocument.defaultView.getComputedStyle(t,null)}function t(e,t,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,a=0,s=["Top","Right","Bottom","Left"];4>r;r+=2){var l=s[r];if("margin"===i){var c=parseFloat(o[i+l]);isNaN(c)||(a+=c)}if(n){if("content"===i){var d=parseFloat(o["padding"+l]);isNaN(d)||(a-=d)}if("margin"!==i){var u=parseFloat(o["border"+l+"Width"]);isNaN(u)||(a-=u)}}else{var p=parseFloat(o["padding"+l]);if(isNaN(p)||(a+=p),"padding"!==i){var g=parseFloat(o["border"+l+"Width"]);isNaN(g)||(a+=g)}}}return a}function i(i,n,o){var r,s=!0,l=e(i),c="border-box"===l.boxSizing;if(0>=r||null==r){if(r=l[n],(0>r||null==r)&&(r=i.style[n]),a.test(r))return r;s=c&&!0,r=parseFloat(r)||0}var d=r+t(i,n,o||(c?"border":"content"),s,l);return d}function n(t){t=angular.element(t)[0];var i=t.parentElement;return i||(i=document.getElementsByTagName("body")[0]),parseInt(e(i).fontSize)||parseInt(e(t).fontSize)||16}var o,r=angular.module("ui.grid");"function"!=typeof Function.prototype.bind&&(o=function(){var e=Array.prototype.slice;return function(t){var i=this,n=e.call(arguments,1);return n.length?function(){return arguments.length?i.apply(t,n.concat(e.call(arguments))):i.apply(t,n)}:function(){return arguments.length?i.apply(t,arguments):i.call(t)}}});var a=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),s=/^(block|none|table(?!-c[ea]).+)/,l={position:"absolute",visibility:"hidden",display:"block"},c=["0","0","0"],d="uiGrid-";r.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$interval","$injector","$q","$interpolate","uiGridConstants",function(r,a,u,p,g,f,m,h,v,b,y){function w(e,t){var i=angular.element(this),n=0,o=0,r=0,a=0;if(t.originalEvent&&(t=t.originalEvent),"detail"in t&&(r=-1*t.detail),"wheelDelta"in t&&(r=t.wheelDelta),"wheelDeltaY"in t&&(r=t.wheelDeltaY),"wheelDeltaX"in t&&(o=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(o=-1*r,r=0),n=0===r?o:r,"deltaY"in t&&(r=-1*t.deltaY,n=r),"deltaX"in t&&(o=t.deltaX,0===r&&(n=-1*o)),0!==r||0!==o){if(1===t.deltaMode){var s=i.data("mousewheel-line-height");n*=s,r*=s,o*=s}else if(2===t.deltaMode){var l=i.data("mousewheel-page-height");n*=l,r*=l,o*=l}a=Math.max(Math.abs(r),Math.abs(o)),(!E||E>a)&&(E=a,_(t,a)&&(E/=40)),n=Math[n>=1?"floor":"ceil"](n/E),o=Math[o>=1?"floor":"ceil"](o/E),r=Math[r>=1?"floor":"ceil"](r/E),t.deltaMode=0;var c={originalEvent:t,deltaX:o,deltaY:r,deltaFactor:E,preventDefault:function(){t.preventDefault()}};S&&clearTimeout(S),S=setTimeout(C,200),e.call(i[0],c)}}function C(){E=null}function _(e,t){return"mousewheel"===e.type&&t%120===0}var x={augmentWidthOrHeight:t,getStyles:e,createBoundedWrapper:function(e,t){return function(){return t.apply(e,arguments)}},readableColumnName:function(e){return"undefined"==typeof e||void 0===e||null===e?e:("string"!=typeof e&&(e=String(e)),e.replace(/_+/g," ").replace(/^[A-Z]+$/,function(e){return angular.lowercase(angular.uppercase(e.charAt(0))+e.slice(1))}).replace(/([\w\u00C0-\u017F]+)/g,function(e){return angular.uppercase(e.charAt(0))+e.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(e,t){var i=[];if(!e||"undefined"==typeof e[0]||void 0===e[0])return[];angular.isUndefined(t)&&(t=[]);var n=e[0];return angular.forEach(n,function(e,n){-1===t.indexOf(n)&&i.push({name:n})}),i},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),getTemplate:function(e){if(g.get(e))return x.postProcessTemplate(g.get(e));if(e.hasOwnProperty("then"))return e.then(x.postProcessTemplate);try{if(angular.element(e).length>0)return v.when(e).then(x.postProcessTemplate)}catch(t){}return x.logDebug("fetching url",e),p({method:"GET",url:e}).then(function(t){var i=t.data.trim();return g.put(e,i),i},function(t){throw new Error("Could not get template "+e+": "+t)}).then(x.postProcessTemplate)},postProcessTemplate:function(e){var t=b.startSymbol(),i=b.endSymbol();return"{{"===t&&"}}"===i||(e=e.replace(/\{\{/g,t),e=e.replace(/\}\}/g,i)),v.when(e)},guessType:function(e){var t=typeof e;switch(t){case"number":case"boolean":case"string":return t;default:return angular.isDate(e)?"date":"object"}},elementWidth:function(e){},elementHeight:function(e){},getScrollbarWidth:function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",e.appendChild(i);var n=i.offsetWidth;return e.parentNode.removeChild(e),t-n},swap:function(e,t,i,n){var o,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];o=i.apply(e,n||[]);for(r in t)e.style[r]=a[r];return o},fakeElement:function(e,t,i,n){var o,r,a=angular.element(e).clone()[0];for(r in t)a.style[r]=t[r];return angular.element(document.body).append(a),o=i.call(a,a),angular.element(a).remove(),o},normalizeWheelEvent:function(e){var t,i,n,o=e||window.event,r=([].slice.call(arguments,1),0),a=0,s=0,l=0,c=0;return o.originalEvent&&(o=o.originalEvent),o.wheelDelta&&(r=o.wheelDelta),o.detail&&(r=-1*o.detail),s=r,void 0!==o.axis&&o.axis===o.HORIZONTAL_AXIS&&(s=0,a=-1*r),o.deltaY&&(s=-1*o.deltaY,r=s),o.deltaX&&(a=o.deltaX,r=-1*a),void 0!==o.wheelDeltaY&&(s=o.wheelDeltaY),void 0!==o.wheelDeltaX&&(a=o.wheelDeltaX),l=Math.abs(r),(!t||t>l)&&(t=l),c=Math.max(Math.abs(s),Math.abs(a)),(!i||i>c)&&(i=c),n=r>0?"floor":"ceil",r=Math[n](r/t),a=Math[n](a/i),s=Math[n](s/i),{delta:r,deltaX:a,deltaY:s}},isTouchEnabled:function(){var e;return("ontouchstart"in a||a.DocumentTouch&&u instanceof DocumentTouch)&&(e=!0),e},isNullOrUndefined:function(e){return void 0===e||null===e},endsWith:function(e,t){return e&&t&&"string"==typeof e?-1!==e.indexOf(t,e.length-t.length):!1},arrayContainsObjectWithProperty:function(e,t,i){var n=!1;return angular.forEach(e,function(e){e[t]===i&&(n=!0)}),n},numericAndNullSort:function(e,t){return null===e?1:null===t?-1:null===e&&null===t?0:e-t},disableAnimations:function(e){var t;try{t=h.get("$animate"),t.enabled(!1,e)}catch(i){}},enableAnimations:function(e){var t;try{return t=h.get("$animate"),t.enabled(!0,e),t}catch(i){}},nextUid:function(){for(var e,t=c.length;t;){if(t--,e=c[t].charCodeAt(0),57===e)return c[t]="A",d+c.join("");if(90!==e)return c[t]=String.fromCharCode(e+1),d+c.join("");c[t]="0"}return c.unshift("0"),d+c.join("")},hashKey:function(e){var t,i=typeof e;return"object"===i&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():"undefined"!=typeof e.$$hashKey&&e.$$hashKey?t=e.$$hashKey:void 0===t&&(t=e.$$hashKey=x.nextUid()):t=e,i+":"+t},resetUids:function(){c=["0","0","0"]},logError:function(e){y.LOG_ERROR_MESSAGES&&r.error(e)},logWarn:function(e){y.LOG_WARN_MESSAGES&&r.warn(e)},logDebug:function(){y.LOG_DEBUG_MESSAGES&&r.debug.apply(r,arguments)}};["width","height"].forEach(function(t){var n=angular.uppercase(t.charAt(0))+t.substr(1);x["element"+n]=function(n,o){var r=n;if(r&&"undefined"!=typeof r.length&&r.length&&(r=n[0]),r){var a=e(r);return 0===r.offsetWidth&&s.test(a.display)?x.swap(r,l,function(){return i(r,t,o)}):i(r,t,o)}return null},x["outerElement"+n]=function(e,t){return e?x["element"+n].call(this,e,t?"margin":"border"):null}}),x.closestElm=function(e,t){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var i;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]?(i=e,!0):!1});for(var n;null!==e;){if(n=e.parentElement,null!==n&&n[i](t))return n;e=n}return null},x.type=function(e){var t=Function.prototype.toString.call(e.constructor);return t.match(/function (.*?)\(/)[1]},x.getBorderSize=function(t,i){"undefined"!=typeof t.length&&t.length&&(t=t[0]);var n=e(t);i=i?"border"+i.charAt(0).toUpperCase()+i.slice(1):"border",i+="Width";var o=parseInt(n[i],10);return isNaN(o)?0:o},x.detectBrowser=function(){var e=a.navigator.userAgent,t={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var i in t)if(t[i].test(e))return i;return"unknown"},x.rtlScrollType=function A(){if(A.type)return A.type;var e=angular.element('<div dir="rtl" style="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll">A</div>')[0],t="reverse";return document.body.appendChild(e),e.scrollLeft>0?t="default":(e.scrollLeft=1,0===e.scrollLeft&&(t="negative")),angular.element(e).remove(),A.type=t,t},x.normalizeScrollLeft=function(e,t){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var i=e.scrollLeft;if(t.isRTL())switch(x.rtlScrollType()){case"default":return e.scrollWidth-i-e.clientWidth;case"negative":return Math.abs(i);case"reverse":return i}return i},x.denormalizeScrollLeft=function(e,t,i){if("undefined"!=typeof e.length&&e.length&&(e=e[0]),i.isRTL())switch(x.rtlScrollType()){case"default":var n=e.scrollWidth-e.clientWidth;return n-t;case"negative":return-1*t;case"reverse":return t}return t},x.preEval=function(e){var t=y.BRACKET_REGEXP.exec(e);if(t)return(t[1]?x.preEval(t[1]):t[1])+t[2]+(t[3]?x.preEval(t[3]):t[3]);e=e.replace(y.APOS_REGEXP,"\\'");var i=e.split(y.DOT_REGEXP),n=[i.shift()];return angular.forEach(i,function(e){n.push(e.replace(y.FUNC_REGEXP,"']$1"))}),n.join("['")},x.debounce=function(e,t,i){function n(){a=this,r=arguments;var n=function(){o=null,i||(s=e.apply(a,r))},l=i&&!o;return o&&f.cancel(o),o=f(n,t),l&&(s=e.apply(a,r)),s}var o,r,a,s;return n.cancel=function(){f.cancel(o),o=null},n},x.throttle=function(e,t,i){function n(t){a=+new Date,e.apply(o,r),m(function(){s=null},0,1)}i=i||{};var o,r,a=0,s=null;return function(){if(o=this,r=arguments,null===s){var e=+new Date-a;e>t?n():i.trailing&&(s=m(n,t-e,1))}}},x.on={},x.off={},x._events={},x.addOff=function(e){x.off[e]=function(t,i){var n=x._events[e].indexOf(i);n>0&&x._events[e].removeAt(n)}};var S,E,k="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];return x.on.mousewheel=function(e,t){if(e&&t){var i=angular.element(e);i.data("mousewheel-line-height",n(i)),i.data("mousewheel-page-height",x.elementHeight(i)),i.data("mousewheel-callbacks")||i.data("mousewheel-callbacks",{});var r=i.data("mousewheel-callbacks");r[t]=(Function.prototype.bind||o).call(w,i[0],t);for(var a=k.length;a;)i.on(k[--a],r[t])}},x.off.mousewheel=function(e,t){var i=angular.element(this),n=i.data("mousewheel-callbacks"),o=n[t];if(o)for(var r=k.length;r;)i.off(k[--r],o);delete n[t],0===Object.keys(n).length&&(i.removeData("mousewheel-line-height"),i.removeData("mousewheel-page-height"),i.removeData("mousewheel-callbacks"))},x}]),r.filter("px",function(){return function(e){return e.match(/^[\d\.]+$/)?e+"px":e}})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){var t={aggregate:{label:"poloky"},groupPanel:{description:"Pesunt zhlav zde pro vytvoen skupiny dle sloupce."},search:{placeholder:"Hledat...",showingItems:"Zobrazuji poloky:",selectedItems:"Vybran poloky:",totalItems:"Celkem poloek:",size:"Velikost strany:",first:"Prvn strana",next:"Dal strana",previous:"Pedchoz strana",last:"Posledn strana"},menu:{text:"Vyberte sloupec:"},sort:{ascending:"Seadit od A-Z",descending:"Seadit od Z-A",remove:"Odebrat seazen"},column:{hide:"Schovat sloupec"},aggregation:{count:"celkem dk: ",sum:"celkem: ",avg:"avg: ",min:"min.: ",max:"max.: "},pinning:{pinLeft:"Zamknout v levo",pinRight:"Zamknout v pravo",unpin:"Odemknout"},gridMenu:{columns:"Sloupce:",importerTitle:"Importovat soubor",exporterAllAsCsv:"Exportovat vechny data do csv",exporterVisibleAsCsv:"Exportovat viditeln data do csv",exporterSelectedAsCsv:"Exportovat vybrann data do csv",exporterAllAsPdf:"Exportovat vechny data do pdf",exporterVisibleAsPdf:"Exportovat viditeln data do pdf",exporterSelectedAsPdf:"Exportovat vybrann data do pdf"},importer:{noHeaders:"Nzvy sloupc se nepodailo zskat, obsahuje soubor zhlav?",noObjects:"Data se nepodailo zpracovat, obsahuje soubor dky mimo zhlav?",invalidCsv:"Soubor nelze zpracovat, jedn se CSV?",invalidJson:"Soubor nelze zpracovat, je to JSON?",jsonNotArray:"Soubor mus obsahovat json. Ukonuji.."},pagination:{sizes:"poloek na strnku",totalItems:"poloek"},grouping:{group:"Seskupit",ungroup:"Odebrat seskupen",aggregate_count:"Agregace: Count",aggregate_sum:"Agregace: Sum",aggregate_max:"Agregace: Max",aggregate_min:"Agregace: Min",aggregate_avg:"Agregace: Avg",aggregate_remove:"Agregace: Odebrat"}};return e.add("cs",t),e.add("cz",t),e.add("cs-cz",t),e.add("cs-CZ",t),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupr rkker udfra en kolonne ved at trkke dens overskift hertil."},search:{placeholder:"Sg...",showingItems:"Viste rkker:",selectedItems:"Valgte rkker:",totalItems:"Rkker totalt:",size:"Side strrelse:",first:"Frste side",next:"Nste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vlg kolonner:"},column:{hide:"Skjul kolonne"},aggregation:{count:"samlede rkker: ",sum:"smalede: ",avg:"gns: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("de",{aggregate:{label:"Eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{placeholder:"Suche...",showingItems:"Zeige Eintrge:",selectedItems:"Ausgewhlte Eintrge:",totalItems:"Eintrge gesamt:",size:"Eintrge pro Seite:",first:"Erste Seite",next:"Nchste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswhlen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",remove:"Sortierung zurcksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Links anheften",pinRight:"Rechts anheften",unpin:"Lsen"},gridMenu:{columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"markierte Daten als CSV exportieren"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei auer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine gltige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enthlt sie gltiges JSON?",jsonNotArray:"Die importierte JSON-Datei mu ein Array enthalten. Breche Import ab."},pagination:{sizes:"Eintrge pro Seite",totalItems:"Eintrge"},grouping:{group:"Gruppieren",ungroup:"Gruppierung aufheben",aggregate_count:"Agg: Anzahl",aggregate_sum:"Agg: Summe",aggregate_max:"Agg: Maximum",aggregate_min:"Agg: Minimum",aggregate_avg:"Agg: Mittelwert",aggregate_remove:"Aggregation entfernen"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("en",{aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{sizes:"items per page",totalItems:"items",of:"of"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("es",{aggregate:{label:"Artculos"},groupPanel:{description:"Arrastre un encabezado de columna aqu y sultelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artculos Mostrados:",selectedItems:"Artculos Seleccionados:",totalItems:"Artculos Totales:",size:"Tamao de Pgina:",first:"Primera Pgina",next:"Pgina Siguiente",previous:"Pgina Anterior",last:"ltima Pgina"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijacin"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar seleccin como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar seleccin como pdf"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, tiene encabezados el archivo?",noObjects:"No fue posible obtener registros, contiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, es un CSV vlido?",invalidJson:"No fue posible procesar el archivo, es un Json vlido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."},pagination:{sizes:"registros por pgina",totalItems:"registros",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Cont",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Mx",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Prom",aggregate_remove:"Agr: Quitar"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fa",{aggregate:{label:""},groupPanel:{description:"            ."},search:{placeholder:"...",showingItems:" :",selectedItems:" :",totalItems:" :",size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},column:{hide:"  "},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko thn ryhmittksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"Nytetn rivej:",selectedItems:"Valitut rivit:",totalItems:"Rivej yht.:",size:"Nyt:",first:"Ensimminen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"Jrjest nouseva",descending:"Jrjest laskeva",remove:"Poista jrjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivej yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie nkyv tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie nkyv tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa"},importer:{noHeaders:"Sarakkeen nimi ei voitu ptell, onko tiedostossa otsikkorivi?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu ksitell, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu ksitell, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sisltnyt taulukkoa, lopetetaan."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fr",{aggregate:{label:"lments"},groupPanel:{description:"Faites glisser une en-tte de colonne ici pour crer un groupe de colonnes."},search:{placeholder:"Recherche...",showingItems:"Affichage des lments :",selectedItems:"lments slectionns :",totalItems:"Nombre total d'lments:",size:"Taille de page:",first:"Premire page",next:"Page Suivante",previous:"Page prcdente",last:"Dernire page"},menu:{text:"Choisir des colonnes :"},sort:{ascending:"Trier par ordre croissant",
descending:"Trier par ordre dcroissant",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"lignes totales: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"pingler  gauche",pinRight:"pingler  droite",unpin:"Dtacher"},gridMenu:{columns:"Colonnes:",importerTitle:"Importer un fichier",exporterAllAsCsv:"Exporter toutes les donnes en CSV",exporterVisibleAsCsv:"Exporter les donnes visibles en CSV",exporterSelectedAsCsv:"Exporter les donnes slectionnes en CSV",exporterAllAsPdf:"Exporter toutes les donnes en PDF",exporterVisibleAsPdf:"Exporter les donnes visibles en PDF",exporterSelectedAsPdf:"Exporter les donnes slectionnes en PDF"},importer:{noHeaders:"Impossible de dterminer le nom des colonnes, le fichier possde-t-il une en-tte ?",noObjects:"Aucun objet trouv, le fichier possde-t-il des donnes autres que l'en-tte ?",invalidCsv:"Le fichier n'a pas pu tre trait, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu tre trait, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON import doit contenir un tableau, abandon."},pagination:{sizes:"lments par page",totalItems:"lments"},grouping:{group:"Grouper",ungroup:"Dgrouper",aggregate_count:"Agg: Compte",aggregate_sum:"Agg: Somme",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Moy",aggregate_remove:"Agg: Retirer"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("he",{aggregate:{label:"items"},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:":",selectedItems:'" :',totalItems:'" :',size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:""},column:{hide:" "},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("hy",{aggregate:{label:""},groupPanel:{description:"        "},search:{placeholder:"...",showingItems:" ",selectedItems:":",totalItems:"",size:"  ",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:" "},column:{hide:" "},aggregation:{count:"  ",sum:" ",avg:" ",min:" ",max:" "},pinning:{pinLeft:"  ",pinRight:"  ",unpin:""},gridMenu:{columns:":",importerTitle:" ",exporterAllAsCsv:"  CSV",exporterVisibleAsCsv:"   CSV",exporterSelectedAsCsv:"   CSV",exporterAllAsPdf:" PDF",exporterVisibleAsPdf:"   PDF",exporterSelectedAsPdf:"   PDF"},importer:{noHeaders:"        ",noObjects:"       ",invalidCsv:"       CSV ",invalidJson:"       Json ",jsonNotArray:" json     ,  "}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."},grouping:{group:"Raggruppa",ungroup:"Separa",aggregate_count:"Agg: N. Elem.",aggregate_sum:"Agg: Somma",aggregate_max:"Agg: Massimo",aggregate_min:"Agg: Minimo",aggregate_avg:"Agg: Media",aggregate_remove:"Agg: Rimuovi"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ja",{aggregate:{label:""},groupPanel:{description:""},search:{placeholder:"...",showingItems:":",selectedItems:":",totalItems:":",size:":",first:"",next:"",previous:"",last:""},menu:{text:":"},sort:{ascending:"",descending:"",remove:""},column:{hide:""},aggregation:{count:": ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:"",pinRight:"",unpin:""},gridMenu:{columns:":",importerTitle:"",exporterAllAsCsv:"CSV",exporterVisibleAsCsv:"CSV",exporterSelectedAsCsv:"CSV",exporterAllAsPdf:"PDF",exporterVisibleAsPdf:"PDF",exporterSelectedAsPdf:"PDF"},importer:{noHeaders:"",noObjects:"",invalidCsv:"CSV",invalidJson:"JSON",jsonNotArray:"JSON"},pagination:{sizes:"/",totalItems:""}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ko",{aggregate:{label:""},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:" :",selectedItems:" :",totalItems:" :",size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:" "},column:{hide:" "},aggregation:{count:" : ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:" ",pinRight:" ",unpin:" "},gridMenu:{columns:":",importerTitle:" ",exporterAllAsCsv:"csv   ",exporterVisibleAsCsv:"csv   ",exporterSelectedAsCsv:"csv   ",exporterAllAsPdf:"pdf   ",exporterVisibleAsPdf:"pdf   ",exporterSelectedAsPdf:"pdf   "},importer:{noHeaders:"   .      .",noObjects:"   .     .",invalidCsv:"   .  csv  .",invalidJson:"   .  json  .",jsonNotArray:"json    ."},pagination:{sizes:" ",totalItems:" "}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."},pagination:{sizes:"items per pagina",totalItems:"items"},grouping:{group:"Groepeer",ungroup:"Groepering opheffen",aggregate_count:"Agg: Aantal",aggregate_sum:"Agg: Som",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Gem",aggregate_remove:"Agg: Verwijder"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt-br",{aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Pgina:",first:"Primeira Pgina",next:"Prxima Pgina",previous:"Pgina Anterior",last:"ltima Pgina"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",remove:"Remover Ordenao"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},gridMenu:{columns:"Colunas:",importerTitle:"Importar arquivo",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf"},importer:{noHeaders:"Nomes de colunas no puderam ser derivados. O arquivo tem um cabealho?",noObjects:"Objetos no puderam ser derivados. Havia dados no arquivo, alm dos cabealhos?",invalidCsv:"Arquivo no pode ser processado.  um CSV vlido?",invalidJson:"Arquivo no pode ser processado.  um Json vlido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."},pagination:{sizes:"itens por pgina",totalItems:"itens"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt",{aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Itens Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Pgina:",first:"Primeira Pgina",next:"Prxima Pgina",previous:"Pgina Anterior",last:"ltima Pgina"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",remove:"Remover Ordenao"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},gridMenu:{columns:"Colunas:",importerTitle:"Importar ficheiro",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf"},importer:{noHeaders:"Nomes de colunas no puderam ser derivados. O ficheiro tem um cabealho?",noObjects:"Objetos no puderam ser derivados. Havia dados no ficheiro, alm dos cabealhos?",invalidCsv:"Ficheiro no pode ser processado.  um CSV vlido?",invalidJson:"Ficheiro no pode ser processado.  um Json vlido?",jsonNotArray:"Ficheiro json importado tem que conter um array. Interrompendo."},pagination:{sizes:"itens por pgina",totalItems:"itens"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ru",{aggregate:{label:""},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:" :",selectedItems:" :",totalItems:" :",size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:" "},column:{hide:" "},aggregation:{count:" : ",sum:": ",avg:": ",min:": ",max:": "},gridMenu:{columns:":",importerTitle:"Import file",exporterAllAsCsv:"   CSV",exporterVisibleAsCsv:"    CSV",exporterSelectedAsCsv:"    CSV",exporterAllAsPdf:"   PDF",exporterVisibleAsPdf:"    PDF",exporterSelectedAsPdf:"    PDF"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem nzov stpca pre zoskupenie poda toho stpca."},search:{placeholder:"Hadaj...",showingItems:"Zobrazujem poloky:",selectedItems:"Vybrat poloky:",totalItems:"Poet poloiek:",size:"Poet:",first:"Prv strana",next:"alia strana",previous:"Predchdzajca strana",last:"Posledn strana"},menu:{text:"Vyberte stpce:"},sort:{ascending:"Zotriedi vzostupne",descending:"Zotriedi zostupne",remove:"Vymaza triedenie"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sv",{aggregate:{label:"Artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och slpp den fr att gruppera efter den kolumnen."},search:{placeholder:"Sk...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Frsta sidan",next:"Nsta sida",previous:"Fregende sida",last:"Sista sidan"},menu:{text:"Vlj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Gm kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Fst vnster",pinRight:"Fst hger",unpin:"Lsgr"},gridMenu:{columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF"},importer:{noHeaders:"Kolumnnamn kunde inte hrledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte hrledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, r den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, r den en giltig JSON?",jsonNotArray:"Importerad JSON-fil mste innehlla ett flt. Import avbruten."},pagination:{sizes:"Artiklar per sida",totalItems:"Artiklar"}}),e}])}])}(),function(){var e=["uiT","uiTranslate"],t=["t","uiTranslate"],i=angular.module("ui.grid.i18n");i.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"}),i.service("i18nService",["$log","i18nConstants","$rootScope",function(e,t,i){var n={_langs:{},current:null,get:function(e){return this._langs[e.toLowerCase()]},add:function(e,t){var i=e.toLowerCase();this._langs[i]||(this._langs[i]={}),angular.extend(this._langs[i],t)},getAllLangs:function(){var e=[];if(!this._langs)return e;for(var t in this._langs)e.push(t);return e},setCurrent:function(e){this.current=e.toLowerCase()},getCurrentLang:function(){return this.current}},o={add:function(e,t){"object"==typeof e?angular.forEach(e,function(e){e&&n.add(e,t)}):n.add(e,t)},getAllLangs:function(){return n.getAllLangs()},get:function(e){var t=e?e:o.getCurrentLang();return n.get(t)},getSafeText:function(e,i){var r=i?i:o.getCurrentLang(),a=n.get(r);if(!a)return t.MISSING;for(var s=e.split("."),l=a,c=0;c<s.length;++c){if(void 0===l[s[c]]||null===l[s[c]])return t.MISSING;l=l[s[c]]}return l},setCurrentLang:function(e){e&&(n.setCurrent(e),i.$broadcast(t.UPDATE_EVENT))},getCurrentLang:function(){var e=n.getCurrentLang();return e||(e=t.DEFAULT_LANG,n.setCurrent(e)),e}};return o}]);var n=function(e,t){return{compile:function(){return{pre:function(i,n,o){var r=t.LOCALE_DIRECTIVE_ALIAS,a=i.$eval(o[r]);a?i.$watch(o[r],function(){e.setCurrentLang(a)}):o.$$observers&&o.$observe(r,function(){e.setCurrentLang(o[r]||t.DEFAULT_LANG)})}}}}};i.directive("uiI18n",["i18nService","i18nConstants",n]);var o=function(t,i,n){return{restrict:"EA",compile:function(){return{pre:function(o,r,a){var s,l=e[0],c=e[1],d=a[l]||a[c]||r.html(),u=n.MISSING+d;if(a.$$observers){var p=a[l]?l:c;s=a.$observe(p,function(e){e&&r.html(t(e)(i.getCurrentLang())||u)})}var g=t(d),f=o.$on(n.UPDATE_EVENT,function(e){s?s(a[l]||a[c]):r.html(g(i.get())||u)});o.$on("$destroy",f),r.html(g(i.get())||u)}}}}};angular.forEach(e,function(e){i.directive(e,["$parse","i18nService","i18nConstants",o])});var r=function(e,t,i){return function(n){var o=e(n);return o(t.get())||i.MISSING+n}};angular.forEach(t,function(e){i.filter(e,["$parse","i18nService","i18nConstants",r])})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-cn",{aggregate:{label:""},groupPanel:{description:""},search:{placeholder:"",showingItems:"",selectedItems:"",totalItems:"",size:"",first:"",next:"",previous:"",last:""},menu:{text:""},sort:{ascending:"",descending:"",remove:""},column:{hide:""},aggregation:{count:"",sum:"",avg:"",min:"",max:""},pinning:{pinLeft:"",pinRight:"",unpin:""},gridMenu:{columns:"",importerTitle:"",exporterAllAsCsv:"CSV",exporterVisibleAsCsv:"CSV",exporterSelectedAsCsv:"CSV",exporterAllAsPdf:"PDF",exporterVisibleAsPdf:"PDF",exporterSelectedAsPdf:"PDF"},importer:{noHeaders:"",noObjects:"",invalidCsv:"CSV",invalidJson:"JSON",jsonNotArray:"JSON"},pagination:{sizes:"",totalItems:""}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-tw",{aggregate:{label:""},groupPanel:{description:""},search:{placeholder:"",showingItems:"",selectedItems:"",totalItems:"",size:"",first:"",next:"",previous:"",last:""},menu:{text:""},sort:{ascending:"",descending:"",remove:""},column:{hide:""},aggregation:{count:"",sum:"",avg:"",min:"",max:""},pinning:{pinLeft:"",pinRight:"",unpin:""},gridMenu:{columns:"",importerTitle:"",exporterAllAsCsv:"CSV",exporterVisibleAsCsv:"CSV",exporterSelectedAsCsv:"CSV",exporterAllAsPdf:"PDF",exporterVisibleAsPdf:"PDF",exporterSelectedAsPdf:"PDF"},importer:{noHeaders:"",noObjects:"",invalidCsv:"CSV",invalidJson:"JSON",jsonNotArray:"JSON"},pagination:{sizes:"",totalItems:""}}),e}])}])}(),function(){"use strict";var e=angular.module("ui.grid.autoResize",["ui.grid"]);e.directive("uiGridAutoResize",["$timeout","gridUtil",function(e,t){return{require:"uiGrid",scope:!1,link:function(e,i,n,o){function r(){l=t.elementHeight(i),s=t.elementWidth(i)}function a(){clearTimeout(c),c=setTimeout(function(){var n=t.elementHeight(i),c=t.elementWidth(i);n!==l||c!==s?(o.grid.gridHeight=n,o.grid.gridWidth=c,e.$apply(function(){o.grid.refresh().then(function(){r(),a()})})):a()},250)}var s,l;r();var c;a(),e.$on("$destroy",function(){clearTimeout(c)})}}}])}(),function(){"use strict";function e(e,t){this.row=e,this.col=t}var t=angular.module("ui.grid.cellNav",["ui.grid"]);t.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1,CLEAR:2}}),t.factory("uiGridCellNavFactory",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q",function(t,i,n,o){var r=function(e,t,i,n){this.rows=e.visibleRowCache,this.columns=t.visibleColumnCache,this.leftColumns=i?i.visibleColumnCache:[],this.rightColumns=n?n.visibleColumnCache:[],this.bodyContainer=e};return r.prototype.getFocusableCols=function(){var e=this.leftColumns.concat(this.columns,this.rightColumns);return e.filter(function(e){return e.colDef.allowCellFocus})},r.prototype.getFocusableRows=function(){return this.rows.filter(function(e){return e.allowCellFocus!==!1})},r.prototype.getNextRowCol=function(e,t,i){switch(e){case n.direction.LEFT:return this.getRowColLeft(t,i);case n.direction.RIGHT:return this.getRowColRight(t,i);case n.direction.UP:return this.getRowColUp(t,i);case n.direction.DOWN:return this.getRowColDown(t,i);case n.direction.PG_UP:return this.getRowColPageUp(t,i);case n.direction.PG_DOWN:return this.getRowColPageDown(t,i)}},r.prototype.initializeSelection=function(){var t=this.getFocusableCols(),i=this.getFocusableRows();if(0===t.length||0===i.length)return null;return new e(i[0],t[0])},r.prototype.getRowColLeft=function(t,i){var n=this.getFocusableCols(),o=this.getFocusableRows(),r=n.indexOf(i),a=o.indexOf(t);-1===r&&(r=1);var s=0===r?n.length-1:r-1;return s>r?0===a?new e(t,n[s]):new e(o[a-1],n[s]):new e(t,n[s])},r.prototype.getRowColRight=function(t,i){var n=this.getFocusableCols(),o=this.getFocusableRows(),r=n.indexOf(i),a=o.indexOf(t);-1===r&&(r=0);var s=r===n.length-1?0:r+1;return r>s?a===o.length-1?new e(t,n[s]):new e(o[a+1],n[s]):new e(t,n[s])},r.prototype.getRowColDown=function(t,i){var n=this.getFocusableCols(),o=this.getFocusableRows(),r=n.indexOf(i),a=o.indexOf(t);return-1===r&&(r=0),a===o.length-1?new e(t,n[r]):new e(o[a+1],n[r])},r.prototype.getRowColPageDown=function(t,i){var n=this.getFocusableCols(),o=this.getFocusableRows(),r=n.indexOf(i),a=o.indexOf(t);-1===r&&(r=0);var s=this.bodyContainer.minRowsToRender();return a>=o.length-s?new e(o[o.length-1],n[r]):new e(o[a+s],n[r])},r.prototype.getRowColUp=function(t,i){var n=this.getFocusableCols(),o=this.getFocusableRows(),r=n.indexOf(i),a=o.indexOf(t);return-1===r&&(r=0),0===a?new e(t,n[r]):new e(o[a-1],n[r])},r.prototype.getRowColPageUp=function(t,i){var n=this.getFocusableCols(),o=this.getFocusableRows(),r=n.indexOf(i),a=o.indexOf(t);-1===r&&(r=0);var s=this.bodyContainer.minRowsToRender();return 0>a-s?new e(o[0],n[r]):new e(o[a-s],n[r])},r}]),t.service("uiGridCellNavService",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory","ScrollEvent",function(e,t,i,n,o,r){var a={initializeGrid:function(e){e.registerColumnBuilder(a.cellNavColumnBuilder),e.cellNav={},e.cellNav.lastRowCol=null,e.cellNav.focusedCells=[],a.defaultGridOptions(e.options);var t={events:{cellNav:{navigate:function(e,t){},viewPortKeyDown:function(e,t){}}},methods:{cellNav:{scrollToFocus:function(t,i){return a.scrollToFocus(e,t,i)},getFocusedCell:function(){return e.cellNav.lastRowCol},getCurrentSelection:function(){return e.cellNav.focusedCells},rowColSelectIndex:function(t){for(var i=-1,n=0;n<e.cellNav.focusedCells.length;n++)if(e.cellNav.focusedCells[n].col.uid===t.col.uid&&e.cellNav.focusedCells[n].row.uid===t.row.uid){i=n;break}return i}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.modifierKeysToMultiSelectCells=e.modifierKeysToMultiSelectCells===!0},decorateRenderContainers:function(e){var t=e.hasRightContainer()?e.renderContainers.right:null,i=e.hasLeftContainer()?e.renderContainers.left:null;null!==i&&(e.renderContainers.left.cellNav=new o(e.renderContainers.body,i,t,e.renderContainers.body)),null!==t&&(e.renderContainers.right.cellNav=new o(e.renderContainers.body,t,e.renderContainers.body,i)),e.renderContainers.body.cellNav=new o(e.renderContainers.body,e.renderContainers.body,i,t)},getDirection:function(e){return e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey?i.direction.LEFT:e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB?i.direction.RIGHT:e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey?i.direction.UP:e.keyCode===t.keymap.PG_UP?i.direction.PG_UP:e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER?i.direction.DOWN:e.keyCode===t.keymap.PG_DOWN?i.direction.PG_DOWN:null},cellNavColumnBuilder:function(e,t,i){var o=[];return e.allowCellFocus=void 0===e.allowCellFocus?!0:e.allowCellFocus,n.all(o)},scrollToFocus:function(e,t,i){var n=null,o=null;return"undefined"!=typeof t&&null!==t&&(n=e.getRow(t)),"undefined"!=typeof i&&null!==i&&(o=e.getColumn(i.name?i.name:i.field)),e.api.core.scrollToIfNecessary(n,o).then(function(){var t={row:n,col:o};null!==n&&null!==o&&e.cellNav.broadcastCellNav(t)})},getLeftWidth:function(e,t){var i=0;if(!t)return i;var n=e.renderContainers.body.visibleColumnCache.indexOf(t);e.renderContainers.body.visibleColumnCache.forEach(function(e,t){n>t&&(i+=e.drawnWidth)});var o=0===n?0:(n+1)/e.renderContainers.body.visibleColumnCache.length;return i+=t.drawnWidth*o}};return a}]),t.directive("uiGridCellnav",["gridUtil","uiGridCellNavService","uiGridCellNavConstants","uiGridConstants","$timeout",function(t,i,n,o,r){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,controller:function(){},compile:function(){return{pre:function(t,r,a,s){var l=t,c=s.grid;i.initializeGrid(c),s.cellNav={},s.cellNav.getActiveCell=function(){var e=r[0].getElementsByClassName("ui-grid-cell-focus");return e.length>0?e[0]:void 0},s.cellNav.broadcastCellNav=c.cellNav.broadcastCellNav=function(e,t){t=!(void 0===t||!t),s.cellNav.broadcastFocus(e,t),l.$broadcast(n.CELL_NAV_EVENT,e,t)},s.cellNav.clearFocus=c.cellNav.clearFocus=function(){l.$broadcast(n.CELL_NAV_EVENT,{eventType:n.EVENT_TYPE.CLEAR})},s.cellNav.broadcastFocus=function(t,i){i=!(void 0===i||!i);var n=t.row,o=t.col,r=s.grid.api.cellNav.rowColSelectIndex(t);if(null===c.cellNav.lastRowCol||-1===r){var a=new e(n,o);c.api.cellNav.raise.navigate(a,c.cellNav.lastRowCol),c.cellNav.lastRowCol=a,s.grid.options.modifierKeysToMultiSelectCells&&i?c.cellNav.focusedCells.push(t):c.cellNav.focusedCells=[t]}else c.options.modifierKeysToMultiSelectCells&&i&&r>=0&&c.cellNav.focusedCells.splice(r,1)},s.cellNav.handleKeyDown=function(e){var t=i.getDirection(e);if(null===t)return null;var r="body";e.uiGridTargetRenderContainerId&&(r=e.uiGridTargetRenderContainerId);var a=s.grid.api.cellNav.getFocusedCell();if(a){var l=s.grid.renderContainers[r].cellNav.getNextRowCol(t,a.row,a.col),d=s.grid.renderContainers[r].cellNav.getFocusableCols(),u=s.grid.api.cellNav.rowColSelectIndex(l);return t===n.direction.LEFT&&l.col===d[d.length-1]&&l.row===a.row&&e.keyCode===o.keymap.TAB&&e.shiftKey?(c.cellNav.focusedCells.splice(u,1),s.cellNav.clearFocus(),!0):t!==n.direction.RIGHT||l.col!==d[0]||l.row!==a.row||e.keyCode!==o.keymap.TAB||e.shiftKey?(c.scrollToIfNecessary(l.row,l.col).then(function(){s.cellNav.broadcastCellNav(l)}),e.stopPropagation(),e.preventDefault(),!1):(c.cellNav.focusedCells.splice(u,1),s.cellNav.clearFocus(),!0)}}},post:function(e,t,i,n){}}}}}]),t.directive("uiGridRenderContainer",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","$compile","uiGridCellNavConstants",function(e,t,i,n,o,r,a){return{replace:!0,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function(e,t,i,n){var s=n[0],l=n[1];if(s.grid.api.cellNav){var c=l.containerId,d=s.grid;if("body"===c){o.decorateRenderContainers(d);var u=r('<div class="ui-grid-focuser" tabindex="0"></div>')(e);t.append(u),s.focus=function(){u[0].focus(),u.on("focus",function(e){e.uiGridTargetRenderContainerId=c;var t=s.grid.api.cellNav.getFocusedCell();null===t&&(t=s.grid.renderContainers[c].cellNav.getNextRowCol(a.direction.DOWN,null,null),
t.row&&t.col&&s.cellNav.broadcastCellNav(t))})},u.on("keydown",function(e){e.uiGridTargetRenderContainerId=c;var t=s.grid.api.cellNav.getFocusedCell(),i=s.cellNav.handleKeyDown(e);null===i&&s.grid.api.cellNav.raise.viewPortKeyDown(e,t)})}}}}}}}]),t.directive("uiGridViewport",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","uiGridCellNavConstants","$log","$compile",function(e,t,i,n,o,r,a,s){return{replace:!0,priority:-99999,require:["^uiGrid","^uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{pre:function(e,t,i,n){},post:function(e,t,i,n){var o=n[0],r=n[1];if(o.grid.api.cellNav){var a=r.containerId;if("body"===a){var s=o.grid;o.focus(),s.api.core.on.scrollBegin(e,function(e){var i=o.grid.api.cellNav.getFocusedCell();if(null!=i&&r.colContainer.containsColumn(i.col)){var n=t[0].getElementsByClassName("ui-grid-cell-focus");Array.prototype.forEach.call(n,function(e){angular.element(e).removeClass("ui-grid-cell-focus")})}}),s.api.core.on.scrollEnd(e,function(e){var t=o.grid.api.cellNav.getFocusedCell();null!=t&&r.colContainer.containsColumn(t.col)&&o.cellNav.broadcastCellNav(t)}),s.api.cellNav.on.navigate(e,function(){o.focus()})}}}}}}}]),t.directive("uiGridCell",["$timeout","$document","uiGridCellNavService","gridUtil","uiGridCellNavConstants","uiGridConstants",function(t,i,n,o,r,a){return{priority:-150,restrict:"A",require:"^uiGrid",scope:!1,link:function(t,i,n,o){function a(){var e=i.find("div");e.addClass("ui-grid-cell-focus")}function s(){var e=i.find("div");e.removeClass("ui-grid-cell-focus")}o.grid.api.cellNav&&t.col.colDef.allowCellFocus&&(i.find("div").on("click",function(i){o.cellNav.broadcastCellNav(new e(t.row,t.col),i.ctrlKey||i.metaKey),i.stopPropagation(),t.$apply()}),i.find("div").on("focus",function(i){o.cellNav.broadcastCellNav(new e(t.row,t.col),i.ctrlKey||i.metaKey)}),t.$on(r.CELL_NAV_EVENT,function(e,i,n){return e.eventType===r.EVENT_TYPE.CLEAR?void s():void(i.row===t.row&&i.col===t.col?o.grid.options.modifierKeysToMultiSelectCells&&n&&-1===o.grid.api.cellNav.rowColSelectIndex(i)?s():a():o.grid.options.modifierKeysToMultiSelectCells&&n||s())}),t.$on("$destroy",function(){i.find("div").off("click")}))}}}])}(),function(){"use strict";var e=angular.module("ui.grid.edit",["ui.grid"]);e.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}}),e.service("uiGridEditService",["$q","uiGridConstants","gridUtil",function(e,t,i){var n={initializeGrid:function(e){n.defaultGridOptions(e.options),e.registerColumnBuilder(n.editColumnBuilder),e.edit={};var t={events:{edit:{afterCellEdit:function(e,t,i,n){},beginCellEdit:function(e,t,i){},cancelCellEdit:function(e,t){}}},methods:{edit:{}}};e.api.registerEventsFromObject(t.events)},defaultGridOptions:function(e){e.cellEditableCondition=void 0===e.cellEditableCondition?!0:e.cellEditableCondition,e.enableCellEditOnFocus=void 0===e.enableCellEditOnFocus?!1:e.enableCellEditOnFocus},editColumnBuilder:function(t,n,o){var r=[];return t.enableCellEdit=void 0===t.enableCellEdit?void 0===o.enableCellEdit?"object"!==t.type:o.enableCellEdit:t.enableCellEdit,t.cellEditableCondition=void 0===t.cellEditableCondition?o.cellEditableCondition:t.cellEditableCondition,t.enableCellEdit&&(t.editableCellTemplate=t.editableCellTemplate||o.editableCellTemplate||"ui-grid/cellEditor",r.push(i.getTemplate(t.editableCellTemplate).then(function(e){n.editableCellTemplate=e},function(e){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+t.editableCellTemplate+"'")}))),t.enableCellEditOnFocus=void 0===t.enableCellEditOnFocus?o.enableCellEditOnFocus:t.enableCellEditOnFocus,e.all(r)},isStartEditKey:function(e){return!(e.metaKey||e.keyCode===t.keymap.ESC||e.keyCode===t.keymap.SHIFT||e.keyCode===t.keymap.CTRL||e.keyCode===t.keymap.ALT||e.keyCode===t.keymap.WIN||e.keyCode===t.keymap.CAPSLOCK||e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey||e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB||e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey||e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER)}};return n}]),e.directive("uiGridEdit",["gridUtil","uiGridEditService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,n,o){t.initializeGrid(o.grid)},post:function(e,t,i,n){}}}}}]),e.directive("uiGridViewport",["uiGridEditConstants",function(e){return{replace:!0,priority:-99998,require:["^uiGrid","^uiGridRenderContainer"],scope:!1,compile:function(){return{post:function(t,i,n,o){var r=o[0];if(r.grid.api.edit&&r.grid.api.cellNav){var a=o[1].containerId;"body"===a&&(t.$on(e.events.CANCEL_CELL_EDIT,function(){r.focus()}),t.$on(e.events.END_CELL_EDIT,function(){r.focus()}))}}}}}}]),e.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService","$rootScope",function(e,t,i,n,o,r,a,s,l){var c=500;if(t.has("uiGridCellNavService")){t.get("uiGridCellNavService")}return{priority:-100,restrict:"A",scope:!1,require:"?^uiGrid",link:function(t,d,u,p){function g(){d.on("dblclick",y),d.on("touchstart",f),p&&p.grid.api.cellNav&&(T=p.grid.api.cellNav.on.navigate(t,function(e,n){t.col.colDef.enableCellEditOnFocus&&e.row===t.row&&e.col===t.col&&i(function(){y()})}))}function f(e){"undefined"!=typeof e.originalEvent&&void 0!==e.originalEvent&&(e=e.originalEvent),d.on("touchend",m),k=i(function(){},c),k.then(function(){setTimeout(y,0),d.off("touchend",m)})}function m(e){i.cancel(k),d.off("touchend",m)}function h(){d.off("dblclick",y),d.off("keydown",v),d.off("touchstart",f),T()}function v(e){s.isStartEditKey(e)&&y(e)}function b(e,i){return!i.isSaving&&(angular.isFunction(e.colDef.cellEditableCondition)?e.colDef.cellEditableCondition(t):e.colDef.cellEditableCondition)}function y(i){if(!$&&b(t.col,t.row)){E=a(t.row.getQualifiedColField(t.col)),S=E(t),x=t.col.editableCellTemplate,x=t.col.colDef.editModelField?x.replace(n.MODEL_COL_FIELD,r.preEval("row.entity."+t.col.colDef.editModelField)):x.replace(n.MODEL_COL_FIELD,t.row.getQualifiedColField(t.col)),x=x.replace(n.COL_FIELD,"grid.getCellValue(row, col)");var s=t.col.colDef.editDropdownFilter?"|"+t.col.colDef.editDropdownFilter:"";x=x.replace(n.CUSTOM_FILTERS,s);var c="text";switch(t.col.colDef.type){case"boolean":c="checkbox";break;case"number":c="number";break;case"date":c="date"}x=x.replace("INPUT_TYPE",c);var u=t.col.colDef.editDropdownRowEntityOptionsArrayPath;u?t.editDropdownOptionsArray=_(t.row.entity,u):t.editDropdownOptionsArray=t.col.colDef.editDropdownOptionsArray,t.editDropdownIdLabel=t.col.colDef.editDropdownIdLabel?t.col.colDef.editDropdownIdLabel:"id",t.editDropdownValueLabel=t.col.colDef.editDropdownValueLabel?t.col.colDef.editDropdownValueLabel:"value";var p=function(){$=!0,h();var i=angular.element(x);d.append(i),A=t.$new(),e(i)(A);var n=angular.element(d.children()[0]);n.addClass("ui-grid-cell-contents-hidden")};l.$$phase?p():t.$apply(p);var g=t.col.grid.api.core.on.scrollBegin(t,function(){w(!0),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,E(t),S),g(),f(),m()}),f=t.$on(o.events.END_CELL_EDIT,function(e,i){w(i),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,E(t),S),f(),g(),m()}),m=t.$on(o.events.CANCEL_CELL_EDIT,function(){C(),m(),g(),f()});t.$broadcast(o.events.BEGIN_CELL_EDIT,i),t.grid.api.edit.raise.beginCellEdit(t.row.entity,t.col.colDef,i)}}function w(e){if(t.grid.disableScrolling=!1,$){var i=angular.element(d.children()[0]);A.$destroy(),angular.element(d.children()[1]).remove(),i.removeClass("ui-grid-cell-contents-hidden"),$=!1,g(),t.grid.api.core.notifyDataChange(n.dataChange.EDIT)}}function C(){t.grid.disableScrolling=!1,$&&(E.assign(t,S),t.$apply(),t.grid.api.edit.raise.cancelCellEdit(t.row.entity,t.col.colDef),w(!0))}function _(e,t){t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var i=t.split(".");i.length;){var n=i.shift();if(!(n in e))return;e=e[n]}return e}var x,S,E,k,A,$=!1;if(t.col.colDef.enableCellEdit){var T=function(){};p&&p.grid.api.cellNav&&p.grid.api.cellNav.on.viewPortKeyDown(t,function(e,i){null!==i&&(i.row!==t.row||i.col!==t.col||t.col.colDef.enableCellEditOnFocus||(v(e),p.grid.api.core.scrollToIfNecessary(i.row,i.col)))});var D=function(){t.col.colDef.enableCellEdit&&t.row.enableCellEdit!==!1?g():h()};D();var P=t.$watch("row",D);t.$on("$destroy",P)}}}}]),e.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout",function(e,t,i,n){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(e,t,i){},post:function(e,o,r,a){var s,l;a[0]&&(s=a[0]),a[1]&&(l=a[1]),e.$on(i.events.BEGIN_CELL_EDIT,function(){o[0].focus(),o[0].select(),o.on("blur",function(t){e.stopEdit(t)})}),e.deepEdit=!1,e.stopEdit=function(t){e.inputForm&&!e.inputForm.$valid?(t.stopPropagation(),e.$emit(i.events.CANCEL_CELL_EDIT)):e.$emit(i.events.END_CELL_EDIT),e.deepEdit=!1},o.on("click",function(t){"checkbox"!==o[0].type&&(e.deepEdit=!0,n(function(){e.grid.disableScrolling=!0}))}),o.on("keydown",function(n){switch(n.keyCode){case t.keymap.ESC:n.stopPropagation(),e.$emit(i.events.CANCEL_CELL_EDIT)}if(!e.deepEdit||n.keyCode!==t.keymap.LEFT&&n.keyCode!==t.keymap.RIGHT&&n.keyCode!==t.keymap.UP&&n.keyCode!==t.keymap.DOWN)if(s&&s.grid.api.cellNav)n.uiGridTargetRenderContainerId=l.containerId,null!==s.cellNav.handleKeyDown(n)&&e.stopEdit(n);else switch(n.keyCode){case t.keymap.ENTER:case t.keymap.TAB:n.stopPropagation(),n.preventDefault(),e.stopEdit(n)}else n.stopPropagation();return!0})}}}}}]),e.directive("uiGridEditor",["$filter",function(e){function t(e){if("undefined"==typeof e||""===e)return null;var t=e.split("-");if(3!==t.length)return null;var i=parseInt(t[0],10),n=parseInt(t[1],10),o=parseInt(t[2],10);return 1>n||1>i||1>o?null:new Date(i,n-1,o)}return{priority:-100,require:"?ngModel",link:function(i,n,o,r){2===angular.version.minor&&o.type&&"date"===o.type&&r&&(r.$formatters.push(function(t){return r.$setValidity(null,!t||!isNaN(t.getTime())),e("date")(t,"yyyy-MM-dd")}),r.$parsers.push(function(e){if(e&&e.length>0){var i=t(e);return r.$setValidity(null,i&&!isNaN(i.getTime())),i}return r.$setValidity(null,!0),null}))}}}]),e.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants",function(e,t){return{require:["?^uiGrid","?^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,t,i){},post:function(i,n,o,r){var a=r[0],s=r[1];i.$on(t.events.BEGIN_CELL_EDIT,function(){n[0].focus(),n[0].style.width=n[0].parentElement.offsetWidth-1+"px",n.on("blur",function(e){i.stopEdit(e)})}),i.stopEdit=function(e){i.$emit(t.events.END_CELL_EDIT)},n.on("keydown",function(n){switch(n.keyCode){case e.keymap.ESC:n.stopPropagation(),i.$emit(t.events.CANCEL_CELL_EDIT)}if(a&&a.grid.api.cellNav)n.uiGridTargetRenderContainerId=s.containerId,null!==a.cellNav.handleKeyDown(n)&&i.stopEdit(n);else switch(n.keyCode){case e.keymap.ENTER:case e.keymap.TAB:n.stopPropagation(),n.preventDefault(),i.stopEdit(n)}return!0})}}}}}]),e.directive("uiGridEditFileChooser",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout",function(e,t,i,n){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(e,t,i){},post:function(t,n,o,r){var a,s;r[0]&&(a=r[0]),r[1]&&(s=r[1]);var l=(a.grid,function(n){var o=n.srcElement||n.target;o&&o.files&&o.files.length>0?("function"==typeof t.col.colDef.editFileChooserCallback?t.col.colDef.editFileChooserCallback(t.row,t.col,o.files):e.logError("You need to set colDef.editFileChooserCallback to use the file chooser"),o.form.reset(),t.$emit(i.events.END_CELL_EDIT)):t.$emit(i.events.CANCEL_CELL_EDIT)});n[0].addEventListener("change",l,!1),t.$on(i.events.BEGIN_CELL_EDIT,function(){n[0].focus(),n[0].select(),n.on("blur",function(e){t.$emit(i.events.END_CELL_EDIT)})})}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.expandable",["ui.grid"]);e.service("uiGridExpandableService",["gridUtil","$compile",function(e,t){var i={initializeGrid:function(t){t.expandable={},t.expandable.expandedAll=!1,t.options.enableExpandable=t.options.enableExpandable!==!1,t.options.expandableRowHeight=t.options.expandableRowHeight||150,t.options.expandableRowHeaderWidth=t.options.expandableRowHeaderWidth||40,t.options.enableExpandable&&!t.options.expandableRowTemplate&&(e.logError("You have not set the expandableRowTemplate, disabling expandable module"),t.options.enableExpandable=!1);var n={events:{expandable:{rowExpandedStateChanged:function(e,t){}}},methods:{expandable:{toggleRowExpansion:function(e){var n=t.getRow(e);null!==n&&i.toggleRowExpansion(t,n)},expandAllRows:function(){i.expandAllRows(t)},collapseAllRows:function(){i.collapseAllRows(t)},toggleAllRows:function(){i.toggleAllRows(t)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods)},toggleRowExpansion:function(e,t){t.isExpanded=!t.isExpanded,t.isExpanded?t.height=t.grid.options.rowHeight+e.options.expandableRowHeight:(t.height=t.grid.options.rowHeight,e.expandable.expandedAll=!1),e.api.expandable.raise.rowExpandedStateChanged(t)},expandAllRows:function(e,t){e.renderContainers.body.visibleRowCache.forEach(function(t){t.isExpanded||i.toggleRowExpansion(e,t)}),e.expandable.expandedAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.renderContainers.body.visibleRowCache.forEach(function(t){t.isExpanded&&i.toggleRowExpansion(e,t)}),e.expandable.expandedAll=!1,e.queueGridRefresh()},toggleAllRows:function(e){e.expandable.expandedAll?i.collapseAllRows(e):i.expandAllRows(e)}};return i}]),e.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(i,n,o,r){if(r.grid.options.enableExpandableRowHeader!==!1){var a={name:"expandableButtons",displayName:"",exporterSuppressExport:!0,enableColumnResizing:!1,enableColumnMenu:!1,width:r.grid.options.expandableRowHeaderWidth||40};a.cellTemplate=t.get("ui-grid/expandableRowHeader"),a.headerCellTemplate=t.get("ui-grid/expandableTopRowHeader"),r.grid.addRowHeaderColumn(a)}e.initializeGrid(r.grid)},post:function(e,t,i,n){}}}}}]),e.directive("uiGrid",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:599,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,i,n){n.grid.api.core.on.renderingComplete(e,function(){e.row&&e.row.grid&&e.row.grid.options&&e.row.grid.options.enableExpandable&&(n.grid.parentRow=e.row)})},post:function(e,t,i,n){}}}}}]),e.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$compile","uiGridConstants","gridUtil","$interval","$log",function(e,t,i,n,o,r,a){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(e,t,n,r){o.getTemplate(e.grid.options.expandableRowTemplate).then(function(n){if(e.grid.options.expandableRowScope){var o=e.grid.options.expandableRowScope;for(var r in o)o.hasOwnProperty(r)&&(e[r]=o[r])}var a=i(n)(e);t.append(a),e.row.expandedRendered=!0})},post:function(e,t,i,n){e.$on("$destroy",function(){e.row.expandedRendered=!1})}}}}}]),e.directive("uiGridRow",["$compile","gridUtil","$templateCache",function(e,t,i){return{priority:-200,scope:!1,compile:function(e,t){return{pre:function(e,t,i,n){e.expandableRow={},e.expandableRow.shouldRenderExpand=function(){var t="body"===e.colContainer.name&&e.grid.options.enableExpandable!==!1&&e.row.isExpanded&&(!e.grid.isScrollingVertically||e.row.expandedRendered);return t},e.expandableRow.shouldRenderFiller=function(){var t=e.row.isExpanded&&("body"!==e.colContainer.name||e.grid.isScrollingVertically&&!e.row.expandedRendered);return t}},post:function(e,t,i,n){}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,t,i){return{priority:-200,scope:!1,compile:function(e,t){var n=angular.element(e.children().children()[0]),o=i.get("ui-grid/expandableScrollFiller"),r=i.get("ui-grid/expandableRow");return n.append(r),n.append(o),{pre:function(e,t,i,n){},post:function(e,t,i,n){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.exporter",["ui.grid"]);e.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"}),e.service("uiGridExporterService",["$q","uiGridExporterConstants","gridUtil","$compile","$interval","i18nService",function(e,t,i,n,o,r){var a={delay:100,initializeGrid:function(e){e.exporter={},this.defaultGridOptions(e.options);var t={events:{exporter:{}},methods:{exporter:{csvExport:function(t,i){a.csvExport(e,t,i)},pdfExport:function(t,i){a.pdfExport(e,t,i)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods),e.api.core.addToGridMenu?a.addToMenu(e):o(function(){e.api.core.addToGridMenu&&a.addToMenu(e)},this.delay,1)},defaultGridOptions:function(e){e.exporterSuppressMenu=e.exporterSuppressMenu===!0,e.exporterMenuLabel=e.exporterMenuLabel?e.exporterMenuLabel:"Export",e.exporterSuppressColumns=e.exporterSuppressColumns?e.exporterSuppressColumns:[],e.exporterCsvColumnSeparator=e.exporterCsvColumnSeparator?e.exporterCsvColumnSeparator:",",e.exporterCsvFilename=e.exporterCsvFilename?e.exporterCsvFilename:"download.csv",e.exporterPdfFilename=e.exporterPdfFilename?e.exporterPdfFilename:"download.pdf",e.exporterOlderExcelCompatibility=e.exporterOlderExcelCompatibility===!0,e.exporterPdfDefaultStyle=e.exporterPdfDefaultStyle?e.exporterPdfDefaultStyle:{fontSize:11},e.exporterPdfTableStyle=e.exporterPdfTableStyle?e.exporterPdfTableStyle:{margin:[0,5,0,15]},e.exporterPdfTableHeaderStyle=e.exporterPdfTableHeaderStyle?e.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"},e.exporterPdfHeader=e.exporterPdfHeader?e.exporterPdfHeader:null,e.exporterPdfFooter=e.exporterPdfFooter?e.exporterPdfFooter:null,e.exporterPdfOrientation=e.exporterPdfOrientation?e.exporterPdfOrientation:"landscape",e.exporterPdfPageSize=e.exporterPdfPageSize?e.exporterPdfPageSize:"A4",e.exporterPdfMaxGridWidth=e.exporterPdfMaxGridWidth?e.exporterPdfMaxGridWidth:720,e.exporterMenuAllData=void 0!==e.exporterMenuAllData?e.exporterMenuAllData:!0,e.exporterMenuCsv=void 0!==e.exporterMenuCsv?e.exporterMenuCsv:!0,e.exporterMenuPdf=void 0!==e.exporterMenuPdf?e.exporterMenuPdf:!0,e.exporterPdfCustomFormatter=e.exporterPdfCustomFormatter&&"function"==typeof e.exporterPdfCustomFormatter?e.exporterPdfCustomFormatter:function(e){return e},e.exporterHeaderFilterUseName=e.exporterHeaderFilterUseName===!0,e.exporterFieldCallback=e.exporterFieldCallback?e.exporterFieldCallback:function(e,t,i,n){return n},e.exporterAllDataFn=e.exporterAllDataFn?e.exporterAllDataFn:null,null==e.exporterAllDataFn&&e.exporterAllDataPromise&&(e.exporterAllDataFn=e.exporterAllDataPromise)},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:r.getSafeText("gridMenu.exporterAllAsCsv"),action:function(e){this.grid.api.exporter.csvExport(t.ALL,t.ALL)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.options.exporterMenuAllData},order:200},{title:r.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(e){this.grid.api.exporter.csvExport(t.VISIBLE,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv},order:201},{title:r.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(e){this.grid.api.exporter.csvExport(t.SELECTED,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0},order:202},{title:r.getSafeText("gridMenu.exporterAllAsPdf"),action:function(e){this.grid.api.exporter.pdfExport(t.ALL,t.ALL)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.options.exporterMenuAllData},order:203},{title:r.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(e){this.grid.api.exporter.pdfExport(t.VISIBLE,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf},order:204},{title:r.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(e){this.grid.api.exporter.pdfExport(t.SELECTED,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0},order:205}])},csvExport:function(e,t,i){var n=this;this.loadAllDataIfNeeded(e,t,i).then(function(){var o=n.getColumnHeaders(e,i),r=n.getData(e,t,i),a=n.formatAsCsv(o,r,e.options.exporterCsvColumnSeparator);n.downloadFile(e.options.exporterCsvFilename,a,e.options.exporterOlderExcelCompatibility)})},loadAllDataIfNeeded:function(i,n,o){if(n===t.ALL&&i.rows.length!==i.options.totalItems&&i.options.exporterAllDataFn)return i.options.exporterAllDataFn().then(function(){i.modifyRows(i.options.data)});var r=e.defer();return r.resolve(),r.promise},getColumnHeaders:function(e,i){var n,o=[];return n=i===t.ALL?e.columns:e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}),n.forEach(function(t,i){t.colDef.exporterSuppressExport!==!0&&-1===e.options.exporterSuppressColumns.indexOf(t.name)&&o.push({name:t.field,displayName:e.options.exporterHeaderFilter?e.options.exporterHeaderFilterUseName?e.options.exporterHeaderFilter(t.name):e.options.exporterHeaderFilter(t.displayName):t.displayName,width:t.drawnWidth?t.drawnWidth:t.width,align:"number"===t.colDef.type?"right":"left"})}),o},getData:function(e,n,o){var r,a,s=[];switch(n){case t.ALL:r=e.rows;break;case t.VISIBLE:r=e.getVisibleRows();break;case t.SELECTED:e.api.selection?r=e.api.selection.getSelectedGridRows():i.logError("selection feature must be enabled to allow selected rows to be exported")}return a=o===t.ALL?e.columns:e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}),r.forEach(function(i,n){if(i.exporterEnableExporting!==!1){var r=[];a.forEach(function(n,a){if((n.visible||o===t.ALL)&&n.colDef.exporterSuppressExport!==!0&&-1===e.options.exporterSuppressColumns.indexOf(n.name)){var s={value:e.options.exporterFieldCallback(e,i,n,e.getCellValue(i,n))};n.colDef.exporterPdfAlign&&(s.alignment=n.colDef.exporterPdfAlign),r.push(s)}}),s.push(r)}}),s},formatAsCsv:function(e,t,i){var n=this,o=e.map(function(e){return{value:e.displayName}}),r=n.formatRowAsCsv(this,i)(o)+"\n";return r+=t.map(this.formatRowAsCsv(this,i)).join("\n")},formatRowAsCsv:function(e,t){return function(i){return i.map(e.formatFieldAsCsv).join(t)}},formatFieldAsCsv:function(e){return null==e.value?"":"number"==typeof e.value?e.value:"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?'"'+e.value.replace(/"/g,'""')+'"':JSON.stringify(e.value)},isIE:function(){var e=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);return e?parseInt(e[1]):!1},downloadFile:function(e,t,i){var n,o,r=document,a=r.createElement("a"),s="application/octet-stream;charset=utf-8";if(o=this.isIE(),o&&10>o){var l=r.createElement("iframe");return document.body.appendChild(l),l.contentWindow.document.open("text/html","replace"),l.contentWindow.document.write("sep=,\r\n"+t),l.contentWindow.document.close(),l.contentWindow.focus(),l.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(l),!0}if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([i?"\ufeff":"",t],{type:s}),e);if("download"in a){var c=new Blob([i?"\ufeff":"",t],{type:s});n=URL.createObjectURL(c),a.setAttribute("download",e)}else n="data:"+s+","+encodeURIComponent(t),a.setAttribute("target","_blank");a.href=n,a.setAttribute("style","display:none;"),r.body.appendChild(a),setTimeout(function(){if(a.click)a.click();else if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),a.dispatchEvent(e)}r.body.removeChild(a)},this.delay)},pdfExport:function(e,t,i){var n=this;this.loadAllDataIfNeeded(e,t,i).then(function(){var o=n.getColumnHeaders(e,i),r=n.getData(e,t,i),a=n.prepareAsPdf(e,o,r);n.isIE()?n.downloadPDF(e.options.exporterPdfFilename,a):pdfMake.createPdf(a).open()})},downloadPDF:function(e,t){var i,n=document;n.createElement("a");i=this.isIE();var o,r=pdfMake.createPdf(t);if(r.getBuffer(function(e){o=new Blob([e])}),i&&10>i){var a=n.createElement("iframe");return document.body.appendChild(a),a.contentWindow.document.open("text/html","replace"),a.contentWindow.document.write(o),a.contentWindow.document.close(),a.contentWindow.focus(),a.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(a),!0}return navigator.msSaveBlob?navigator.msSaveBlob(o,e):void 0},prepareAsPdf:function(e,t,i){var n=this.calculatePdfHeaderWidths(e,t),o=t.map(function(e){return{text:e.displayName,style:"tableHeader"}}),r=i.map(this.formatRowAsPdf(this)),a=[o].concat(r),s={pageOrientation:e.options.exporterPdfOrientation,pageSize:e.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:n,body:a}}],styles:{tableStyle:e.options.exporterPdfTableStyle,tableHeader:e.options.exporterPdfTableHeaderStyle},defaultStyle:e.options.exporterPdfDefaultStyle};return e.options.exporterPdfLayout&&(s.layout=e.options.exporterPdfLayout),e.options.exporterPdfHeader&&(s.header=e.options.exporterPdfHeader),e.options.exporterPdfFooter&&(s.footer=e.options.exporterPdfFooter),e.options.exporterPdfCustomFormatter&&(s=e.options.exporterPdfCustomFormatter(s)),s},calculatePdfHeaderWidths:function(e,t){var i=0;t.forEach(function(e){"number"==typeof e.width&&(i+=e.width)});var n=0;t.forEach(function(e){if("*"===e.width&&(n+=100),"string"==typeof e.width&&e.width.match(/(\d)*%/)){var t=parseInt(e.width.match(/(\d)*%/)[0]);e.width=i*t/100,n+=e.width}});var o=i+n;return t.map(function(t){return"*"===t.width?t.width:t.width*e.options.exporterPdfMaxGridWidth/o})},formatRowAsPdf:function(e){return function(t){return t.map(e.formatFieldAsPdfString)}},formatFieldAsPdfString:function(e){var t;return t=null==e.value?"":"number"==typeof e.value?e.value.toString():"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?e.value.replace(/"/g,'""'):JSON.stringify(e.value).replace(/^"/,"").replace(/"$/,""),e.alignment&&"string"==typeof e.alignment&&(t={text:t,alignment:e.alignment}),t}};return a}]),e.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(e,t,i,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,i,n,o){t.initializeGrid(o.grid),o.grid.exporter.$scope=e}}}])}(),function(){"use strict";var e=angular.module("ui.grid.grouping",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridGroupingConstants",{featureName:"grouping",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridGroupingService",["$q","uiGridGroupingConstants","gridUtil","rowSorter","GridRow","gridClassFactory","i18nService","uiGridConstants","uiGridTreeBaseService",function(e,t,i,n,o,r,a,s,l){var c={initializeGrid:function(e,t){l.initializeGrid(e,t),e.grouping={},e.grouping.groupHeaderCache={},c.defaultGridOptions(e.options),e.registerRowsProcessor(c.groupRows,400),e.registerColumnBuilder(c.groupingColumnBuilder),e.registerColumnsProcessor(c.groupingColumnProcessor,400);var i={events:{grouping:{}},methods:{grouping:{getGrouping:function(t){var i=c.getGrouping(e);return i.grouping.forEach(function(e){e.colName=e.col.name,delete e.col}),i.aggregations.forEach(function(e){e.colName=e.col.name,delete e.col}),i.aggregations=i.aggregations.filter(function(e){return!e.aggregation.source||"grouping"!==e.aggregation.source}),t&&(i.rowExpandedStates=c.getRowExpandedStates(e.grouping.groupingHeaderCache)),i},setGrouping:function(t){c.setGrouping(e,t)},groupColumn:function(t){var i=e.getColumn(t);c.groupColumn(e,i)},ungroupColumn:function(t){var i=e.getColumn(t);c.ungroupColumn(e,i)},clearGrouping:function(){c.clearGrouping(e)},aggregateColumn:function(t,i,n){var o=e.getColumn(t);c.aggregateColumn(e,o,i,n)}}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods),e.api.core.on.sortChanged(t,c.tidyPriorities)},defaultGridOptions:function(e){e.enableGrouping=e.enableGrouping!==!1,e.groupingShowCounts=e.groupingShowCounts!==!1,e.groupingNullLabel="undefined"==typeof e.groupingNullLabel?"Null":e.groupingNullLabel,e.enableGroupHeaderSelection=e.enableGroupHeaderSelection===!0},groupingColumnBuilder:function(e,n,o){if(e.enableGrouping!==!1){"undefined"==typeof n.grouping&&"undefined"!=typeof e.grouping?(n.grouping=angular.copy(e.grouping),"undefined"!=typeof n.grouping.groupPriority&&n.grouping.groupPriority>-1&&(n.treeAggregationFn=l.nativeAggregations()[t.aggregation.COUNT].aggregationFn,n.treeAggregationFinalizerFn=c.groupedFinalizerFn)):"undefined"==typeof n.grouping&&(n.grouping={}),"undefined"!=typeof n.grouping&&"undefined"!=typeof n.grouping.groupPriority&&n.grouping.groupPriority>=0&&(n.suppressRemoveSort=!0);var r={name:"ui.grid.grouping.group",title:a.get().grouping.group,icon:"ui-grid-icon-indent-right",shown:function(){return"undefined"==typeof this.context.col.grouping||"undefined"==typeof this.context.col.grouping.groupPriority||this.context.col.grouping.groupPriority<0},action:function(){c.groupColumn(this.context.col.grid,this.context.col)}},s={name:"ui.grid.grouping.ungroup",title:a.get().grouping.ungroup,icon:"ui-grid-icon-indent-left",shown:function(){return"undefined"!=typeof this.context.col.grouping&&"undefined"!=typeof this.context.col.grouping.groupPriority&&this.context.col.grouping.groupPriority>=0},action:function(){c.ungroupColumn(this.context.col.grid,this.context.col)}},d={name:"ui.grid.grouping.aggregateRemove",title:a.get().grouping.aggregate_remove,shown:function(){return"undefined"!=typeof this.context.col.treeAggregationFn},action:function(){c.aggregateColumn(this.context.col.grid,this.context.col,null)}},u=function(e,t){t=t||a.get().grouping["aggregate_"+e]||e;var o={name:"ui.grid.grouping.aggregate"+e,title:t,shown:function(){return"undefined"==typeof this.context.col.treeAggregation||"undefined"==typeof this.context.col.treeAggregation.type||this.context.col.treeAggregation.type!==e},action:function(){c.aggregateColumn(this.context.col.grid,this.context.col,e)}};i.arrayContainsObjectWithProperty(n.menuItems,"name","ui.grid.grouping.aggregate"+e)||n.menuItems.push(o)};n.colDef.groupingShowGroupingMenu!==!1&&(i.arrayContainsObjectWithProperty(n.menuItems,"name","ui.grid.grouping.group")||n.menuItems.push(r),i.arrayContainsObjectWithProperty(n.menuItems,"name","ui.grid.grouping.ungroup")||n.menuItems.push(s)),n.colDef.groupingShowAggregationMenu!==!1&&(angular.forEach(l.nativeAggregations(),function(e,t){u(t)}),angular.forEach(o.treeCustomAggregations,function(e,t){u(t,e.menuTitle)}),i.arrayContainsObjectWithProperty(n.menuItems,"name","ui.grid.grouping.aggregateRemove")||n.menuItems.push(d))}},groupingColumnProcessor:function(e,t){return e=c.moveGroupColumns(this,e,t)},groupedFinalizerFn:function(e){var t=this;"undefined"!=typeof e.groupVal?(e.rendered=e.groupVal,t.grid.options.groupingShowCounts&&"date"!==t.colDef.type&&(e.rendered+=" ("+e.value+")")):e.rendered=null},moveGroupColumns:function(e,t,i){return e.options.moveGroupColumns!==!1?(t.forEach(function(e,t){e.groupingPosition=t}),t.sort(function(e,t){var i,n;return i="undefined"==typeof e.grouping||"undefined"==typeof e.grouping.groupPriority||e.grouping.groupPriority<0?null:e.grouping.groupPriority,n="undefined"==typeof t.grouping||"undefined"==typeof t.grouping.groupPriority||t.grouping.groupPriority<0?null:t.grouping.groupPriority,null!==i&&null===n?-1:null!==n&&null===i?1:null!==i&&null!==n?i-n:e.groupingPosition-t.groupingPosition}),t.forEach(function(e,t){delete e.groupingPosition}),t):void 0},groupColumn:function(e,i){"undefined"==typeof i.grouping&&(i.grouping={});
var n=c.getGrouping(e);i.grouping.groupPriority=n.grouping.length,i.sort?"undefined"!=typeof i.sort.direction&&null!==i.sort.direction||(i.sort.direction=s.ASC):i.sort={direction:s.ASC},c.tidyPriorities(e),i.treeAggregation={type:t.aggregation.COUNT,source:"grouping"},i.treeAggregationFn=l.nativeAggregations()[t.aggregation.COUNT].aggregationFn,i.treeAggregationFinalizerFn=c.groupedFinalizerFn,e.queueGridRefresh()},ungroupColumn:function(e,t){"undefined"!=typeof t.grouping&&(delete t.grouping.groupPriority,delete t.treeAggregation,delete t.customTreeAggregationFinalizer,c.tidyPriorities(e),e.queueGridRefresh())},aggregateColumn:function(e,t,i){"undefined"!=typeof t.grouping&&"undefined"!=typeof t.grouping.groupPriority&&t.grouping.groupPriority>=0&&c.ungroupColumn(e,t);var n={};"undefined"!=typeof e.options.treeCustomAggregations[i]?n=e.options.treeCustomAggregations[i]:"undefined"!=typeof l.nativeAggregations()[i]&&(n=l.nativeAggregations()[i]),t.treeAggregation={type:i,label:a.get().aggregation[n.label]||n.label},t.treeAggregationFn=n.aggregationFn,t.treeAggregationFinalizerFn=n.finalizerFn,e.queueGridRefresh()},setGrouping:function(e,t){"undefined"!=typeof t&&(c.clearGrouping(e),t.grouping&&t.grouping.length&&t.grouping.length>0&&t.grouping.forEach(function(t){var i=e.getColumn(t.colName);i&&c.groupColumn(e,i)}),t.aggregations&&t.aggregations.length&&t.aggregations.forEach(function(t){var i=e.getColumn(t.colName);i&&c.aggregateColumn(e,i,t.aggregation.type)}),t.rowExpandedStates&&c.applyRowExpandedStates(e.grouping.groupingHeaderCache,t.rowExpandedStates))},clearGrouping:function(e){var t=c.getGrouping(e);t.grouping.length>0&&t.grouping.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),c.ungroupColumn(e,t.col)}),t.aggregations.length>0&&t.aggregations.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),c.aggregateColumn(e,t.col,null)})},tidyPriorities:function(e){"undefined"!=typeof e&&"undefined"==typeof e.grid||"undefined"==typeof this.grid||(e=this.grid);var t=[],i=[];e.columns.forEach(function(e,n){"undefined"!=typeof e.grouping&&"undefined"!=typeof e.grouping.groupPriority&&e.grouping.groupPriority>=0?t.push(e):"undefined"!=typeof e.sort&&"undefined"!=typeof e.sort.priority&&e.sort.priority>=0&&i.push(e)}),t.sort(function(e,t){return e.grouping.groupPriority-t.grouping.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.suppressRemoveSort=!0,"undefined"==typeof e.sort&&(e.sort={}),e.sort.priority=t});var n=t.length;i.sort(function(e,t){return e.sort.priority-t.sort.priority}),i.forEach(function(e,t){e.sort.priority=n,e.suppressRemoveSort=e.colDef.suppressRemoveSort,n++})},groupRows:function(e){if(0===e.length)return e;var t=this;t.grouping.oldGroupingHeaderCache=t.grouping.groupingHeaderCache||{},t.grouping.groupingHeaderCache={};for(var i=c.initialiseProcessingState(t),o=function(o,s){var l=t.getCellValue(a,o.col);o.initialised&&0===n.getSortFn(t,o.col,e)(l,o.currentValue)||(c.insertGroupHeader(t,e,r,i,s),r++)},r=0;r<e.length;r++){var a=e[r];a.visible&&i.forEach(o)}return delete t.grouping.oldGroupingHeaderCache,e},initialiseProcessingState:function(e){var t=[],i=c.getGrouping(e);return i.grouping.forEach(function(e,i){t.push({fieldName:e.field,col:e.col,initialised:!1,currentValue:null,currentRow:null})}),t},getGrouping:function(e){var t=[],i=[];return e.columns.forEach(function(e,n){e.grouping&&"undefined"!=typeof e.grouping.groupPriority&&e.grouping.groupPriority>=0&&t.push({field:e.field,col:e,groupPriority:e.grouping.groupPriority,grouping:e.grouping}),e.treeAggregation&&e.treeAggregation.type&&i.push({field:e.field,col:e,aggregation:e.treeAggregation})}),t.sort(function(e,t){return e.groupPriority-t.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.groupPriority=t,delete e.grouping}),{grouping:t,aggregations:i}},insertGroupHeader:function(e,t,i,n,a){var s=(n[a].fieldName,n[a].col),l=e.getCellValue(t[i],s),d=l;"undefined"!=typeof l&&null!==l||(d=e.options.groupingNullLabel);for(var u=e.grouping.oldGroupingHeaderCache,p=0;a>p;p++)u&&u[n[p].currentValue]&&(u=u[n[p].currentValue].children);var g;for(u&&u[l]?(g=u[l].row,g.entity={}):(g=new o({},null,e),r.rowTemplateAssigner.call(e,g)),g.entity["$$"+n[a].col.uid]={groupVal:d},g.treeLevel=a,g.groupHeader=!0,g.internalRow=!0,g.enableCellEdit=!1,g.enableSelection=e.options.enableGroupHeaderSelection,n[a].initialised=!0,n[a].currentValue=l,n[a].currentRow=g,c.finaliseProcessingState(n,a+1),t.splice(i,0,g),u=e.grouping.groupingHeaderCache,p=0;a>p;p++)u=u[n[p].currentValue].children;u[l]={row:g,children:{}}},finaliseProcessingState:function(e,t){for(var i=t;i<e.length;i++)e[i].initialised=!1,e[i].currentRow=null,e[i].currentValue=null},getRowExpandedStates:function(e){if("undefined"==typeof e)return{};var t={};return angular.forEach(e,function(e,i){t[i]={state:e.row.treeNode.state},e.children?t[i].children=c.getRowExpandedStates(e.children):t[i].children={}}),t},applyRowExpandedStates:function(e,t){"undefined"!=typeof t&&angular.forEach(t,function(t,i){e[i]&&(e[i].row.treeNode.state=t.state,t.children&&e[i].children&&c.applyRowExpandedStates(e[i].children,t.children))})}};return c}]),e.directive("uiGridGrouping",["uiGridGroupingConstants","uiGridGroupingService","$templateCache",function(e,t,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,n,o){o.grid.options.enableGrouping!==!1&&t.initializeGrid(o.grid,e)},post:function(e,t,i,n){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.importer",["ui.grid"]);e.constant("uiGridImporterConstants",{featureName:"importer"}),e.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(e,t,i,n,o,r,a,s){var l={initializeGrid:function(e,t){t.importer={$scope:e},this.defaultGridOptions(t.options);var i={events:{importer:{}},methods:{importer:{importFile:function(e){l.importThisFile(t,e)}}}};t.api.registerEventsFromObject(i.events),t.api.registerMethodsFromObject(i.methods),t.options.enableImporter&&t.options.importerShowMenu&&(t.api.core.addToGridMenu?l.addToMenu(t):r(function(){t.api.core.addToGridMenu&&l.addToMenu(t)},100,1))},defaultGridOptions:function(e){e.enableImporter||void 0===e.enableImporter?s.hasOwnProperty("File")&&s.hasOwnProperty("FileReader")&&s.hasOwnProperty("FileList")&&s.hasOwnProperty("Blob")?e.enableImporter=!0:(n.logError("The File APIs are not fully supported in this browser, grid importer cannot be used."),e.enableImporter=!1):e.enableImporter=!1,e.importerProcessHeaders=e.importerProcessHeaders||l.processHeaders,e.importerHeaderFilter=e.importerHeaderFilter||function(e){return e},e.importerErrorCallback&&"function"==typeof e.importerErrorCallback||delete e.importerErrorCallback,e.enableImporter!==!0||e.importerDataAddCallback||(n.logError("You have not set an importerDataAddCallback, importer is disabled"),e.enableImporter=!1),e.importerShowMenu=e.importerShowMenu!==!1,e.importerObjectCallback=e.importerObjectCallback||function(e,t){return t}},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:a.getSafeText("gridMenu.importerTitle"),order:150},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(t){this.grid.api.importer.importAFile(e)},order:151}])},importThisFile:function(e,t){if(!t)return void n.logError("No file object provided to importThisFile, should be impossible, aborting");var i=new FileReader;switch(t.type){case"application/json":i.onload=l.importJsonClosure(e);break;default:i.onload=l.importCsvClosure(e)}i.readAsText(t)},importJsonClosure:function(e){return function(t){var i,n=[],o=l.parseJson(e,t);null!==o&&(o.forEach(function(t,o){i=l.newObject(e),angular.extend(i,t),i=e.options.importerObjectCallback(e,i),n.push(i)}),l.addObjects(e,n))}},parseJson:function(e,t){var i;try{i=JSON.parse(t.target.result)}catch(n){return void l.alertError(e,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",t.target.result)}return Array.isArray(i)?i:(l.alertError(e,"importer.jsonNotarray","Import failed, file is not an array, file was: ",t.target.result),[])},importCsvClosure:function(e){return function(t){var i=l.parseCsv(t);if(!i||i.length<1)return void l.alertError(e,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",t.target.result);var n=l.createCsvObjects(e,i);return n&&0!==n.length?void l.addObjects(e,n):void l.alertError(e,"importer.noObjects","Objects were not able to be derived, content was: ",t.target.result)}},parseCsv:function(e){var t=e.target.result;return CSV.parse(t)},createCsvObjects:function(e,t){var i=e.options.importerProcessHeaders(e,t.shift());if(!i||0===i.length)return l.alertError(e,"importer.noHeaders","Column names could not be derived, content was: ",t),[];var n,o=[];return t.forEach(function(t,r){n=l.newObject(e),null!==t&&t.forEach(function(e,t){null!==i[t]&&(n[i[t]]=e)}),n=e.options.importerObjectCallback(e,n),o.push(n)}),o},processHeaders:function(e,t){var i=[];if(e.options.columnDefs&&0!==e.options.columnDefs.length){var n=l.flattenColumnDefs(e,e.options.columnDefs);return t.forEach(function(e,t){n[e]?i.push(n[e]):n[e.toLowerCase()]?i.push(n[e.toLowerCase()]):i.push(null)}),i}return t.forEach(function(e,t){i.push(e.replace(/[^0-9a-zA-Z\-_]/g,"_"))}),i},flattenColumnDefs:function(e,t){var i={};return t.forEach(function(t,n){t.name&&(i[t.name]=t.field||t.name,i[t.name.toLowerCase()]=t.field||t.name),t.field&&(i[t.field]=t.field||t.name,i[t.field.toLowerCase()]=t.field||t.name),t.displayName&&(i[t.displayName]=t.field||t.name,i[t.displayName.toLowerCase()]=t.field||t.name),t.displayName&&e.options.importerHeaderFilter&&(i[e.options.importerHeaderFilter(t.displayName)]=t.field||t.name,i[e.options.importerHeaderFilter(t.displayName).toLowerCase()]=t.field||t.name)}),i},addObjects:function(e,i,n){if(e.api.rowEdit){var o=e.registerDataChangeCallback(function(){e.api.rowEdit.setRowsDirty(i),o()},[t.dataChange.ROW]);e.importer.$scope.$on("$destroy",o)}e.importer.$scope.$apply(e.options.importerDataAddCallback(e,i))},newObject:function(e){return"undefined"!=typeof e.options&&"undefined"!=typeof e.options.importerNewObject?new e.options.importerNewObject:{}},alertError:function(e,t,i,o){e.options.importerErrorCallback?e.options.importerErrorCallback(e,t,i,o):(s.alert(a.getSafeText(t)),n.logError(i+o))}};return l}]),e.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,i,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,i,n,o){t.initializeGrid(e,o.grid)}}}]),e.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,i,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,templateUrl:"ui-grid/importerMenuItem",link:function(e,n,o,r){var a=function(e){var i=e.srcElement||e.target;if(i&&i.files&&1===i.files.length){var n=i.files[0];t.importThisFile(l,n),i.form.reset()}},s=n[0].querySelectorAll(".ui-grid-importer-file-chooser"),l=r.grid;1!==s.length?i.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue"):s[0].addEventListener("change",a,!1)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.infiniteScroll",["ui.grid"]);e.service("uiGridInfiniteScrollService",["gridUtil","$compile","$timeout","uiGridConstants","ScrollEvent","$q",function(e,t,i,n,o,r){var a={initializeGrid:function(e,t){if(a.defaultGridOptions(e.options),e.options.enableInfiniteScroll){e.infiniteScroll={dataLoading:!1},a.setScrollDirections(e,e.options.infiniteScrollUp,e.options.infiniteScrollDown),e.api.core.on.scrollEnd(t,a.handleScroll);var i={events:{infiniteScroll:{needLoadMoreData:function(e,t){},needLoadMoreDataTop:function(e,t){}}},methods:{infiniteScroll:{dataLoaded:function(t,i){a.setScrollDirections(e,t,i);var n=a.adjustScroll(e).then(function(){e.infiniteScroll.dataLoading=!1});return n},resetScroll:function(t,i){return a.setScrollDirections(e,t,i),a.adjustInfiniteScrollPosition(e,0)},saveScrollPercentage:function(){e.infiniteScroll.prevScrolltopPercentage=e.renderContainers.body.prevScrolltopPercentage,e.infiniteScroll.previousVisibleRows=e.renderContainers.body.visibleRowCache.length},dataRemovedTop:function(t,i){a.dataRemovedTop(e,t,i)},dataRemovedBottom:function(t,i){a.dataRemovedBottom(e,t,i)},setScrollDirections:function(t,i){a.setScrollDirections(e,t,i)}}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods)}},defaultGridOptions:function(e){e.enableInfiniteScroll=e.enableInfiniteScroll!==!1,e.infiniteScrollRowsFromEnd=e.infiniteScrollRowsFromEnd||20,e.infiniteScrollUp=e.infiniteScrollUp===!0,e.infiniteScrollDown=e.infiniteScrollDown!==!1},setScrollDirections:function(e,t,i){e.infiniteScroll.scrollUp=t===!0,e.suppressParentScrollUp=t===!0,e.infiniteScroll.scrollDown=i!==!1,e.suppressParentScrollDown=i!==!1},handleScroll:function(e){if(!(e.grid.infiniteScroll&&e.grid.infiniteScroll.dataLoading||"ui.grid.adjustInfiniteScrollPosition"===e.source)&&e.y){var t,i=e.grid.options.infiniteScrollRowsFromEnd/e.grid.renderContainers.body.visibleRowCache.length;e.grid.scrollDirection===n.scrollDirection.UP?(t=e.y.percentage,i>=t&&a.loadData(e.grid)):e.grid.scrollDirection===n.scrollDirection.DOWN&&(t=1-e.y.percentage,i>=t&&a.loadData(e.grid))}},loadData:function(e){e.infiniteScroll.previousVisibleRows=e.renderContainers.body.visibleRowCache.length,e.infiniteScroll.direction=e.scrollDirection,delete e.infiniteScroll.prevScrolltopPercentage,e.scrollDirection===n.scrollDirection.UP&&e.infiniteScroll.scrollUp?(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreDataTop()):e.scrollDirection===n.scrollDirection.DOWN&&e.infiniteScroll.scrollDown&&(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreData())},adjustScroll:function(e){var t=r.defer();return i(function(){var o;void 0===e.infiniteScroll.direction&&a.adjustInfiniteScrollPosition(e,0);var r,s,l=e.renderContainers.body.visibleRowCache.length,c=e.getViewportHeight()/e.options.rowHeight/2;e.infiniteScroll.direction===n.scrollDirection.UP&&(r=e.infiniteScroll.prevScrolltopPercentage||0,s=r*e.infiniteScroll.previousVisibleRows,o=(l-e.infiniteScroll.previousVisibleRows+s+c)/l,a.adjustInfiniteScrollPosition(e,o),i(function(){t.resolve()})),e.infiniteScroll.direction===n.scrollDirection.DOWN&&(r=e.infiniteScroll.prevScrolltopPercentage||1,s=r*e.infiniteScroll.previousVisibleRows,o=(s-c)/l,a.adjustInfiniteScrollPosition(e,o),i(function(){t.resolve()}))},0),t.promise},adjustInfiniteScrollPosition:function(e,t){var i=new o(e,null,null,"ui.grid.adjustInfiniteScrollPosition");0===t&&e.infiniteScroll.scrollUp?i.y={pixels:1}:i.y={percentage:t},e.scrollContainers("",i)},dataRemovedTop:function(e,t,i){a.setScrollDirections(e,t,i);var n=e.renderContainers.body.visibleRowCache.length,o=e.infiniteScroll.prevScrolltopPercentage*e.infiniteScroll.previousVisibleRows,r=o-(e.infiniteScroll.previousVisibleRows-n),s=r/n;return a.adjustInfiniteScrollPosition(e,s)},dataRemovedBottom:function(e,t,i){a.setScrollDirections(e,t,i);var n=e.renderContainers.body.visibleRowCache.length,o=e.infiniteScroll.prevScrolltopPercentage*e.infiniteScroll.previousVisibleRows,r=o/n;return a.adjustInfiniteScrollPosition(e,r)}};return a}]),e.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(e){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(t,i,n){return{pre:function(t,i,n,o){e.initializeGrid(o.grid,t)},post:function(e,t,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.moveColumns",["ui.grid"]);e.service("uiGridMoveColumnService",["$q","$timeout","$log","ScrollEvent","uiGridConstants","gridUtil",function(e,t,i,n,o,r){var a={initializeGrid:function(e){var t=this;this.registerPublicApi(e),this.defaultGridOptions(e.options),e.registerColumnBuilder(t.movableColumnBuilder)},registerPublicApi:function(e){var t=this,i={events:{colMovable:{columnPositionChanged:function(e,t,i){}}},methods:{colMovable:{moveColumn:function(i,n){var o=e.columns;if(!angular.isNumber(i)||!angular.isNumber(n))return void r.logError("MoveColumn: Please provide valid values for originalPosition and finalPosition");for(var a=0,s=0;s<o.length;s++)(angular.isDefined(o[s].colDef.visible)&&o[s].colDef.visible===!1||o[s].isRowHeader===!0)&&a++;if(i>=o.length-a||n>=o.length-a)return void r.logError("MoveColumn: Invalid values for originalPosition, finalPosition");var l=function(e){for(var t=e,i=0;t>=i;i++)angular.isDefined(o[i])&&(angular.isDefined(o[i].colDef.visible)&&o[i].colDef.visible===!1||o[i].isRowHeader===!0)&&t++;return t};t.redrawColumnAtPosition(e,l(i),l(n))}}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(e){e.enableColumnMoving=e.enableColumnMoving!==!1},movableColumnBuilder:function(t,i,n){var o=[];return t.enableColumnMoving=void 0===t.enableColumnMoving?n.enableColumnMoving:t.enableColumnMoving,e.all(o)},redrawColumnAtPosition:function(e,i,n){var r=e.columns,a=r[i];if(a.colDef.enableColumnMoving){if(i>n)for(var s=i;s>n;s--)r[s]=r[s-1];else if(n>i)for(var l=i;n>l;l++)r[l]=r[l+1];r[n]=a,e.queueGridRefresh(),t(function(){e.api.core.notifyDataChange(o.dataChange.COLUMN),e.api.colMovable.raise.columnPositionChanged(a.colDef,i,n)})}}};return a}]),e.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(e){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,i,n,o){e.initializeGrid(o.grid)},post:function(e,t,i,n){}}}}}]),e.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function(e,t,i,n,o,r,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,o,r,s){if(e.col.colDef.enableColumnMoving){var l,c,d,u,p,g,f=angular.element(o[0].querySelectorAll(".ui-grid-cell-contents")),m=!1,h=!1,v=function(t){l=e.grid.element[0].getBoundingClientRect().left,e.grid.hasLeftContainer()&&(l+=e.grid.renderContainers.left.header[0].getBoundingClientRect().width),c=t.pageX,d=0,u=l+e.grid.getViewportWidth(),"mousedown"===t.type?(n.on("mousemove",b),n.on("mouseup",y)):"touchstart"===t.type&&(n.on("touchmove",b),n.on("touchend",y))},b=function(e){var t=e.pageX-c;0!==t&&(document.onselectstart=function(){return!1},h=!0,m?m&&(x(t),c=e.pageX):_())},y=function(t){if(document.onselectstart=null,p&&(p.remove(),m=!1),C(),w(),h){for(var n=e.grid.columns,o=0,r=0;r<n.length&&n[r].colDef.name!==e.col.colDef.name;r++)o++;if(0>d){for(var a=0,s=o-1;s>=0;s--)if((angular.isUndefined(n[s].colDef.visible)||n[s].colDef.visible===!0)&&(a+=n[s].drawnWidth||n[s].width||n[s].colDef.width,a>Math.abs(d))){i.redrawColumnAtPosition(e.grid,o,s+1);break}a<Math.abs(d)&&i.redrawColumnAtPosition(e.grid,o,0)}else if(d>0){for(var l=0,c=o+1;c<n.length;c++)if((angular.isUndefined(n[c].colDef.visible)||n[c].colDef.visible===!0)&&(l+=n[c].drawnWidth||n[c].width||n[c].colDef.width,l>d)){i.redrawColumnAtPosition(e.grid,o,c-1);break}d>l&&i.redrawColumnAtPosition(e.grid,o,n.length-1)}}},w=function(){f.on("touchstart",v),f.on("mousedown",v)},C=function(){f.off("touchstart",v),f.off("mousedown",v),n.off("mousemove",b),n.off("touchmove",b),n.off("mouseup",y),n.off("touchend",y)};w();var _=function(){m=!0,p=o.clone(),o.parent().append(p),p.addClass("movingColumn");var i,n={};i="safari"===t.detectBrowser()?o[0].offsetLeft+o[0].offsetWidth-o[0].getBoundingClientRect().width:o[0].getBoundingClientRect().left,n.left=i-l+"px";var r=e.grid.element[0].getBoundingClientRect().right,a=o[0].getBoundingClientRect().right;a>r&&(g=e.col.drawnWidth+(r-a),n.width=g+"px"),p.css(n)},x=function(t){for(var i=e.grid.columns,n=0,o=0;o<i.length;o++)(angular.isUndefined(i[o].colDef.visible)||i[o].colDef.visible===!0)&&(n+=i[o].drawnWidth||i[o].width||i[o].colDef.width);var r,c=p[0].getBoundingClientRect().left-1,f=p[0].getBoundingClientRect().right;if(r=c-l+t,r=u>r?r:u,(c>=l||t>0)&&(u>=f||0>t))p.css({visibility:"visible",left:r+"px"});else if(n>Math.ceil(s.grid.gridWidth)){t*=8;var m=new a(e.col.grid,null,null,"uiGridHeaderCell.moveElement");m.x={pixels:t},m.grid.scrollContainers("",m)}for(var h=0,v=0;v<i.length;v++)if(angular.isUndefined(i[v].colDef.visible)||i[v].colDef.visible===!0){if(i[v].colDef.name===e.col.colDef.name)break;h+=i[v].drawnWidth||i[v].width||i[v].colDef.width}void 0===e.newScrollLeft?d+=t:d=e.newScrollLeft+r-h,g<e.col.drawnWidth&&(g+=Math.abs(t),p.css({width:g+"px"}))}}}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pagination",["ng","ui.grid"]);e.service("uiGridPaginationService",["gridUtil",function(e){var t={initializeGrid:function(e){t.defaultGridOptions(e.options);var i={events:{pagination:{paginationChanged:function(e,t){}}},methods:{pagination:{getPage:function(){return e.options.enablePagination?e.options.paginationCurrentPage:null},getTotalPages:function(){return e.options.enablePagination?0===e.options.totalItems?1:Math.ceil(e.options.totalItems/e.options.paginationPageSize):null},nextPage:function(){e.options.enablePagination&&(e.options.totalItems>0?e.options.paginationCurrentPage=Math.min(e.options.paginationCurrentPage+1,i.methods.pagination.getTotalPages()):e.options.paginationCurrentPage++)},previousPage:function(){e.options.enablePagination&&(e.options.paginationCurrentPage=Math.max(e.options.paginationCurrentPage-1,1))},seek:function(t){if(e.options.enablePagination){if(!angular.isNumber(t)||1>t)throw"Invalid page number: "+t;e.options.paginationCurrentPage=Math.min(t,i.methods.pagination.getTotalPages())}}}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods);var n=function(t){if(e.options.useExternalPagination||!e.options.enablePagination)return t;var i=parseInt(e.options.paginationPageSize,10),n=parseInt(e.options.paginationCurrentPage,10),o=t.filter(function(e){return e.visible});e.options.totalItems=o.length;var r=(n-1)*i;return r>o.length&&(n=e.options.paginationCurrentPage=1,r=(n-1)*i),o.slice(r,r+i)};e.registerRowsProcessor(n,900)},defaultGridOptions:function(t){t.enablePagination=t.enablePagination!==!1,t.enablePaginationControls=t.enablePaginationControls!==!1,t.useExternalPagination=t.useExternalPagination===!0,e.isNullOrUndefined(t.totalItems)&&(t.totalItems=0),e.isNullOrUndefined(t.paginationPageSizes)&&(t.paginationPageSizes=[250,500,1e3]),e.isNullOrUndefined(t.paginationPageSize)&&(t.paginationPageSizes.length>0?t.paginationPageSize=t.paginationPageSizes[0]:t.paginationPageSize=0),e.isNullOrUndefined(t.paginationCurrentPage)&&(t.paginationCurrentPage=1),e.isNullOrUndefined(t.paginationTemplate)&&(t.paginationTemplate="ui-grid/pagination")},onPaginationChanged:function(e,t,i){e.api.pagination.raise.paginationChanged(t,i),e.options.useExternalPagination||e.queueGridRefresh()}};return t}]),e.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(e,t){return{priority:-200,scope:!1,require:"uiGrid",link:{pre:function(i,n,o,r){t.initializeGrid(r.grid),e.getTemplate(r.grid.options.paginationTemplate).then(function(e){var t=angular.element(e);n.append(t),r.innerCompile(t)})}}}}]),e.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService",function(e,t,i,n){return{priority:-200,scope:!0,require:"^uiGrid",link:function(o,r,a,s){o.paginationApi=s.grid.api.pagination,o.sizesLabel=n.getSafeText("pagination.sizes"),o.totalItemsLabel=n.getSafeText("pagination.totalItems"),o.paginationOf=n.getSafeText("pagination.of");var l=s.grid.options;s.grid.renderContainers.body.registerViewportAdjuster(function(e){return e.height=e.height-i.elementHeight(r),e});var c=s.grid.registerDataChangeCallback(function(e){e.options.useExternalPagination||(e.options.totalItems=e.rows.length)},[t.dataChange.ROW]);o.$on("$destroy",c);var d=function(){o.showingLow=(l.paginationCurrentPage-1)*l.paginationPageSize+1,o.showingHigh=Math.min(l.paginationCurrentPage*l.paginationPageSize,l.totalItems)},u=o.$watch("grid.options.totalItems + grid.options.paginationPageSize",d),p=o.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(t,i){if(t!==i){if(!angular.isNumber(l.paginationCurrentPage)||l.paginationCurrentPage<1)return void(l.paginationCurrentPage=1);if(l.totalItems>0&&l.paginationCurrentPage>o.paginationApi.getTotalPages())return void(l.paginationCurrentPage=o.paginationApi.getTotalPages());d(),e.onPaginationChanged(o.grid,l.paginationCurrentPage,l.paginationPageSize)}});o.$on("$destroy",function(){u(),p()}),o.cantPageForward=function(){return l.totalItems>0?l.paginationCurrentPage>=o.paginationApi.getTotalPages():l.data.length<1},o.cantPageToLast=function(){return l.totalItems>0?o.cantPageForward():!0},o.cantPageBackward=function(){return l.paginationCurrentPage<=1}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pinning",["ui.grid"]);e.constant("uiGridPinningConstants",{container:{LEFT:"left",RIGHT:"right",NONE:""}}),e.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService","uiGridPinningConstants",function(e,t,i,n){var o={initializeGrid:function(e){o.defaultGridOptions(e.options),e.registerColumnBuilder(o.pinningColumnBuilder);var t={events:{pinning:{columnPinned:function(e,t){}}},methods:{pinning:{pinColumn:function(t,i){o.pinColumn(e,t,i)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enablePinning=e.enablePinning!==!1},pinningColumnBuilder:function(t,r,a){if(t.enablePinning=void 0===t.enablePinning?a.enablePinning:t.enablePinning,t.pinnedLeft?(r.renderContainer="left",r.grid.createLeftContainer()):t.pinnedRight&&(r.renderContainer="right",r.grid.createRightContainer()),t.enablePinning){var s={name:"ui.grid.pinning.pinLeft",title:i.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"left"!==this.context.col.renderContainer},action:function(){o.pinColumn(this.context.col.grid,this.context.col,n.container.LEFT)}},l={name:"ui.grid.pinning.pinRight",title:i.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"right"!==this.context.col.renderContainer},action:function(){o.pinColumn(this.context.col.grid,this.context.col,n.container.RIGHT)}},c={name:"ui.grid.pinning.unpin",title:i.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return"undefined"!=typeof this.context.col.renderContainer&&null!==this.context.col.renderContainer&&"body"!==this.context.col.renderContainer},action:function(){o.pinColumn(this.context.col.grid,this.context.col,n.container.UNPIN)}};e.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.pinning.pinLeft")||r.menuItems.push(s),e.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.pinning.pinRight")||r.menuItems.push(l),e.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.pinning.unpin")||r.menuItems.push(c)}},pinColumn:function(e,t,i){i===n.container.NONE?t.renderContainer=null:(t.renderContainer=i,i===n.container.LEFT?e.createLeftContainer():i===n.container.RIGHT&&e.createRightContainer()),e.refresh().then(function(){e.api.pinning.raise.columnPinned(t.colDef,i)})}};return o}]),e.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(e,t){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(e,i,n,o){t.initializeGrid(o.grid)},post:function(e,t,i,n){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.resizeColumns",["ui.grid"]);e.service("uiGridResizeColumnsService",["gridUtil","$q","$timeout",function(e,t,i){var n={defaultGridOptions:function(e){e.enableColumnResizing=e.enableColumnResizing!==!1,e.enableColumnResize===!1&&(e.enableColumnResizing=!1)},colResizerColumnBuilder:function(e,i,n){var o=[];return e.enableColumnResizing=void 0===e.enableColumnResizing?n.enableColumnResizing:e.enableColumnResizing,e.enableColumnResize===!1&&(e.enableColumnResizing=!1),t.all(o)},registerPublicApi:function(e){var t={events:{colResizable:{columnSizeChanged:function(e,t){}}}};e.api.registerEventsFromObject(t.events)},fireColumnSizeChanged:function(t,n,o){i(function(){t.api.colResizable?t.api.colResizable.raise.columnSizeChanged(n,o):e.logError("The resizeable api is not registered, this may indicate that you've included the module but not added the 'ui-grid-resize-columns' directive to your grid definition.  Cannot raise any events.")})},findTargetCol:function(e,t,i){var n=e.getRenderContainer();if("left"===t){var o=n.visibleColumnCache.indexOf(e);return n.visibleColumnCache[o-1*i]}return e}};return n}]),e.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,n,o){t.defaultGridOptions(o.grid.options),o.grid.registerColumnBuilder(t.colResizerColumnBuilder),t.registerPublicApi(o.grid)},post:function(e,t,i,n){}}}}}]),e.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants","$timeout",function(e,t,i,n,o,r,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,n,s,l){var c=l.grid;if(c.options.enableColumnResizing){var d=t.get("ui-grid/columnResizer"),u=1;c.isRTL()&&(e.position="left",u=-1);var p=function(){for(var t=n[0].getElementsByClassName("ui-grid-column-resizer"),r=0;r<t.length;r++)angular.element(t[r]).remove();var a=o.findTargetCol(e.col,"left",u),s=e.col.getRenderContainer();if(a&&0!==s.visibleColumnCache.indexOf(e.col)&&a.colDef.enableColumnResizing!==!1){var l=angular.element(d).clone();l.attr("position","left"),n.prepend(l),i(l)(e)}if(e.col.colDef.enableColumnResizing!==!1){var c=angular.element(d).clone();c.attr("position","right"),n.append(c),i(c)(e)}};p();var g=function(){a(p)},f=c.registerDataChangeCallback(g,[r.dataChange.COLUMN]);e.$on("$destroy",f)}}}}}}]),e.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(e,t,i,n){var o=angular.element('<div class="ui-grid-resize-overlay"></div>'),r={priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(r,a,s,l){function c(e){l.grid.buildColumns().then(function(){l.grid.refreshCanvas(!0).then(function(){l.grid.queueGridRefresh()})})}function d(e,t){var i=t;return e.minWidth&&i<e.minWidth?i=e.minWidth:e.maxWidth&&i>e.maxWidth&&(i=e.maxWidth),i}function u(e,t){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),f=(e.targetTouches?e.targetTouches[0]:e).clientX-m,0>f?f=0:f>l.grid.gridWidth&&(f=l.grid.gridWidth);var a=n.findTargetCol(r.col,r.position,h);if(a.colDef.enableColumnResizing!==!1){l.grid.element.hasClass("column-resizing")||l.grid.element.addClass("column-resizing");var s=f-g,c=parseInt(a.drawnWidth+s*h,10);f+=(d(a,c)-c)*h,o.css({left:f+"px"}),l.fireEvent(i.events.ITEM_DRAGGING)}}function p(e,t){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),l.grid.element.removeClass("column-resizing"),o.remove(),f=(e.changedTouches?e.changedTouches[0]:e).clientX-m;var i=f-g;if(0===i)return y(),void b();var a=n.findTargetCol(r.col,r.position,h);if(a.colDef.enableColumnResizing!==!1){var s=parseInt(a.drawnWidth+i*h,10);a.width=d(a,s),c(i),n.fireColumnSizeChanged(l.grid,a.colDef,i),y(),b()}}var g=0,f=0,m=0,h=1;l.grid.isRTL()&&(r.position="left",h=-1),"left"===r.position?a.addClass("left"):"right"===r.position&&a.addClass("right");var v=function(t,i){t.originalEvent&&(t=t.originalEvent),t.stopPropagation(),m=l.grid.element[0].getBoundingClientRect().left,g=(t.targetTouches?t.targetTouches[0]:t).clientX-m,l.grid.element.append(o),o.css({left:g}),"touchstart"===t.type?(e.on("touchend",p),e.on("touchmove",u),a.off("mousedown",v)):(e.on("mouseup",p),
e.on("mousemove",u),a.off("touchstart",v))},b=function(){a.on("mousedown",v),a.on("touchstart",v)},y=function(){e.off("mouseup",p),e.off("touchend",p),e.off("mousemove",u),e.off("touchmove",u),a.off("mousedown",v),a.off("touchstart",v)};b();var w=function(e,o){e.stopPropagation();var s=n.findTargetCol(r.col,r.position,h);if(s.colDef.enableColumnResizing!==!1){var u=0,p=0,g=t.closestElm(a,".ui-grid-render-container"),f=g.querySelectorAll("."+i.COL_CLASS_PREFIX+s.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(f,function(e){var i;angular.element(e).parent().hasClass("ui-grid-header-cell")&&(i=angular.element(e).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),t.fakeElement(e,{},function(e){var n=angular.element(e);n.attr("style","float: left");var o=t.elementWidth(n);if(i){var r=t.elementWidth(i);o+=r}o>u&&(u=o,p=u-o)})}),s.width=d(s,u),c(p),n.fireColumnSizeChanged(l.grid,s.colDef,p)}};a.on("dblclick",w),a.on("$destroy",function(){a.off("dblclick",w),y()})}};return r}])}(),function(){"use strict";var e=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);e.constant("uiGridRowEditConstants",{}),e.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(e,t,i,n,o){var r={initializeGrid:function(e,t){t.rowEdit={};var i={events:{rowEdit:{saveRow:function(e){}}},methods:{rowEdit:{setSavePromise:function(e,i){r.setSavePromise(t,e,i)},getDirtyRows:function(){return t.rowEdit.dirtyRows?t.rowEdit.dirtyRows:[]},getErrorRows:function(){return t.rowEdit.errorRows?t.rowEdit.errorRows:[]},flushDirtyRows:function(){return r.flushDirtyRows(t)},setRowsDirty:function(e){r.setRowsDirty(t,e)},setRowsClean:function(e){r.setRowsClean(t,e)}}}};t.api.registerEventsFromObject(i.events),t.api.registerMethodsFromObject(i.methods),t.api.core.on.renderingComplete(e,function(i){t.api.edit.on.afterCellEdit(e,r.endEditCell),t.api.edit.on.beginCellEdit(e,r.beginEditCell),t.api.edit.on.cancelCellEdit(e,r.cancelEditCell),t.api.cellNav&&t.api.cellNav.on.navigate(e,r.navigate)})},defaultGridOptions:function(e){},saveRow:function(e,t){var i=this;return function(){if(t.isSaving=!0,t.rowEditSavePromise)return t.rowEditSavePromise;var n=e.api.rowEdit.raise.saveRow(t.entity);return t.rowEditSavePromise?t.rowEditSavePromise.then(i.processSuccessPromise(e,t),i.processErrorPromise(e,t)):o.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),n}},setSavePromise:function(e,t,i){var n=e.getRow(t);n.rowEditSavePromise=i},processSuccessPromise:function(e,t){var i=this;return function(){delete t.isSaving,delete t.isDirty,delete t.isError,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,i.removeRow(e.rowEdit.errorRows,t),i.removeRow(e.rowEdit.dirtyRows,t)}},processErrorPromise:function(e,t){return function(){delete t.isSaving,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,t.isError=!0,e.rowEdit.errorRows||(e.rowEdit.errorRows=[]),r.isRowPresent(e.rowEdit.errorRows,t)||e.rowEdit.errorRows.push(t)}},removeRow:function(e,t){"undefined"!=typeof e&&null!==e&&e.forEach(function(i,n){i.uid===t.uid&&e.splice(n,1)})},isRowPresent:function(e,t){var i=!1;return e.forEach(function(e,n){e.uid===t.uid&&(i=!0)}),i},flushDirtyRows:function(e){var i=[];return e.rowEdit.dirtyRows.forEach(function(t){r.saveRow(e,t)(),i.push(t.rowEditSavePromise)}),t.all(i)},endEditCell:function(e,t,i,n){var a=this.grid,s=a.getRow(e);return s?void((i!==n||s.isDirty)&&(a.rowEdit.dirtyRows||(a.rowEdit.dirtyRows=[]),s.isDirty||(s.isDirty=!0,a.rowEdit.dirtyRows.push(s)),delete s.isError,r.considerSetTimer(a,s))):void o.logError("Unable to find rowEntity in grid data, dirty flag cannot be set")},beginEditCell:function(e,t){var i=this.grid,n=i.getRow(e);return n?void r.cancelTimer(i,n):void o.logError("Unable to find rowEntity in grid data, timer cannot be cancelled")},cancelEditCell:function(e,t){var i=this.grid,n=i.getRow(e);return n?void r.considerSetTimer(i,n):void o.logError("Unable to find rowEntity in grid data, timer cannot be set")},navigate:function(e,t){var i=this.grid;e.row.rowEditSaveTimer&&r.cancelTimer(i,e.row),t&&t.row&&t.row!==e.row&&r.considerSetTimer(i,t.row)},considerSetTimer:function(t,i){if(r.cancelTimer(t,i),i.isDirty&&!i.isSaving&&-1!==t.options.rowEditWaitInterval){var n=t.options.rowEditWaitInterval?t.options.rowEditWaitInterval:2e3;i.rowEditSaveTimer=e(r.saveRow(t,i),n,1)}},cancelTimer:function(t,i){i.rowEditSaveTimer&&!i.isSaving&&(e.cancel(i.rowEditSaveTimer),delete i.rowEditSaveTimer)},setRowsDirty:function(e,t){var i;t.forEach(function(t,n){i=e.getRow(t),i?(e.rowEdit.dirtyRows||(e.rowEdit.dirtyRows=[]),i.isDirty||(i.isDirty=!0,e.rowEdit.dirtyRows.push(i)),delete i.isError,r.considerSetTimer(e,i)):o.logError("requested row not found in rowEdit.setRowsDirty, row was: "+t)})},setRowsClean:function(e,t){var i;t.forEach(function(t,n){i=e.getRow(t),i?(delete i.isDirty,r.removeRow(e.rowEdit.dirtyRows,i),r.cancelTimer(e,i),delete i.isError,r.removeRow(e.rowEdit.errorRows,i)):o.logError("requested row not found in rowEdit.setRowsClean, row was: "+t)})}};return r}]),e.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(e,t,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,n,o){t.initializeGrid(e,o.grid)},post:function(e,t,i,n){}}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(e,t,i,n){return{priority:-200,scope:!1,compile:function(e,t){var i=angular.element(e.children().children()[0]),n=i.attr("ng-class"),o="";return o=n?n.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":"{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",i.attr("ng-class",o),{pre:function(e,t,i,n){},post:function(e,t,i,n){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav","ui.grid.grouping","ui.grid.pinning","ui.grid.treeView"]);e.constant("uiGridSaveStateConstants",{featureName:"saveState"}),e.service("uiGridSaveStateService",["$q","uiGridSaveStateConstants","gridUtil","$compile","$interval","uiGridConstants",function(e,t,i,n,o,r){var a={initializeGrid:function(e){e.saveState={},this.defaultGridOptions(e.options);var t={events:{saveState:{}},methods:{saveState:{save:function(){return a.save(e)},restore:function(t,i){a.restore(e,t,i)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.saveWidths=e.saveWidths!==!1,e.saveOrder=e.saveOrder!==!1,e.saveScroll=e.saveScroll===!0,e.saveFocus=e.saveScroll!==!0&&e.saveFocus!==!1,e.saveVisible=e.saveVisible!==!1,e.saveSort=e.saveSort!==!1,e.saveFilter=e.saveFilter!==!1,e.saveSelection=e.saveSelection!==!1,e.saveGrouping=e.saveGrouping!==!1,e.saveGroupingExpandedStates=e.saveGroupingExpandedStates===!0,e.savePinning=e.savePinning!==!1,e.saveTreeView=e.saveTreeView!==!1},save:function(e){var t={};return t.columns=a.saveColumns(e),t.scrollFocus=a.saveScrollFocus(e),t.selection=a.saveSelection(e),t.grouping=a.saveGrouping(e),t.treeView=a.saveTreeView(e),t},restore:function(e,t,i){i.columns&&a.restoreColumns(e,i.columns),i.scrollFocus&&a.restoreScrollFocus(e,t,i.scrollFocus),i.selection&&a.restoreSelection(e,i.selection),i.grouping&&a.restoreGrouping(e,i.grouping),i.treeView&&a.restoreTreeView(e,i.treeView),e.refresh()},saveColumns:function(e){var t=[];return e.getOnlyDataColumns().forEach(function(i){var n={};n.name=i.name,e.options.saveVisible&&(n.visible=i.visible),e.options.saveWidths&&(n.width=i.width),e.options.saveSort&&(n.sort=angular.copy(i.sort)),e.options.saveFilter&&(n.filters=[],i.filters.forEach(function(e){var t={};angular.forEach(e,function(e,i){"condition"!==i&&"$$hashKey"!==i&&"placeholder"!==i&&(t[i]=e)}),n.filters.push(t)})),e.api.pinning&&e.options.savePinning&&(n.pinned=i.renderContainer?i.renderContainer:""),t.push(n)}),t},saveScrollFocus:function(e){if(!e.api.cellNav)return{};var t={};if(e.options.saveFocus){t.focus=!0;var i=e.api.cellNav.getFocusedCell();null!==i&&(null!==i.col&&(t.colName=i.col.colDef.name),null!==i.row&&(t.rowVal=a.getRowVal(e,i.row)))}return(e.options.saveScroll||e.options.saveFocus&&!t.colName&&!t.rowVal)&&(t.focus=!1,e.renderContainers.body.prevRowScrollIndex&&(t.rowVal=a.getRowVal(e,e.renderContainers.body.visibleRowCache[e.renderContainers.body.prevRowScrollIndex])),e.renderContainers.body.prevColScrollIndex&&(t.colName=e.renderContainers.body.visibleColumnCache[e.renderContainers.body.prevColScrollIndex].name)),t},saveSelection:function(e){if(!e.api.selection||!e.options.saveSelection)return[];var t=e.api.selection.getSelectedGridRows().map(function(t){return a.getRowVal(e,t)});return t},saveGrouping:function(e){return e.api.grouping&&e.options.saveGrouping?e.api.grouping.getGrouping(e.options.saveGroupingExpandedStates):{}},saveTreeView:function(e){return e.api.treeView&&e.options.saveTreeView?e.api.treeView.getTreeView():{}},getRowVal:function(e,t){if(!t)return null;var i={};return e.options.saveRowIdentity?(i.identity=!0,i.row=e.options.saveRowIdentity(t.entity)):(i.identity=!1,i.row=e.renderContainers.body.visibleRowCache.indexOf(t)),i},restoreColumns:function(e,t){t.forEach(function(t,i){var n=e.getColumn(t.name);if(n&&!e.isRowHeaderColumn(n)){!e.options.saveVisible||n.visible===t.visible&&n.colDef.visible===t.visible||(n.visible=t.visible,n.colDef.visible=t.visible,e.api.core.raise.columnVisibilityChanged(n)),e.options.saveWidths&&(n.width=t.width),!e.options.saveSort||angular.equals(n.sort,t.sort)||void 0===n.sort&&angular.isEmpty(t.sort)||(n.sort=angular.copy(t.sort),e.api.core.raise.sortChanged()),e.options.saveFilter&&!angular.equals(n.filters,t.filters)&&(t.filters.forEach(function(e,t){angular.extend(n.filters[t],e),"undefined"!=typeof e.term&&null!==e.term||delete n.filters[t].term}),e.api.core.raise.filterChanged()),e.api.pinning&&e.options.savePinning&&n.renderContainer!==t.pinned&&e.api.pinning.pinColumn(n,t.pinned);var o=e.getOnlyDataColumns().indexOf(n);if(-1!==o&&e.options.saveOrder&&o!==i){var r=e.columns.splice(o+e.rowHeaderColumns.length,1)[0];e.columns.splice(i+e.rowHeaderColumns.length,0,r)}}})},restoreScrollFocus:function(e,t,i){if(e.api.cellNav){var n,o;if(i.colName){var r=e.options.columnDefs.filter(function(e){return e.name===i.colName});r.length>0&&(n=r[0])}i.rowVal&&i.rowVal.row&&(o=i.rowVal.identity?a.findRowByIdentity(e,i.rowVal):e.renderContainers.body.visibleRowCache[i.rowVal.row]);var s=o&&o.entity?o.entity:null;(n||s)&&(i.focus?e.api.cellNav.scrollToFocus(s,n):e.scrollTo(s,n))}},restoreSelection:function(e,t){e.api.selection&&(e.api.selection.clearSelectedRows(),t.forEach(function(t){if(t.identity){var i=a.findRowByIdentity(e,t);i&&e.api.selection.selectRow(i.entity)}else e.api.selection.selectRowByVisibleIndex(t.row)}))},restoreGrouping:function(e,t){e.api.grouping&&"undefined"!=typeof t&&null!==t&&!angular.equals(t,{})&&e.api.grouping.setGrouping(t)},restoreTreeView:function(e,t){e.api.treeView&&"undefined"!=typeof t&&null!==t&&!angular.equals(t,{})&&e.api.treeView.setTreeView(t)},findRowByIdentity:function(e,t){if(!e.options.saveRowIdentity)return null;var i=e.rows.filter(function(i){return e.options.saveRowIdentity(i.entity)===t.row});return i.length>0?i[0]:null}};return a}]),e.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(e,t,i,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,i,n,o){t.initializeGrid(o.grid)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.selection",["ui.grid"]);e.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"}),angular.module("ui.grid").config(["$provide",function(e){e.decorator("GridRow",["$delegate",function(e){return e.prototype.setSelected=function(e){this.isSelected=e,e?this.grid.selection.selectedCount++:this.grid.selection.selectedCount--},e}])}]),e.service("uiGridSelectionService",["$q","$templateCache","uiGridSelectionConstants","gridUtil",function(e,t,i,n){var o={initializeGrid:function(e){e.selection={},e.selection.lastSelectedRow=null,e.selection.selectAll=!1,e.selection.selectedCount=0,o.defaultGridOptions(e.options);var t={events:{selection:{rowSelectionChanged:function(e,t,i){},rowSelectionChangedBatch:function(e,t,i){}}},methods:{selection:{toggleRowSelection:function(t,i){var n=e.getRow(t);null!==n&&o.toggleRowSelection(e,n,i,e.options.multiSelect,e.options.noUnselect)},selectRow:function(t,i){var n=e.getRow(t);null===n||n.isSelected||o.toggleRowSelection(e,n,i,e.options.multiSelect,e.options.noUnselect)},selectRowByVisibleIndex:function(t,i){var n=e.renderContainers.body.visibleRowCache[t];null===n||"undefined"==typeof n||n.isSelected||o.toggleRowSelection(e,n,i,e.options.multiSelect,e.options.noUnselect)},unSelectRow:function(t,i){var n=e.getRow(t);null!==n&&n.isSelected&&o.toggleRowSelection(e,n,i,e.options.multiSelect,e.options.noUnselect)},selectAllRows:function(t){if(e.options.multiSelect!==!1){var i=[];e.rows.forEach(function(n){n.isSelected||n.enableSelection===!1||(n.setSelected(!0),o.decideRaiseSelectionEvent(e,n,i,t))}),o.decideRaiseSelectionBatchEvent(e,i,t),e.selection.selectAll=!0}},selectAllVisibleRows:function(t){if(e.options.multiSelect!==!1){var i=[];e.rows.forEach(function(n){n.visible?n.isSelected||n.enableSelection===!1||(n.setSelected(!0),o.decideRaiseSelectionEvent(e,n,i,t)):n.isSelected&&(n.setSelected(!1),o.decideRaiseSelectionEvent(e,n,i,t))}),o.decideRaiseSelectionBatchEvent(e,i,t),e.selection.selectAll=!0}},clearSelectedRows:function(t){o.clearSelectedRows(e,t)},getSelectedRows:function(){return o.getSelectedRows(e).map(function(e){return e.entity})},getSelectedGridRows:function(){return o.getSelectedRows(e)},setMultiSelect:function(t){e.options.multiSelect=t},setModifierKeysToMultiSelect:function(t){e.options.modifierKeysToMultiSelect=t},getSelectAllState:function(){return e.selection.selectAll}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enableRowSelection=e.enableRowSelection!==!1,e.multiSelect=e.multiSelect!==!1,e.noUnselect=e.noUnselect===!0,e.modifierKeysToMultiSelect=e.modifierKeysToMultiSelect===!0,e.enableRowHeaderSelection=e.enableRowHeaderSelection!==!1,"undefined"==typeof e.enableFullRowSelection&&(e.enableFullRowSelection=!e.enableRowHeaderSelection),e.enableSelectAll=e.enableSelectAll!==!1,e.enableSelectionBatchEvent=e.enableSelectionBatchEvent!==!1,e.selectionRowHeaderWidth=angular.isDefined(e.selectionRowHeaderWidth)?e.selectionRowHeaderWidth:30,e.enableFooterTotalSelected=e.enableFooterTotalSelected!==!1,e.isRowSelectable=angular.isDefined(e.isRowSelectable)?e.isRowSelectable:angular.noop},toggleRowSelection:function(e,t,i,n,r){var a=t.isSelected;if(t.enableSelection!==!1||a){if(n||a){if(!n&&a){var s=o.getSelectedRows(e);s.length>1&&(a=!1,o.clearSelectedRows(e,i))}}else o.clearSelectedRows(e,i);a&&r||(t.setSelected(!a),t.isSelected===!0?e.selection.lastSelectedRow=t:e.selection.selectAll=!1,e.api.selection.raise.rowSelectionChanged(t,i))}},shiftSelect:function(e,t,i,n){if(n){var r=o.getSelectedRows(e),a=r.length>0?e.renderContainers.body.visibleRowCache.indexOf(e.selection.lastSelectedRow):0,s=e.renderContainers.body.visibleRowCache.indexOf(t);if(a>s){var l=a;a=s,s=l}for(var c=[],d=a;s>=d;d++){var u=e.renderContainers.body.visibleRowCache[d];u&&(u.isSelected||u.enableSelection===!1||(u.setSelected(!0),e.selection.lastSelectedRow=u,o.decideRaiseSelectionEvent(e,u,c,i)))}o.decideRaiseSelectionBatchEvent(e,c,i)}},getSelectedRows:function(e){return e.rows.filter(function(e){return e.isSelected})},clearSelectedRows:function(e,t){var i=[];o.getSelectedRows(e).forEach(function(n){n.isSelected&&(n.setSelected(!1),o.decideRaiseSelectionEvent(e,n,i,t))}),o.decideRaiseSelectionBatchEvent(e,i,t),e.selection.selectAll=!1},decideRaiseSelectionEvent:function(e,t,i,n){e.options.enableSelectionBatchEvent?i.push(t):e.api.selection.raise.rowSelectionChanged(t,n)},decideRaiseSelectionBatchEvent:function(e,t,i){t.length>0&&e.api.selection.raise.rowSelectionChangedBatch(t,i)}};return o}]),e.directive("uiGridSelection",["uiGridSelectionConstants","uiGridSelectionService","$templateCache","uiGridConstants",function(e,t,i,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(i,o,r,a){if(t.initializeGrid(a.grid),a.grid.options.enableRowHeaderSelection){var s={name:e.selectionRowHeaderColName,displayName:"",width:a.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};a.grid.addRowHeaderColumn(s)}var l=!1,c=function(e){return e.forEach(function(e){e.enableSelection=a.grid.options.isRowSelectable(e)}),e},d=function(){a.grid.options.isRowSelectable!==angular.noop&&l!==!0&&(a.grid.registerRowsProcessor(c,500),l=!0)};d();var u=a.grid.registerDataChangeCallback(d,[n.dataChange.OPTIONS]);i.$on("$destroy",u)},post:function(e,t,i,n){}}}}}]),e.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService","gridUtil",function(e,t,i){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,n,o,r){function a(e,i){i.stopPropagation(),i.shiftKey?t.shiftSelect(l,e,i,l.options.multiSelect):i.ctrlKey||i.metaKey?t.toggleRowSelection(l,e,i,l.options.multiSelect,l.options.noUnselect):t.toggleRowSelection(l,e,i,l.options.multiSelect&&!l.options.modifierKeysToMultiSelect,l.options.noUnselect)}function s(e){(e.ctrlKey||e.shiftKey)&&(e.target.onselectstart=function(){return!1},window.setTimeout(function(){e.target.onselectstart=null},0))}var l=r.grid;e.selectButtonClick=a,"ie"===i.detectBrowser()&&n.on("mousedown",s)}}}]),e.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(e,i,n,o){var r=e.col.grid;e.headerButtonClick=function(e,i){r.selection.selectAll?(t.clearSelectedRows(r,i),r.options.noUnselect&&r.api.selection.selectRowByVisibleIndex(0,i),r.selection.selectAll=!1):r.options.multiSelect&&(r.api.selection.selectAllVisibleRows(i),r.selection.selectAll=!0)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(e,t,i,n,o,r){return{priority:-200,scope:!1,compile:function(e,t){var i=angular.element(e.children().children()[0]),n=i.attr("ng-class"),o="";return o=n?n.slice(0,-1)+",'ui-grid-row-selected': row.isSelected}":"{'ui-grid-row-selected': row.isSelected}",i.attr("ng-class",o),{pre:function(e,t,i,n){},post:function(e,t,i,n){}}}}}]),e.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService","$timeout",function(e,t,i,n,o,r,a){return{priority:-200,restrict:"A",require:"?^uiGrid",scope:!1,link:function(e,i,n,o){function s(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&(i.addClass("ui-grid-disable-selection"),i.on("touchstart",p),i.on("touchend",g),i.on("click",u),e.registered=!0)}function l(){e.registered&&(i.removeClass("ui-grid-disable-selection"),i.off("touchstart",p),i.off("touchend",g),i.off("click",u),e.registered=!1)}var c=0,d=300;o.grid.api.cellNav&&o.grid.api.cellNav.on.viewPortKeyDown(e,function(t,i){null!==i&&i.row===e.row&&i.col===e.col&&32===t.keyCode&&"selectionRowHeaderCol"===e.col.colDef.name&&(r.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply())});var u=function(t){i.off("touchend",g),t.shiftKey?r.shiftSelect(e.grid,e.row,t,e.grid.options.multiSelect):t.ctrlKey||t.metaKey?r.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect,e.grid.options.noUnselect):r.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply(),a(function(){i.on("touchend",g)},d)},p=function(e){c=(new Date).getTime(),i.off("click",u)},g=function(e){var t=(new Date).getTime(),n=t-c;d>n&&u(e),a(function(){i.on("click",u)},d)};s();var f=e.grid.registerDataChangeCallback(function(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&!e.registered?s():e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection||!e.registered||l()},[t.dataChange.OPTIONS]);i.on("$destroy",f)}}}]),e.directive("uiGridGridFooter",["$compile","uiGridConstants","gridUtil",function(e,t,i){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(t,n){return{pre:function(t,n,o,r){r.grid.options.showGridFooter&&i.getTemplate("ui-grid/gridFooterSelectedItems").then(function(i){var o=angular.element(i),r=e(o)(t);angular.element(n[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(r)})},post:function(e,t,i,n){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.treeBase",["ui.grid"]);e.constant("uiGridTreeBaseConstants",{featureName:"treeBase",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeBaseService",["$q","uiGridTreeBaseConstants","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants","rowSorter",function(e,t,i,n,o,r,a,s){var l={initializeGrid:function(e,t){e.treeBase={},e.treeBase.numberLevels=0,e.treeBase.expandAll=!1,e.treeBase.tree={},l.defaultGridOptions(e.options),e.registerRowsProcessor(l.treeRows,410),e.registerColumnBuilder(l.treeBaseColumnBuilder),l.createRowHeader(e);var i={events:{treeBase:{rowExpanded:{},rowCollapsed:{}}},methods:{treeBase:{expandAllRows:function(){l.expandAllRows(e)},collapseAllRows:function(){l.collapseAllRows(e)},toggleRowTreeState:function(t){l.toggleRowTreeState(e,t)},expandRow:function(t){l.expandRow(e,t)},expandRowChildren:function(t){l.expandRowChildren(e,t)},collapseRow:function(t){l.collapseRow(e,t)},collapseRowChildren:function(t){l.collapseRowChildren(e,t)},getTreeExpandedState:function(){return{expandedState:l.getTreeState(e)}},setTreeState:function(t){l.setTreeState(e,t)},getRowChildren:function(e){return e.treeNode.children.map(function(e){return e.row})}}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(e){e.treeRowHeaderBaseWidth=e.treeRowHeaderBaseWidth||30,e.treeIndent=e.treeIndent||10,e.showTreeRowHeader=e.showTreeRowHeader!==!1,e.showTreeExpandNoChildren=e.showTreeExpandNoChildren!==!1,e.treeRowHeaderAlwaysVisible=e.treeRowHeaderAlwaysVisible!==!1,e.treeCustomAggregations=e.treeCustomAggregations||{}},treeBaseColumnBuilder:function(e,t,i){"undefined"!=typeof e.customTreeAggregationFn&&(t.treeAggregationFn=e.customTreeAggregationFn),"undefined"!=typeof e.treeAggregationType&&(t.treeAggregation={type:e.treeAggregationType},"undefined"!=typeof i.treeCustomAggregations[e.treeAggregationType]?(t.treeAggregationFn=i.treeCustomAggregations[e.treeAggregationType].aggregationFn,t.treeAggregationFinalizerFn=i.treeCustomAggregations[e.treeAggregationType].finalizerFn,t.treeAggregation.label=i.treeCustomAggregations[e.treeAggregationType].label):"undefined"!=typeof l.nativeAggregations()[e.treeAggregationType]&&(t.treeAggregationFn=l.nativeAggregations()[e.treeAggregationType].aggregationFn,t.treeAggregation.label=l.nativeAggregations()[e.treeAggregationType].label)),"undefined"!=typeof e.treeAggregationLabel&&("undefined"==typeof t.treeAggregation&&(t.treeAggregation={}),t.treeAggregation.label=e.treeAggregationLabel),t.treeAggregationUpdateEntity=e.treeAggregationUpdateEntity!==!1,"undefined"==typeof t.customTreeAggregationFinalizerFn&&(t.customTreeAggregationFinalizerFn=e.customTreeAggregationFinalizerFn)},createRowHeader:function(e){var i={name:t.rowHeaderColName,displayName:"",width:e.options.treeRowHeaderBaseWidth,minWidth:10,cellTemplate:"ui-grid/treeBaseRowHeader",headerCellTemplate:"ui-grid/treeBaseHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};i.visible=e.options.treeRowHeaderAlwaysVisible,e.addRowHeaderColumn(i)},expandAllRows:function(e){e.treeBase.tree.forEach(function(i){l.setAllNodes(e,i,t.EXPANDED)}),e.treeBase.expandAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.treeBase.tree.forEach(function(i){l.setAllNodes(e,i,t.COLLAPSED)}),e.treeBase.expandAll=!1,e.queueGridRefresh()},setAllNodes:function(e,i,n){"undefined"!=typeof i.state&&i.state!==n&&(i.state=n,n===t.EXPANDED?e.api.treeBase.raise.rowExpanded(i.row):e.api.treeBase.raise.rowCollapsed(i.row)),i.children&&i.children.forEach(function(t){l.setAllNodes(e,t,n)})},toggleRowTreeState:function(e,i){"undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0||(i.treeNode.state===t.EXPANDED?l.collapseRow(e,i):l.expandRow(e,i),e.queueGridRefresh())},expandRow:function(e,i){"undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0||i.treeNode.state!==t.EXPANDED&&(i.treeNode.state=t.EXPANDED,e.api.treeBase.raise.rowExpanded(i),e.treeBase.expandAll=l.allExpanded(e.treeBase.tree),e.queueGridRefresh())},expandRowChildren:function(e,i){"undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0||(l.setAllNodes(e,i.treeNode,t.EXPANDED),e.treeBase.expandAll=l.allExpanded(e.treeBase.tree),e.queueGridRefresh())},collapseRow:function(e,i){"undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0||i.treeNode.state!==t.COLLAPSED&&(i.treeNode.state=t.COLLAPSED,e.treeBase.expandAll=!1,e.api.treeBase.raise.rowCollapsed(i),e.queueGridRefresh())},collapseRowChildren:function(e,i){"undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0||(l.setAllNodes(e,i.treeNode,t.COLLAPSED),e.treeBase.expandAll=!1,e.queueGridRefresh())},allExpanded:function(e){var t=!0;return e.forEach(function(e){l.allExpandedInternal(e)||(t=!1)}),t},allExpandedInternal:function(e){if(e.children&&e.children.length>0){if(e.state===t.COLLAPSED)return!1;var i=!0;return e.children.forEach(function(e){l.allExpandedInternal(e)||(i=!1)}),i}return!0},treeRows:function(e){if(0===e.length)return e;var i=this;t.EXPANDED;return i.treeBase.tree=l.createTree(i,e),l.updateRowHeaderWidth(i),l.sortTree(i),l.fixFilter(i),l.renderTree(i.treeBase.tree)},updateRowHeaderWidth:function(e){var i=e.getColumn(t.rowHeaderColName),n=e.options.treeRowHeaderBaseWidth+e.options.treeIndent*Math.max(e.treeBase.numberLevels-1,0);i&&n!==i.width&&(i.width=n,e.queueRefresh());var o=!0;e.options.showTreeRowHeader===!1&&(o=!1),e.options.treeRowHeaderAlwaysVisible===!1&&e.treeBase.numberLevels<=0&&(o=!1),i.visible!==o&&(i.visible=o,i.colDef.visible=o,e.queueGridRefresh())},renderTree:function(e){var i=[];return e.forEach(function(e){e.row.visible&&i.push(e.row),e.state===t.EXPANDED&&e.children&&e.children.length>0&&(i=i.concat(l.renderTree(e.children)))}),i},createTree:function(e,i){var n,o=-1,r=[];e.treeBase.tree=[],e.treeBase.numberLevels=0;var a=l.getAggregations(e),s=function(i){if("undefined"!=typeof i.entity.$$treeLevel&&i.treeLevel!==i.entity.$$treeLevel&&(i.treeLevel=i.entity.$$treeLevel),i.treeLevel<=o){for(;i.treeLevel<=o;){var s=r.pop();l.finaliseAggregations(s),o--}n=r.length>0?l.setCurrentState(r):t.EXPANDED}("undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0)&&i.visible&&l.aggregate(e,i,r),l.addOrUseNode(e,i,r,a),"undefined"!=typeof i.treeLevel&&null!==i.treeLevel&&i.treeLevel>=0&&(r.push(i),o++,n=l.setCurrentState(r)),e.treeBase.numberLevels<i.treeLevel+1&&(e.treeBase.numberLevels=i.treeLevel+1)};for(i.forEach(s);r.length>0;){var c=r.pop();l.finaliseAggregations(c)}return e.treeBase.tree},addOrUseNode:function(e,i,n,o){var r=[];o.forEach(function(e){r.push(l.buildAggregationObject(e.col))});var a={state:t.COLLAPSED,row:i,parentRow:null,aggregations:r,children:[]};i.treeNode&&(a.state=i.treeNode.state),n.length>0&&(a.parentRow=n[n.length-1]),i.treeNode=a,0===n.length?e.treeBase.tree.push(a):n[n.length-1].treeNode.children.push(a)},setCurrentState:function(e){var i=t.EXPANDED;return e.forEach(function(e){e.treeNode.state===t.COLLAPSED&&(i=t.COLLAPSED)}),i},sortTree:function(e){e.columns.forEach(function(e){e.sort&&e.sort.ignoreSort&&delete e.sort.ignoreSort}),e.treeBase.tree=l.sortInternal(e,e.treeBase.tree)},sortInternal:function(e,i){var n=i.map(function(e){return e.row});n=s.sort(e,n,e.columns);var o=n.map(function(e){return e.treeNode});return o.forEach(function(i){i.state===t.EXPANDED&&i.children&&i.children.length>0&&(i.children=l.sortInternal(e,i.children))}),o},fixFilter:function(e){var t;e.treeBase.tree.forEach(function(e){e.children&&e.children.length>0&&(t=e.row.visible,l.fixFilterInternal(e.children,t))})},fixFilterInternal:function(e,t){return e.forEach(function(e){e.row.visible&&!t&&(l.setParentsVisible(e),t=!0),e.children&&e.children.length>0&&l.fixFilterInternal(e.children,t&&e.row.visible)&&(t=!0)}),t},setParentsVisible:function(e){for(;e.parentRow;)e.parentRow.visible=!0,e=e.parentRow.treeNode},buildAggregationObject:function(e){var t={col:e};return e.treeAggregation&&e.treeAggregation.type&&(t.type=e.treeAggregation.type),e.treeAggregation&&e.treeAggregation.label&&(t.label=e.treeAggregation.label),t},getAggregations:function(e){var t=[];return e.columns.forEach(function(e){"undefined"!=typeof e.treeAggregationFn&&t.push(l.buildAggregationObject(e))}),t},aggregate:function(e,t,i){0!==i.length&&i.forEach(function(i){i.treeNode.aggregations&&i.treeNode.aggregations.forEach(function(i){var n=e.getCellValue(t,i.col),o=Number(n);i.col.treeAggregationFn(i,n,o,t)})})},nativeAggregations:function(){var e={count:{label:r.get().aggregation.count,menuTitle:r.get().grouping.aggregate_count,aggregationFn:function(e,t,i){"undefined"==typeof e.value?e.value=1:e.value++}},sum:{label:r.get().aggregation.sum,menuTitle:r.get().grouping.aggregate_sum,aggregationFn:function(e,t,i){isNaN(i)||("undefined"==typeof e.value?e.value=i:e.value+=i)}},min:{label:r.get().aggregation.min,menuTitle:r.get().grouping.aggregate_min,aggregationFn:function(e,t,i){"undefined"==typeof e.value?e.value=t:"undefined"!=typeof t&&null!==t&&(t<e.value||null===e.value)&&(e.value=t)}},max:{label:r.get().aggregation.max,menuTitle:r.get().grouping.aggregate_max,aggregationFn:function(e,t,i){"undefined"==typeof e.value?e.value=t:"undefined"!=typeof t&&null!==t&&(t>e.value||null===e.value)&&(e.value=t)}},avg:{label:r.get().aggregation.avg,menuTitle:r.get().grouping.aggregate_avg,aggregationFn:function(e,t,i){"undefined"==typeof e.count?e.count=1:e.count++,isNaN(i)||("undefined"==typeof e.value||"undefined"==typeof e.sum?(e.value=i,e.sum=i):(e.sum+=i,e.value=e.sum/e.count))}}};return e},finaliseAggregations:function(e){"undefined"!=typeof e.treeNode.aggregations&&e.treeNode.aggregations.forEach(function(t){if(t.col.treeAggregationUpdateEntity&&"undefined"!=typeof e.entity["$$"+t.col.uid]&&angular.extend(t,e.entity["$$"+t.col.uid]),"function"==typeof t.col.treeAggregationFinalizerFn&&t.col.treeAggregationFinalizerFn(t),"function"==typeof t.col.customTreeAggregationFinalizerFn&&t.col.customTreeAggregationFinalizerFn(t),"undefined"==typeof t.rendered&&(t.rendered=t.label?t.label+t.value:t.value),t.col.treeAggregationUpdateEntity){var i={};angular.forEach(t,function(e,n){t.hasOwnProperty(n)&&"col"!==n&&(i[n]=e)}),e.entity["$$"+t.col.uid]=i}})}};return l}]),e.directive("uiGridTreeBaseRowHeaderButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseRowHeaderButtons"),
scope:!0,require:"^uiGrid",link:function(e,i,n,o){var r=o.grid;e.treeButtonClick=function(e,i){t.toggleRowTreeState(r,e,i)}}}}]),e.directive("uiGridTreeBaseExpandAllButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseExpandAllButtons"),scope:!1,link:function(e,i,n,o){var r=e.col.grid;e.headerButtonClick=function(e,i){r.treeBase.expandAll?t.collapseAllRows(r,i):t.expandAllRows(r,i)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(e,t,i,n){return{priority:-200,scope:!1,compile:function(e,t){var i=angular.element(e.children().children()[0]),n=i.attr("ng-class"),o="";return o=n?n.slice(0,-1)+",'ui-grid-tree-header-row': row.treeLevel > -1}":"{'ui-grid-tree-header-row': row.treeLevel > -1}",i.attr("ng-class",o),{pre:function(e,t,i,n){},post:function(e,t,i,n){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.treeView",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridTreeViewConstants",{featureName:"treeView",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeViewService",["$q","uiGridTreeViewConstants","uiGridTreeBaseConstants","uiGridTreeBaseService","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants",function(e,t,i,n,o,r,a,s,l){var c={initializeGrid:function(e,t){n.initializeGrid(e,t),e.treeView={},e.registerRowsProcessor(c.adjustSorting,60);var i={events:{treeView:{}},methods:{treeView:{}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(e){e.enableTreeView=e.enableTreeView!==!1},adjustSorting:function(e){var t=this;return t.columns.forEach(function(e){e.sort&&(e.sort.ignoreSort=!0)}),e}};return c}]),e.directive("uiGridTreeView",["uiGridTreeViewConstants","uiGridTreeViewService","$templateCache",function(e,t,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,n,o){o.grid.options.enableTreeView!==!1&&t.initializeGrid(o.grid,e)},post:function(e,t,i,n){}}}}}])}(),angular.module("ui.grid").run(["$templateCache",function(e){"use strict";e.put("ui-grid/ui-grid-filter",'<div class="ui-grid-filter-container" ng-repeat="colFilter in col.filters" ng-class="{\'ui-grid-filter-cancel-button-hidden\' : colFilter.disableCancelFilterButton === true }"><div ng-if="colFilter.type !== \'select\'"><input type="text" class="ui-grid-filter-input" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}"><div class="ui-grid-filter-button" ng-click="colFilter.term = null" ng-if="!colFilter.disableCancelFilterButton"><i class="ui-grid-icon-cancel" ng-show="colFilter.term !== undefined && colFilter.term !== null && colFilter.term !== \'\'">&nbsp;</i></div></div><div ng-if="colFilter.type === \'select\'"><select class="ui-grid-filter-select" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}" ng-options="option.value as option.label for option in colFilter.selectOptions"><option value=""></option></select><div class="ui-grid-filter-button-select" ng-click="colFilter.term = null" ng-if="!colFilter.disableCancelFilterButton"><i class="ui-grid-icon-cancel" ng-show="colFilter.term !== undefined && colFilter.term != null">&nbsp;</i></div></div></div>'),e.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row"><div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div class="ui-grid-footer-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div class="ui-grid-footer-cell-row"><div ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-footer-cell col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix"></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-grid-footer",'<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{\'search.totalItems\' | t}} {{grid.rows.length}}</span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})</span></div>'),e.put("ui-grid/ui-grid-group-panel",'<div class="ui-grid-group-panel"><div ui-t="groupPanel.description" class="description" ng-show="groupings.length == 0"></div><ul ng-show="groupings.length > 0" class="ngGroupList"><li class="ngGroupItem" ng-repeat="group in configGroups"><span class="ngGroupElement"><span class="ngGroupName">{{group.displayName}} <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span></span> <span ng-hide="$last" class="ngGroupArrow"></span></span></li></ul></div>'),e.put("ui-grid/ui-grid-header",'<div class="ui-grid-header"><div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div class="ui-grid-header-cell-row"><div class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-header-cell col="col" render-index="$index"></div></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button" ng-click="toggleMenu()"><div class="ui-grid-icon-container"><i class="ui-grid-icon-menu">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>'),e.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>'),e.put("ui-grid/ui-grid-row",'<div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.uid" class="ui-grid-cell" ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader }" ui-grid-cell></div>'),e.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid"><!-- TODO (c0bra): add "scoped" attr here, eventually? --><style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ ((grid.getTotalRowHeight() < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    /*\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n    */\n\n    {{ grid.customStyles }}</style><div class="ui-grid-contents-wrapper"><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"></div><div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-horizontal-scrollbar="grid.options.enableHorizontalScrollbar" enable-vertical-scrollbar="grid.options.enableVerticalScrollbar"></div><div ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div><div ui-grid-grid-footer ng-if="grid.options.showGridFooter"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"></div><div ng-transclude></div></div></div>'),e.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems"><!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n        </div>\n      </ul>\n    </div>\n  </div> --></div></div>'),e.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}</div></div>'),e.put("ui-grid/uiGridHeaderCell",'<div ng-class="{ \'sortable\': sortable }"><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex" title="TOOLTIP"><span>{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-visible="col.sort.direction" ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }">&nbsp;</span></div><div class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}"><i class="ui-grid-icon-angle-down">&nbsp;</i></div><div ui-grid-filter></div></div>'),e.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-if="shown"><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner"><ul class="ui-grid-menu-items"><li ng-repeat="item in menuItems" ui-grid-menu-item action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl" leave-open="item.leaveOpen"></li></ul></div></div></div>'),e.put("ui-grid/uiGridMenuItem",'<li class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\' : active() }"><i ng-class="icon"></i> {{ name }}</li>'),e.put("ui-grid/uiGridRenderContainer","<div class=\"ui-grid-render-container\" ng-style=\"{ 'margin-left': colContainer.getMargin('left') + 'px', 'margin-right': colContainer.getMargin('right') + 'px' }\"><div ui-grid-header></div><div ui-grid-viewport></div><div ui-grid-footer ng-if=\"grid.options.showColumnFooter\"></div></div>"),e.put("ui-grid/uiGridViewport",'<div class="ui-grid-viewport" ng-style="colContainer.getViewportStyle()"><div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="Viewport.rowStyle(rowRenderIndex)"><div ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>'),e.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>'),e.put("ui-grid/fileChooserEditor",'<div><form name="inputForm"><input ng-class="\'colt\' + col.uid" ui-grid-edit-file-chooser type="file" id="files" name="files[]" ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + \'px\'\n     , height: grid.options.expandableRowHeight + \'px\'}"></div>'),e.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"></i></div></div>'),e.put("ui-grid/expandableScrollFiller","<div ng-if=\"expandableRow.shouldRenderFiller()\" ng-class=\"{scrollFiller:true, scrollFillerClass:(colContainer.name === 'body')}\" ng-style=\"{ width: (grid.getViewportWidth()) + 'px',\n              height: grid.options.expandableRowHeight + 2 + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{ 'margin-top': ( grid.options.expandableRowHeight/2 - 5) + 'px',\n            'margin-left' : ((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5) + 'px' }\"></i></div>"),e.put("ui-grid/expandableTopRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !grid.expandable.expandedAll, \'ui-grid-icon-minus-squared\' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()"></i></div></div>'),e.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL</a></span>'),e.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"></form></li>'),e.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item></div>"),e.put("ui-grid/pagination",'<div class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div class="ui-grid-pager-container"><div class="ui-grid-pager-control"><button type="button" ng-click="paginationApi.seek(1)" ng-disabled="cantPageBackward()"><div class="first-triangle"><div class="first-bar"></div></div></button> <button type="button" ng-click="paginationApi.previousPage()" ng-disabled="cantPageBackward()"><div class="first-triangle prev-triangle"></div></button> <input type="number" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0">/ {{ paginationApi.getTotalPages() }}</span> <button type="button" ng-click="paginationApi.nextPage()" ng-disabled="cantPageForward()"><div class="last-triangle next-triangle"></div></button> <button type="button" ng-click="paginationApi.seek(paginationApi.getTotalPages())" ng-disabled="cantPageToLast()"><div class="last-triangle"><div class="last-bar"></div></div></button></div><div class="ui-grid-pager-row-count-picker"><select ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"></select><span class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}</span></div></div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{showingLow}} - {{showingHigh}} {{paginationOf}} {{grid.options.totalItems}} {{totalItemsLabel}}</span></div></div></div>'),e.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex" unselectable="on"></div>'),e.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>'),e.put("ui-grid/selectionHeaderCell",'<div><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll"></ui-grid-selection-select-all-buttons></div></div>'),e.put("ui-grid/selectionRowHeader",'<div class="ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div></div>'),e.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)">&nbsp;</div>'),e.put("ui-grid/selectionSelectAllButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-all-selected\': grid.selection.selectAll}" ng-click="headerButtonClick($event)"></div>'),e.put("ui-grid/treeBaseExpandAllButtons",'<div class="ui-grid-tree-base-row-header-buttons" ng-class="{\'ui-grid-icon-minus-squared\': grid.treeBase.numberLevels > 0 && grid.treeBase.expandAll, \'ui-grid-icon-plus-squared\': grid.treeBase.numberLevels > 0 && !grid.treeBase.expandAll}" ng-click="headerButtonClick($event)"></div>'),e.put("ui-grid/treeBaseHeaderCell",'<div><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-tree-base-expand-all-buttons></ui-grid-tree-base-expand-all-buttons></div></div>'),e.put("ui-grid/treeBaseRowHeader",'<div class="ui-grid-cell-contents"><ui-grid-tree-base-row-header-buttons></ui-grid-tree-base-row-header-buttons></div>'),e.put("ui-grid/treeBaseRowHeaderButtons","<div class=\"ui-grid-tree-base-row-header-buttons\" ng-class=\"{'ui-grid-tree-base-header': row.treeLevel > -1 }\" ng-click=\"treeButtonClick(row, $event)\"><i ng-class=\"{'ui-grid-icon-minus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'expanded', 'ui-grid-icon-plus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'collapsed'}\" ng-style=\"{'padding-left': grid.options.treeIndent * row.treeLevel + 'px'}\"></i> &nbsp;</div>")}]);